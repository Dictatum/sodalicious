{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Downloads/sodalicious/lib/menu-data.ts"],"sourcesContent":["/**\r\n * SODALICIOUS.CO â€“ Complete POS Menu Data\r\n * Synced across Cashier, Manager, and Inventory panels\r\n * All prices in PHP, Stock quantities for tracking\r\n */\r\n\r\nexport interface MenuItem {\r\n  id: string\r\n  name: string\r\n  category: string\r\n  categoryCode: string\r\n  sizes: Array<{\r\n    size: string\r\n    price: number\r\n  }>\r\n  description?: string\r\n  stock: number\r\n  minThreshold: number\r\n  image?: string\r\n}\r\n\r\n// â˜• HOT COFFEE\r\nexport const HOT_COFFEE: MenuItem[] = [\r\n  {\r\n    id: \"HC001\",\r\n    name: \"Americano\",\r\n    category: \"Hot Coffee\",\r\n    categoryCode: \"HC\",\r\n    sizes: [\r\n      { size: \"S\", price: 45 },\r\n      { size: \"M\", price: 55 },\r\n      { size: \"L\", price: 65 },\r\n    ],\r\n    description: \"Classic Italian espresso with hot water\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n  {\r\n    id: \"HC002\",\r\n    name: \"CafÃ© Latte\",\r\n    category: \"Hot Coffee\",\r\n    categoryCode: \"HC\",\r\n    sizes: [\r\n      { size: \"S\", price: 55 },\r\n      { size: \"M\", price: 65 },\r\n      { size: \"L\", price: 75 },\r\n    ],\r\n    description: \"Smooth espresso with steamed milk\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n  {\r\n    id: \"HC003\",\r\n    name: \"Cappuccino\",\r\n    category: \"Hot Coffee\",\r\n    categoryCode: \"HC\",\r\n    sizes: [\r\n      { size: \"S\", price: 55 },\r\n      { size: \"M\", price: 65 },\r\n      { size: \"L\", price: 75 },\r\n    ],\r\n    description: \"Espresso with equal parts milk and foam\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n  {\r\n    id: \"HC004\",\r\n    name: \"Caramel Macchiato\",\r\n    category: \"Hot Coffee\",\r\n    categoryCode: \"HC\",\r\n    sizes: [\r\n      { size: \"S\", price: 60 },\r\n      { size: \"M\", price: 70 },\r\n      { size: \"L\", price: 80 },\r\n    ],\r\n    description: \"Rich espresso with caramel and steamed milk\",\r\n    stock: 40,\r\n    minThreshold: 8,\r\n  },\r\n  {\r\n    id: \"HC005\",\r\n    name: \"Mocha\",\r\n    category: \"Hot Coffee\",\r\n    categoryCode: \"HC\",\r\n    sizes: [\r\n      { size: \"S\", price: 60 },\r\n      { size: \"M\", price: 70 },\r\n      { size: \"L\", price: 80 },\r\n    ],\r\n    description: \"Espresso, steamed milk, and chocolate\",\r\n    stock: 40,\r\n    minThreshold: 8,\r\n  },\r\n]\r\n\r\n// ðŸ§Š ICED COFFEE\r\nexport const ICED_COFFEE: MenuItem[] = [\r\n  {\r\n    id: \"IC001\",\r\n    name: \"Iced Americano\",\r\n    category: \"Iced Coffee\",\r\n    categoryCode: \"IC\",\r\n    sizes: [\r\n      { size: \"R\", price: 55 },\r\n      { size: \"L\", price: 65 },\r\n    ],\r\n    description: \"Cold espresso with ice and water\",\r\n    stock: 40,\r\n    minThreshold: 12,\r\n  },\r\n  {\r\n    id: \"IC002\",\r\n    name: \"Iced Latte\",\r\n    category: \"Iced Coffee\",\r\n    categoryCode: \"IC\",\r\n    sizes: [\r\n      { size: \"R\", price: 65 },\r\n      { size: \"L\", price: 75 },\r\n    ],\r\n    description: \"Smooth iced espresso with cold milk\",\r\n    stock: 40,\r\n    minThreshold: 12,\r\n  },\r\n  {\r\n    id: \"IC003\",\r\n    name: \"Iced Caramel\",\r\n    category: \"Iced Coffee\",\r\n    categoryCode: \"IC\",\r\n    sizes: [\r\n      { size: \"R\", price: 70 },\r\n      { size: \"L\", price: 80 },\r\n    ],\r\n    description: \"Iced espresso with caramel and milk\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n  {\r\n    id: \"IC004\",\r\n    name: \"Iced Vanilla Brew\",\r\n    category: \"Iced Coffee\",\r\n    categoryCode: \"IC\",\r\n    sizes: [\r\n      { size: \"R\", price: 65 },\r\n      { size: \"L\", price: 75 },\r\n    ],\r\n    description: \"Cold brew with vanilla essence\",\r\n    stock: 40,\r\n    minThreshold: 12,\r\n  },\r\n  {\r\n    id: \"IC005\",\r\n    name: \"Iced Mocha\",\r\n    category: \"Iced Coffee\",\r\n    categoryCode: \"IC\",\r\n    sizes: [\r\n      { size: \"R\", price: 70 },\r\n      { size: \"L\", price: 80 },\r\n    ],\r\n    description: \"Iced espresso with chocolate and milk\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n]\r\n\r\n// ðŸ¥¤ FRAPPES\r\nexport const FRAPPES: MenuItem[] = [\r\n  {\r\n    id: \"FR001\",\r\n    name: \"Chocolate Frappe\",\r\n    category: \"Frappes\",\r\n    categoryCode: \"FR\",\r\n    sizes: [{ size: \"16oz\", price: 75 }],\r\n    description: \"Blended chocolate frappe with whipped cream\",\r\n    stock: 40,\r\n    minThreshold: 8,\r\n  },\r\n  {\r\n    id: \"FR002\",\r\n    name: \"Caramel Frappe\",\r\n    category: \"Frappes\",\r\n    categoryCode: \"FR\",\r\n    sizes: [{ size: \"16oz\", price: 75 }],\r\n    description: \"Blended caramel frappe with whipped cream\",\r\n    stock: 40,\r\n    minThreshold: 8,\r\n  },\r\n  {\r\n    id: \"FR003\",\r\n    name: \"Cookies & Cream Frappe\",\r\n    category: \"Frappes\",\r\n    categoryCode: \"FR\",\r\n    sizes: [{ size: \"16oz\", price: 80 }],\r\n    description: \"Cookies and cream blended frappe\",\r\n    stock: 40,\r\n    minThreshold: 8,\r\n  },\r\n  {\r\n    id: \"FR004\",\r\n    name: \"Matcha Frappe\",\r\n    category: \"Frappes\",\r\n    categoryCode: \"FR\",\r\n    sizes: [{ size: \"16oz\", price: 85 }],\r\n    description: \"Blended matcha frappe with whipped cream\",\r\n    stock: 40,\r\n    minThreshold: 6,\r\n  },\r\n  {\r\n    id: \"FR005\",\r\n    name: \"Coffee Jelly Frappe\",\r\n    category: \"Frappes\",\r\n    categoryCode: \"FR\",\r\n    sizes: [{ size: \"16oz\", price: 80 }],\r\n    description: \"Coffee frappe with coffee jelly bits\",\r\n    stock: 40,\r\n    minThreshold: 8,\r\n  },\r\n]\r\n\r\n// ðŸ«§ SODA SERIES\r\nexport const SODA_SERIES: MenuItem[] = [\r\n  {\r\n    id: \"SS001\",\r\n    name: \"Blue Lemon Soda\",\r\n    category: \"Soda Series\",\r\n    categoryCode: \"SS\",\r\n    sizes: [\r\n      { size: \"R\", price: 55 },\r\n      { size: \"L\", price: 65 },\r\n    ],\r\n    description: \"Refreshing blue lemon carbonated drink\",\r\n    stock: 40,\r\n    minThreshold: 15,\r\n  },\r\n  {\r\n    id: \"SS002\",\r\n    name: \"Strawberry Fizz\",\r\n    category: \"Soda Series\",\r\n    categoryCode: \"SS\",\r\n    sizes: [\r\n      { size: \"R\", price: 55 },\r\n      { size: \"L\", price: 65 },\r\n    ],\r\n    description: \"Sweet strawberry flavored soda\",\r\n    stock: 40,\r\n    minThreshold: 15,\r\n  },\r\n  {\r\n    id: \"SS003\",\r\n    name: \"Green Apple Soda\",\r\n    category: \"Soda Series\",\r\n    categoryCode: \"SS\",\r\n    sizes: [\r\n      { size: \"R\", price: 55 },\r\n      { size: \"L\", price: 65 },\r\n    ],\r\n    description: \"Crisp green apple soda\",\r\n    stock: 40,\r\n    minThreshold: 15,\r\n  },\r\n  {\r\n    id: \"SS004\",\r\n    name: \"Lychee Pop Soda\",\r\n    category: \"Soda Series\",\r\n    categoryCode: \"SS\",\r\n    sizes: [\r\n      { size: \"R\", price: 60 },\r\n      { size: \"L\", price: 70 },\r\n    ],\r\n    description: \"Tropical lychee flavored soda\",\r\n    stock: 40,\r\n    minThreshold: 12,\r\n  },\r\n  {\r\n    id: \"SS005\",\r\n    name: \"Mango Burst Soda\",\r\n    category: \"Soda Series\",\r\n    categoryCode: \"SS\",\r\n    sizes: [\r\n      { size: \"R\", price: 60 },\r\n      { size: \"L\", price: 70 },\r\n    ],\r\n    description: \"Tropical mango soda explosion\",\r\n    stock: 40,\r\n    minThreshold: 12,\r\n  },\r\n]\r\n\r\n// ðŸ§ƒ YAKULT SERIES\r\nexport const YAKULT_SERIES: MenuItem[] = [\r\n  {\r\n    id: \"YK001\",\r\n    name: \"Blue Yakult\",\r\n    category: \"Yakult Series\",\r\n    categoryCode: \"YK\",\r\n    sizes: [\r\n      { size: \"R\", price: 60 },\r\n      { size: \"L\", price: 70 },\r\n    ],\r\n    description: \"Probiotic blue flavored Yakult\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n  {\r\n    id: \"YK002\",\r\n    name: \"Strawberry Yakult\",\r\n    category: \"Yakult Series\",\r\n    categoryCode: \"YK\",\r\n    sizes: [\r\n      { size: \"R\", price: 60 },\r\n      { size: \"L\", price: 70 },\r\n    ],\r\n    description: \"Probiotic strawberry Yakult\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n  {\r\n    id: \"YK003\",\r\n    name: \"Green Apple Yakult\",\r\n    category: \"Yakult Series\",\r\n    categoryCode: \"YK\",\r\n    sizes: [\r\n      { size: \"R\", price: 60 },\r\n      { size: \"L\", price: 70 },\r\n    ],\r\n    description: \"Probiotic green apple Yakult\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n  {\r\n    id: \"YK004\",\r\n    name: \"Mango Yakult\",\r\n    category: \"Yakult Series\",\r\n    categoryCode: \"YK\",\r\n    sizes: [\r\n      { size: \"R\", price: 60 },\r\n      { size: \"L\", price: 70 },\r\n    ],\r\n    description: \"Probiotic mango Yakult\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n  {\r\n    id: \"YK005\",\r\n    name: \"Lychee Yakult\",\r\n    category: \"Yakult Series\",\r\n    categoryCode: \"YK\",\r\n    sizes: [\r\n      { size: \"R\", price: 60 },\r\n      { size: \"L\", price: 70 },\r\n    ],\r\n    description: \"Probiotic lychee Yakult\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n]\r\n\r\n// ðŸµ MATCHA SERIES\r\nexport const MATCHA_SERIES: MenuItem[] = [\r\n  {\r\n    id: \"MC001\",\r\n    name: \"Classic Matcha\",\r\n    category: \"Matcha Series\",\r\n    categoryCode: \"MC\",\r\n    sizes: [\r\n      { size: \"R\", price: 70 },\r\n      { size: \"L\", price: 80 },\r\n    ],\r\n    description: \"Traditional matcha powder blend\",\r\n    stock: 40,\r\n    minThreshold: 8,\r\n  },\r\n  {\r\n    id: \"MC002\",\r\n    name: \"Matcha Latte\",\r\n    category: \"Matcha Series\",\r\n    categoryCode: \"MC\",\r\n    sizes: [\r\n      { size: \"R\", price: 75 },\r\n      { size: \"L\", price: 85 },\r\n    ],\r\n    description: \"Matcha with steamed milk\",\r\n    stock: 40,\r\n    minThreshold: 8,\r\n  },\r\n  {\r\n    id: \"MC003\",\r\n    name: \"Matcha Caramel\",\r\n    category: \"Matcha Series\",\r\n    categoryCode: \"MC\",\r\n    sizes: [\r\n      { size: \"R\", price: 80 },\r\n      { size: \"L\", price: 90 },\r\n    ],\r\n    description: \"Matcha with caramel drizzle\",\r\n    stock: 40,\r\n    minThreshold: 6,\r\n  },\r\n  {\r\n    id: \"MC004\",\r\n    name: \"Matcha Vanilla\",\r\n    category: \"Matcha Series\",\r\n    categoryCode: \"MC\",\r\n    sizes: [\r\n      { size: \"R\", price: 75 },\r\n      { size: \"L\", price: 85 },\r\n    ],\r\n    description: \"Matcha with vanilla essence\",\r\n    stock: 40,\r\n    minThreshold: 8,\r\n  },\r\n  {\r\n    id: \"MC005\",\r\n    name: \"Dirty Matcha\",\r\n    category: \"Matcha Series\",\r\n    categoryCode: \"MC\",\r\n    sizes: [\r\n      { size: \"R\", price: 85 },\r\n      { size: \"L\", price: 95 },\r\n    ],\r\n    description: \"Matcha with espresso shot\",\r\n    stock: 40,\r\n    minThreshold: 6,\r\n  },\r\n]\r\n\r\n// ðŸ± COMBO MEALS\r\nexport const COMBO_MEALS: MenuItem[] = [\r\n  {\r\n    id: \"CM001\",\r\n    name: \"Fries + Soda\",\r\n    category: \"Combo Meals\",\r\n    categoryCode: \"CM\",\r\n    sizes: [{ size: \"Combo\", price: 99 }],\r\n    description: \"Regular Fries + Regular Soda\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n  {\r\n    id: \"CM002\",\r\n    name: \"Siomai Rice + Soda\",\r\n    category: \"Combo Meals\",\r\n    categoryCode: \"CM\",\r\n    sizes: [{ size: \"Combo\", price: 110 }],\r\n    description: \"Siomai Rice + Regular Soda\",\r\n    stock: 40,\r\n    minThreshold: 8,\r\n  },\r\n  {\r\n    id: \"CM003\",\r\n    name: \"Burger + Soda\",\r\n    category: \"Combo Meals\",\r\n    categoryCode: \"CM\",\r\n    sizes: [{ size: \"Combo\", price: 120 }],\r\n    description: \"Cheeseburger + Regular Soda\",\r\n    stock: 40,\r\n    minThreshold: 8,\r\n  },\r\n  {\r\n    id: \"CM004\",\r\n    name: \"Nuggets + Soda\",\r\n    category: \"Combo Meals\",\r\n    categoryCode: \"CM\",\r\n    sizes: [{ size: \"Combo\", price: 115 }],\r\n    description: \"6pcs Nuggets + Regular Soda\",\r\n    stock: 40,\r\n    minThreshold: 8,\r\n  },\r\n  {\r\n    id: \"CM005\",\r\n    name: \"Hotdog + Soda\",\r\n    category: \"Combo Meals\",\r\n    categoryCode: \"CM\",\r\n    sizes: [{ size: \"Combo\", price: 99 }],\r\n    description: \"Hotdog Sandwich + Regular Soda\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n]\r\n\r\n// ðŸŸ SNACKS\r\nexport const SNACKS: MenuItem[] = [\r\n  {\r\n    id: \"SN001\",\r\n    name: \"Fries\",\r\n    category: \"Snacks\",\r\n    categoryCode: \"SN\",\r\n    sizes: [\r\n      { size: \"Reg\", price: 45 },\r\n      { size: \"Lrg\", price: 60 },\r\n    ],\r\n    description: \"Crispy golden fries\",\r\n    stock: 40,\r\n    minThreshold: 15,\r\n  },\r\n  {\r\n    id: \"SN002\",\r\n    name: \"Kropek\",\r\n    category: \"Snacks\",\r\n    categoryCode: \"SN\",\r\n    sizes: [{ size: \"Solo\", price: 45 }],\r\n    description: \"Crispy prawn cracker\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n  {\r\n    id: \"SN003\",\r\n    name: \"Nachos\",\r\n    category: \"Snacks\",\r\n    categoryCode: \"SN\",\r\n    sizes: [{ size: \"Solo\", price: 60 }],\r\n    description: \"Cheese nachos with dip\",\r\n    stock: 40,\r\n    minThreshold: 8,\r\n  },\r\n  {\r\n    id: \"SN004\",\r\n    name: \"Cheese Sticks\",\r\n    category: \"Snacks\",\r\n    categoryCode: \"SN\",\r\n    sizes: [{ size: \"6 pcs\", price: 50 }],\r\n    description: \"Golden fried cheese sticks\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n  {\r\n    id: \"SN005\",\r\n    name: \"Siomai Rice\",\r\n    category: \"Snacks\",\r\n    categoryCode: \"SN\",\r\n    sizes: [{ size: \"Solo\", price: 55 }],\r\n    description: \"Siomai served with rice\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n]\r\n\r\n// Combined complete menu\r\nexport const COMPLETE_MENU: MenuItem[] = [\r\n  ...HOT_COFFEE,\r\n  ...ICED_COFFEE,\r\n  ...FRAPPES,\r\n  ...SODA_SERIES,\r\n  ...YAKULT_SERIES,\r\n  ...MATCHA_SERIES,\r\n  ...COMBO_MEALS,\r\n  ...SNACKS,\r\n]\r\n\r\n// Menu categories for filtering\r\nexport const MENU_CATEGORIES = [\r\n  { code: \"HC\", name: \"Hot Coffee\", emoji: \"â˜•\" },\r\n  { code: \"IC\", name: \"Iced Coffee\", emoji: \"ðŸ§Š\" },\r\n  { code: \"FR\", name: \"Frappes\", emoji: \"ðŸ¥¤\" },\r\n  { code: \"SS\", name: \"Soda Series\", emoji: \"ðŸ«§\" },\r\n  { code: \"YK\", name: \"Yakult Series\", emoji: \"ðŸ§ƒ\" },\r\n  { code: \"MC\", name: \"Matcha Series\", emoji: \"ðŸµ\" },\r\n  { code: \"CM\", name: \"Combo Meals\", emoji: \"ðŸ±\" },\r\n  { code: \"SN\", name: \"Snacks\", emoji: \"ðŸŸ\" },\r\n]\r\n\r\n// Helper function to get menu items by category\r\nexport function getMenuByCategory(categoryCode: string): MenuItem[] {\r\n  return COMPLETE_MENU.filter((item) => item.categoryCode === categoryCode)\r\n}\r\n\r\n// Helper function to get all categories\r\nexport function getAllCategories(): string[] {\r\n  return MENU_CATEGORIES.map((cat) => cat.name)\r\n}\r\n\r\n// Helper function to convert MenuItem to Product format for store compatibility\r\nexport function menuItemToProduct(item: MenuItem, sizeIndex: number = 0) {\r\n  const size = item.sizes[sizeIndex]\r\n  return {\r\n    id: item.id,\r\n    name: `${item.name} (${size.size})`,\r\n    price: size.price,\r\n    category: item.category,\r\n    stock: item.stock,\r\n    minThreshold: item.minThreshold,\r\n    description: item.description,\r\n    image: item.image,\r\n  }\r\n}\r\n\r\n// Get all products flattened with sizes as separate entries\r\nexport function getAllProductVariants() {\r\n  return COMPLETE_MENU.flatMap((item) =>\r\n    item.sizes.map((size, index) => ({\r\n      id: `${item.id}-${size.size}`,\r\n      baseId: item.id,\r\n      name: item.name,\r\n      size: size.size,\r\n      price: size.price,\r\n      category: item.category,\r\n      categoryCode: item.categoryCode,\r\n      stock: item.stock,\r\n      minThreshold: item.minThreshold,\r\n      description: item.description,\r\n      image: item.image,\r\n    })),\r\n  )\r\n}\r\n\r\n// Get base menu items (one per drink, no size duplication) - for cashier modal selection\r\nexport function getBaseMenuItems() {\r\n  return COMPLETE_MENU.map((item) => ({\r\n    id: item.id,\r\n    name: item.name,\r\n    category: item.category,\r\n    categoryCode: item.categoryCode,\r\n    sizes: item.sizes,\r\n    description: item.description,\r\n    stock: item.stock,\r\n    minThreshold: item.minThreshold,\r\n    image: item.image,\r\n  }))\r\n}\r\n\r\n// Stock management functions\r\nexport function deductStock(productId: string, quantity: number): boolean {\r\n  const item = COMPLETE_MENU.find((i) => i.id === productId)\r\n  if (!item) return false\r\n  if (item.stock < quantity) return false\r\n  \r\n  item.stock -= quantity\r\n  return true\r\n}\r\n\r\nexport function getProductById(productId: string): MenuItem | undefined {\r\n  return COMPLETE_MENU.find((i) => i.id === productId)\r\n}\r\n\r\nexport function updateProductStock(productId: string, newStock: number): boolean {\r\n  const item = COMPLETE_MENU.find((i) => i.id === productId)\r\n  if (!item) return false\r\n  \r\n  item.stock = Math.max(0, newStock)\r\n  return true\r\n}\r\n\r\n// Find a menu item by base name (e.g. \"Americano\")\r\nexport function findMenuItemByName(baseName: string) {\r\n  return COMPLETE_MENU.find((i) => i.name === baseName)\r\n}\r\n\r\n// Adjust stock by a delta using the base product name. Positive delta = restock.\r\nexport function changeStockByName(baseName: string, delta: number): boolean {\r\n  const item = findMenuItemByName(baseName)\r\n  if (!item) return false\r\n  item.stock = Math.max(0, item.stock + delta)\r\n  return true\r\n}\r\n\r\n// Set absolute stock by base product name.\r\nexport function setStockByName(baseName: string, newStock: number): boolean {\r\n  const item = findMenuItemByName(baseName)\r\n  if (!item) return false\r\n  item.stock = Math.max(0, newStock)\r\n  return true\r\n}\r\n\r\nexport function getStockLevel(productId: string): number {\r\n  const item = COMPLETE_MENU.find((i) => i.id === productId)\r\n  return item?.stock || 0\r\n}\r\n\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 932, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Downloads/sodalicious/lib/store.ts"],"sourcesContent":["export interface Product {\r\n  id: string | number\r\n  name: string\r\n  price: number\r\n  category: string\r\n  stock: number\r\n  minThreshold: number\r\n  description?: string\r\n  image?: string\r\n  size?: string\r\n  baseId?: string\r\n  categoryCode?: string\r\n}\r\n\r\nexport interface CartItem {\r\n  id: string\r\n  productId?: string\r\n  name: string\r\n  size: string\r\n  price: number\r\n  quantity: number\r\n}\r\n\r\nexport interface OrderItem {\r\n  id: number\r\n  name: string\r\n  price: number\r\n  quantity: number\r\n}\r\n\r\nexport interface Order {\r\n  id: string\r\n  customer: string\r\n  items: OrderItem[]\r\n  subtotal: number\r\n  tax: number\r\n  total: number\r\n  paymentMethod: \"cash\" | \"gcash\" | \"card\" | \"ewallet\"\r\n  status: \"Pending\" | \"Preparing\" | \"Completed\"\r\n  timestamp: string\r\n  cashierName?: string\r\n}\r\n\r\nexport interface User {\r\n  id: number\r\n  name: string\r\n  username: string\r\n  password: string\r\n  role: \"cashier\" | \"manager\" | \"inventory\"\r\n  status: \"Active\" | \"Inactive\"\r\n  lastLogin?: string\r\n}\r\n\r\nexport interface InventoryLog {\r\n  id: number\r\n  productId: number\r\n  productName: string\r\n  type: \"sale\" | \"restock\" | \"damage\" | \"waste\"\r\n  quantity: number\r\n  reason?: string\r\n  timestamp: string\r\n  userId: number\r\n  userName: string\r\n}\r\n\r\nexport interface ActivityLog {\r\n  id: number\r\n  type: string\r\n  action: string\r\n  details: string\r\n  userId: number\r\n  userName: string\r\n  timestamp: string\r\n}\r\n\r\n// Initial mock data - imported from complete menu\r\nimport { getAllProductVariants } from \"./menu-data\"\r\n\r\nexport const mockProducts: Product[] = getAllProductVariants().map((item) => ({\r\n  id: item.id,\r\n  baseId: item.baseId,\r\n  name: item.name,\r\n  price: item.price,\r\n  size: item.size,\r\n  category: item.category,\r\n  categoryCode: item.categoryCode,\r\n  stock: item.stock,\r\n  minThreshold: item.minThreshold,\r\n  description: item.description,\r\n  image: item.image,\r\n}))\r\n\r\nexport const mockUsers: User[] = [\r\n  {\r\n    id: 1,\r\n    name: \"Maria Santos\",\r\n    username: \"maria\",\r\n    password: \"password\",\r\n    role: \"cashier\",\r\n    status: \"Active\",\r\n    lastLogin: \"2025-11-11 09:30\",\r\n  },\r\n  {\r\n    id: 2,\r\n    name: \"Juan Dela Cruz\",\r\n    username: \"juan\",\r\n    password: \"password\",\r\n    role: \"inventory\",\r\n    status: \"Active\",\r\n    lastLogin: \"2025-11-11 08:00\",\r\n  },\r\n  { id: 3, name: \"Rosa Reyes\", username: \"rosa\", password: \"password\", role: \"cashier\", status: \"Inactive\" },\r\n  {\r\n    id: 4,\r\n    name: \"Admin Manager\",\r\n    username: \"admin\",\r\n    password: \"password\",\r\n    role: \"manager\",\r\n    status: \"Active\",\r\n    lastLogin: \"2025-11-11 07:00\",\r\n  },\r\n]\r\n\r\nexport const mockOrders: Order[] = [\r\n  {\r\n    id: \"ORD00001\",\r\n    customer: \"John Doe\",\r\n    items: [{ id: 1, name: \"Iced Calamansi Soda\", price: 65, quantity: 2 }],\r\n    subtotal: 130,\r\n    tax: 10.4,\r\n    total: 140.4,\r\n    paymentMethod: \"cash\",\r\n    status: \"Completed\",\r\n    timestamp: \"2025-11-11 14:30\",\r\n    cashierName: \"Maria Santos\",\r\n  },\r\n]\r\n\r\n// API helper functions for database operations\r\nexport const api = {\r\n  async getProducts(category?: string) {\r\n    const url = new URL(\r\n      \"/api/products\",\r\n      typeof window !== \"undefined\" ? window.location.origin : \"http://localhost:3000\",\r\n    )\r\n    if (category) url.searchParams.append(\"category\", category)\r\n    const res = await fetch(url)\r\n    if (!res.ok) throw new Error(\"Failed to fetch products\")\r\n    return res.json()\r\n  },\r\n\r\n  async getOrders() {\r\n    const res = await fetch(\"/api/orders\")\r\n    if (!res.ok) throw new Error(\"Failed to fetch orders\")\r\n    return res.json()\r\n  },\r\n\r\n  async createOrder(data: any) {\r\n    const res = await fetch(\"/api/orders\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(data),\r\n    })\r\n    if (!res.ok) throw new Error(\"Failed to create order\")\r\n    return res.json()\r\n  },\r\n\r\n  async createProduct(data: any) {\r\n    const res = await fetch(\"/api/products\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(data),\r\n    })\r\n    if (!res.ok) throw new Error(\"Failed to create product\")\r\n    return res.json()\r\n  },\r\n\r\n  async updateProduct(id: number, data: any) {\r\n    const res = await fetch(`/api/products/${id}`, {\r\n      method: \"PUT\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(data),\r\n    })\r\n    if (!res.ok) throw new Error(\"Failed to update product\")\r\n    return res.json()\r\n  },\r\n\r\n  async deleteProduct(id: number) {\r\n    const res = await fetch(`/api/products/${id}`, {\r\n      method: \"DELETE\",\r\n    })\r\n    if (!res.ok) throw new Error(\"Failed to delete product\")\r\n    return res.json()\r\n  },\r\n\r\n  async logInventoryChange(data: any) {\r\n    const res = await fetch(\"/api/inventory\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(data),\r\n    })\r\n    if (!res.ok) throw new Error(\"Failed to log inventory change\")\r\n    return res.json()\r\n  },\r\n\r\n  async getInventoryLogs() {\r\n    const res = await fetch(\"/api/inventory\")\r\n    if (!res.ok) throw new Error(\"Failed to fetch inventory logs\")\r\n    return res.json()\r\n  },\r\n\r\n  async getActivityLogs() {\r\n    const res = await fetch(\"/api/activity-logs\")\r\n    if (!res.ok) throw new Error(\"Failed to fetch activity logs\")\r\n    return res.json()\r\n  },\r\n\r\n  async logActivity(data: any) {\r\n    const res = await fetch(\"/api/activity-logs\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(data),\r\n    })\r\n    if (!res.ok) throw new Error(\"Failed to log activity\")\r\n    return res.json()\r\n  },\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1106, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Downloads/sodalicious/lib/hooks.ts"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useCallback, useEffect } from \"react\"\r\nimport {\r\n  type Product,\r\n  type Order,\r\n  type User,\r\n  type InventoryLog,\r\n  type ActivityLog,\r\n  mockProducts,\r\n  mockOrders,\r\n  mockUsers,\r\n  api,\r\n} from \"./store\"\r\nimport type { Order as DBOrder } from \"./db\"\r\nimport { COMPLETE_MENU, getAllProductVariants, MENU_CATEGORIES, getBaseMenuItems } from \"./menu-data\"\r\n\r\nexport function useProducts() {\r\n  const [products, setProducts] = useState<Product[]>(mockProducts)\r\n\r\n  const addProduct = useCallback(\r\n    (product: Omit<Product, \"id\">) => {\r\n      const newProduct = { ...product, id: Math.max(...products.map((p) => Number(p.id)), 0) + 1 }\r\n      setProducts([...products, newProduct])\r\n      return newProduct\r\n    },\r\n    [products],\r\n  )\r\n\r\n  const updateProduct = useCallback(\r\n    (id: number, updates: Partial<Product>) => {\r\n      setProducts(products.map((p) => (p.id === id ? { ...p, ...updates } : p)))\r\n    },\r\n    [products],\r\n  )\r\n\r\n  const deleteProduct = useCallback(\r\n    (id: number) => {\r\n      setProducts(products.filter((p) => p.id !== id))\r\n    },\r\n    [products],\r\n  )\r\n\r\n  const getLowStockItems = useCallback(() => {\r\n    return products.filter((p) => p.stock <= p.minThreshold)\r\n  }, [products])\r\n\r\n  return { products, addProduct, updateProduct, deleteProduct, getLowStockItems }\r\n}\r\n\r\nexport function useDatabaseProducts(category?: string) {\r\n  const [products, setProducts] = useState<Product[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState<string | null>(null)\r\n\r\n  const fetchProducts = useCallback(async () => {\r\n    try {\r\n      setLoading(true)\r\n      const data = await api.getProducts(category)\r\n      setProducts(data)\r\n      setError(null)\r\n    } catch (err) {\r\n      console.error(\"[v0] Error fetching products:\", err)\r\n      setError(err instanceof Error ? err.message : \"Failed to fetch products\")\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }, [category])\r\n\r\n  useEffect(() => {\r\n    fetchProducts()\r\n  }, [fetchProducts])\r\n\r\n  return { products, loading, error, refetch: fetchProducts }\r\n}\r\n\r\nexport function useOrders() {\r\n  const [orders, setOrders] = useState<Order[]>(mockOrders)\r\n\r\n  const addOrder = useCallback(\r\n    (order: Order) => {\r\n      setOrders([...orders, order])\r\n    },\r\n    [orders],\r\n  )\r\n\r\n  const updateOrderStatus = useCallback(\r\n    (orderId: string, status: Order[\"status\"]) => {\r\n      setOrders(orders.map((o) => (o.id === orderId ? { ...o, status } : o)))\r\n    },\r\n    [orders],\r\n  )\r\n\r\n  const getTodaysSales = useCallback(() => {\r\n    return orders.filter((o) => o.timestamp.startsWith(\"2025-11-11\")).reduce((sum, o) => sum + o.total, 0)\r\n  }, [orders])\r\n\r\n  return { orders, addOrder, updateOrderStatus, getTodaysSales }\r\n}\r\n\r\nexport function useDatabaseOrders() {\r\n  const [orders, setOrders] = useState<DBOrder[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState<string | null>(null)\r\n\r\n  const fetchOrders = useCallback(async () => {\r\n    try {\r\n      setLoading(true)\r\n      const data = await api.getOrders()\r\n      setOrders(data)\r\n      setError(null)\r\n    } catch (err) {\r\n      console.error(\"[v0] Error fetching orders:\", err)\r\n      setError(err instanceof Error ? err.message : \"Failed to fetch orders\")\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    fetchOrders()\r\n    // Poll every 2 seconds for real-time sync\r\n    const interval = setInterval(() => {\r\n      fetchOrders()\r\n    }, 2000)\r\n    return () => clearInterval(interval)\r\n  }, [fetchOrders])\r\n\r\n  const createOrder = useCallback(async (data: any) => {\r\n    try {\r\n      const order = await api.createOrder(data)\r\n      setOrders((prev) => [order, ...prev])\r\n      return order\r\n    } catch (err) {\r\n      console.error(\"[v0] Error creating order:\", err)\r\n      throw err\r\n    }\r\n  }, [])\r\n\r\n  return { orders, loading, error, createOrder, refetch: fetchOrders }\r\n}\r\n\r\nexport function useUsers() {\r\n  const [users, setUsers] = useState<User[]>(mockUsers)\r\n\r\n  const addUser = useCallback(\r\n    (user: Omit<User, \"id\">) => {\r\n      const newUser = { ...user, id: Math.max(...users.map((u) => u.id), 0) + 1 }\r\n      setUsers([...users, newUser])\r\n      return newUser\r\n    },\r\n    [users],\r\n  )\r\n\r\n  const updateUser = useCallback(\r\n    (id: number, updates: Partial<User>) => {\r\n      setUsers(users.map((u) => (u.id === id ? { ...u, ...updates } : u)))\r\n    },\r\n    [users],\r\n  )\r\n\r\n  const deleteUser = useCallback(\r\n    (id: number) => {\r\n      setUsers(users.filter((u) => u.id !== id))\r\n    },\r\n    [users],\r\n  )\r\n\r\n  return { users, addUser, updateUser, deleteUser }\r\n}\r\n\r\nexport function useInventoryLogs() {\r\n  const [logs, setLogs] = useState<InventoryLog[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  const fetchLogs = useCallback(async () => {\r\n    try {\r\n      setLoading(true)\r\n      const response = await fetch(\"/api/inventory\")\r\n      if (!response.ok) throw new Error(\"Failed to fetch inventory logs\")\r\n      const data = await response.json()\r\n      setLogs(data || [])\r\n    } catch (err) {\r\n      console.error(\"[Inventory] Error fetching logs:\", err)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    fetchLogs()\r\n    // Poll every 2 seconds for real-time inventory sync\r\n    const interval = setInterval(() => {\r\n      fetchLogs()\r\n    }, 2000)\r\n    return () => clearInterval(interval)\r\n  }, [fetchLogs])\r\n\r\n  const addLog = useCallback(\r\n    (log: Omit<InventoryLog, \"id\">) => {\r\n      const newLog = { ...log, id: Math.max(...logs.map((l) => l.id), 0) + 1 }\r\n      setLogs([...logs, newLog])\r\n    },\r\n    [logs],\r\n  )\r\n\r\n  return { logs, addLog, refetch: fetchLogs, loading }\r\n}\r\n\r\nexport function useActivityLogs() {\r\n  const [logs, setLogs] = useState<ActivityLog[]>([])\r\n\r\n  const addLog = useCallback(\r\n    (log: Omit<ActivityLog, \"id\">) => {\r\n      const newLog = { ...log, id: Math.max(...logs.map((l) => l.id), 0) + 1 }\r\n      setLogs([...logs, newLog])\r\n    },\r\n    [logs],\r\n  )\r\n\r\n  return { logs, addLog }\r\n}\r\n\r\n/**\r\n * Menu Sync Hook\r\n * Provides synchronized menu data across Cashier, Manager, and Inventory panels\r\n * Pulls from the central menu-data.ts source\r\n */\r\n\r\nexport function useMenuSync() {\r\n  const [menuItems, setMenuItems] = useState(getBaseMenuItems())\r\n  const [categories] = useState(MENU_CATEGORIES)\r\n  const [selectedCategory, setSelectedCategory] = useState<string>(\"All\")\r\n\r\n  const getMenuByCategory = useCallback(\r\n    (category: string) => {\r\n      if (category === \"All\") return menuItems\r\n      return menuItems.filter((item) => item.category === category)\r\n    },\r\n    [menuItems],\r\n  )\r\n\r\n  const getMenuItemById = useCallback(\r\n    (id: string) => {\r\n      return menuItems.find((item) => item.id === id)\r\n    },\r\n    [menuItems],\r\n  )\r\n\r\n  const getAllCategories = useCallback(() => {\r\n    return [\"All\", ...categories.map((cat) => cat.name)]\r\n  }, [categories])\r\n\r\n  const getCategoryEmoji = useCallback(\r\n    (categoryName: string) => {\r\n      const category = categories.find((cat) => cat.name === categoryName)\r\n      return category?.emoji || \"ðŸ“Œ\"\r\n    },\r\n    [categories],\r\n  )\r\n\r\n  const getLowStockItems = useCallback(() => {\r\n    return menuItems.filter((item) => item.stock <= item.minThreshold)\r\n  }, [menuItems])\r\n\r\n  // Listen for external updates (other panels / API actions) and poll DB for cross-client sync\r\n  useEffect(() => {\r\n    const onMenuUpdate = () => setMenuItems(getBaseMenuItems())\r\n    if (typeof window !== \"undefined\") {\r\n      window.addEventListener(\"menu:update\", onMenuUpdate)\r\n    }\r\n\r\n    // Poll /api/products to reflect DB-backed stock changes across multiple clients\r\n    let mounted = true\r\n    const poll = async () => {\r\n      try {\r\n        const res = await fetch(\"/api/products\")\r\n        if (!res.ok) return\r\n        const data = await res.json()\r\n        if (!mounted) return\r\n        const stockMap = new Map<string, number>(data.map((p: any) => [p.name, p.stock_quantity]))\r\n        setMenuItems((prev) =>\r\n          prev.map((mi) => ({ ...mi, stock: stockMap.has(mi.name) ? (stockMap.get(mi.name) as number) : mi.stock })),\r\n        )\r\n      } catch (e) {\r\n        console.warn(\"[useMenuSync] poll error\", e)\r\n      }\r\n    }\r\n\r\n    // initial poll + interval\r\n    poll()\r\n    const id = setInterval(poll, 5000)\r\n\r\n    return () => {\r\n      if (typeof window !== \"undefined\") {\r\n        window.removeEventListener(\"menu:update\", onMenuUpdate)\r\n      }\r\n      mounted = false\r\n      clearInterval(id)\r\n    }\r\n  }, [])\r\n\r\n  return {\r\n    menuItems,\r\n    categories,\r\n    selectedCategory,\r\n    setSelectedCategory,\r\n    getMenuByCategory,\r\n    getMenuItemById,\r\n    getAllCategories,\r\n    getCategoryEmoji,\r\n    getLowStockItems,\r\n    // allow manual refresh when needed\r\n    refresh: () => setMenuItems(getBaseMenuItems()),\r\n  }\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1467, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Downloads/sodalicious/components/cashier-panel.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { useMenuSync } from \"@/lib/hooks\"\r\nimport { api, type CartItem } from \"@/lib/store\"\r\nimport { deductStock } from \"@/lib/menu-data\"\r\n\r\ninterface CashierPanelProps {\r\n  onLogout: () => void\r\n  currentUser: any\r\n}\r\n\r\nexport default function CashierPanel({ onLogout, currentUser }: CashierPanelProps) {\r\n  const menuSync = useMenuSync()\r\n  const [cart, setCart] = useState<CartItem[]>([])\r\n  const [selectedCategory, setSelectedCategory] = useState(\"All\")\r\n  const [searchTerm, setSearchTerm] = useState(\"\")\r\n  const [paymentMethod, setPaymentMethod] = useState<\"cash\" | \"gcash\" | \"card\" | \"e-wallet\">(\"cash\")\r\n  const [customerName, setCustomerName] = useState(\"\")\r\n  const [showReceipt, setShowReceipt] = useState(false)\r\n  const [lastOrder, setLastOrder] = useState<any>(null)\r\n  const [checkoutLoading, setCheckoutLoading] = useState(false)\r\n  \r\n  // Size selection modal state\r\n  const [showSizeModal, setShowSizeModal] = useState(false)\r\n  const [selectedItem, setSelectedItem] = useState<any>(null)\r\n\r\n  const categories = menuSync.getAllCategories()\r\n  const filteredItems = menuSync.getMenuByCategory(selectedCategory).filter((item) =>\r\n    item.name.toLowerCase().includes(searchTerm.toLowerCase()) && item.stock > 0\r\n  )\r\n\r\n  const handleItemClick = (item: any) => {\r\n    setSelectedItem(item)\r\n    setShowSizeModal(true)\r\n  }\r\n\r\n  const handleSizeSelect = (size: any) => {\r\n    if (selectedItem) {\r\n      const cartItemId = `${selectedItem.id}-${size.size}`\r\n      const existing = cart.find((c) => c.id === cartItemId)\r\n      \r\n      if (existing) {\r\n        setCart(cart.map((c) =>\r\n          c.id === cartItemId ? { ...c, quantity: c.quantity + 1 } : c\r\n        ))\r\n      } else {\r\n        setCart([\r\n          ...cart,\r\n          {\r\n            id: cartItemId,\r\n            productId: selectedItem.id,\r\n            name: selectedItem.name,\r\n            size: size.size,\r\n            price: size.price,\r\n            quantity: 1,\r\n          },\r\n        ])\r\n      }\r\n    }\r\n    setShowSizeModal(false)\r\n    setSelectedItem(null)\r\n  }\r\n\r\n  const removeFromCart = (cartItemId: string) => {\r\n    setCart(cart.filter((c) => c.id !== cartItemId))\r\n  }\r\n\r\n  const updateQuantity = (cartItemId: string, quantity: number) => {\r\n    if (quantity <= 0) {\r\n      removeFromCart(cartItemId)\r\n    } else {\r\n      setCart(cart.map((c) => (c.id === cartItemId ? { ...c, quantity } : c)))\r\n    }\r\n  }\r\n\r\n  const subtotal = cart.reduce((sum, item) => sum + item.price * item.quantity, 0)\r\n  const tax = subtotal * 0.08\r\n  const total = subtotal + tax\r\n\r\n  const handleCheckout = async () => {\r\n    if (cart.length === 0) return\r\n\r\n    setCheckoutLoading(true)\r\n    try {\r\n      const orderData = {\r\n        cashier_id: currentUser?.id || 1,\r\n        customer_name: customerName || \"Walk-in Customer\",\r\n        total_amount: total,\r\n        payment_method: paymentMethod,\r\n        items: cart.map((item) => ({\r\n          product_id: item.productId,\r\n          name: `${item.name} (${item.size})`,\r\n          quantity: item.quantity,\r\n          price: item.price,\r\n          subtotal: item.price * item.quantity,\r\n        })),\r\n      }\r\n\r\n      const order = await api.createOrder(orderData)\r\n\r\n      // Update local in-memory menu immediately so UI reflects new stock\r\n      try {\r\n        cart.forEach((item) => {\r\n          if (item.productId) deductStock(item.productId as string, item.quantity)\r\n        })\r\n        // notify other hooks/components to refresh their menu view\r\n        if (typeof window !== \"undefined\") {\r\n          window.dispatchEvent(new CustomEvent(\"menu:update\"))\r\n        }\r\n      } catch (e) {\r\n        console.warn(\"[menu] local deduct failed:\", e)\r\n      }\r\n\r\n      setLastOrder({\r\n        ...order,\r\n        items: cart,\r\n        subtotal,\r\n        tax,\r\n        total,\r\n      })\r\n      setShowReceipt(true)\r\n      setCart([])\r\n      setCustomerName(\"\")\r\n      setTimeout(() => setShowReceipt(false), 10000)\r\n    } catch (err) {\r\n      console.error(\"[POS] Checkout error:\", err)\r\n      alert(\"Failed to complete order. Please try again.\")\r\n    } finally {\r\n      setCheckoutLoading(false)\r\n    }\r\n  }\r\n\r\n  if (showReceipt && lastOrder) {\r\n    return (\r\n      <div className=\"min-h-screen bg-background flex items-center justify-center p-4\">\r\n        <div className=\"max-w-md w-full bg-card border border-border rounded-2xl p-8 text-center shadow-xl\">\r\n          <h2 className=\"text-3xl font-bold mb-4 text-foreground\">Order Successful!</h2>\r\n          <div className=\"bg-green-100 text-green-700 p-4 rounded-xl mb-6 border border-green-200\">\r\n            <p className=\"font-bold text-lg\">âœ“ Payment Received</p>\r\n            <p className=\"text-sm mt-2 font-medium\">{paymentMethod.toUpperCase()}</p>\r\n          </div>\r\n\r\n          <div className=\"text-left bg-muted p-6 rounded-xl mb-6\">\r\n            <p className=\"font-bold text-center mb-4 text-foreground\">RECEIPT</p>\r\n            <p className=\"text-sm mb-4 border-b border-border pb-4 text-foreground\">\r\n              Customer: <span className=\"font-bold\">{lastOrder.customer_name || customerName}</span>\r\n              <br />\r\n              Time: <span className=\"font-bold\">{new Date().toLocaleTimeString()}</span>\r\n            </p>\r\n            <div className=\"space-y-1 text-sm border-b border-border pb-4 mb-4 text-foreground\">\r\n              {lastOrder.items?.map((item: CartItem) => (\r\n                <div key={item.id} className=\"flex justify-between\">\r\n                  <span>\r\n                    {item.quantity}x {item.name} ({item.size})\r\n                  </span>\r\n                  <span className=\"font-semibold\">â‚±{(item.price * item.quantity).toFixed(2)}</span>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            <div className=\"space-y-1 text-sm font-bold text-foreground\">\r\n              <div className=\"flex justify-between\">\r\n                <span>Subtotal:</span>\r\n                <span>â‚±{lastOrder.subtotal?.toFixed(2) || \"0.00\"}</span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span>Tax:</span>\r\n                <span>â‚±{lastOrder.tax?.toFixed(2) || \"0.00\"}</span>\r\n              </div>\r\n              <div className=\"flex justify-between text-lg border-t border-border pt-2\">\r\n                <span>Total:</span>\r\n                <span className=\"text-primary\">â‚±{lastOrder.total?.toFixed(2) || lastOrder.total_amount?.toFixed(2) || \"0.00\"}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <button\r\n            onClick={() => setShowReceipt(false)}\r\n            className=\"w-full py-3 bg-primary text-primary-foreground rounded-lg font-semibold hover:bg-primary/90 transition-all\"\r\n          >\r\n            New Order\r\n          </button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-background\">\r\n      <div className=\"bg-primary text-primary-foreground border-b border-primary/20 p-4 flex justify-between items-center shadow-md\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold tracking-tight\">Sodalicious.Co</h1>\r\n          <p className=\"text-sm text-primary-foreground/80 font-medium\">POS Terminal</p>\r\n        </div>\r\n        <button\r\n          onClick={onLogout}\r\n          className=\"px-4 py-2 bg-primary-foreground text-primary rounded-lg font-semibold hover:bg-primary-foreground/90 transition-all\"\r\n        >\r\n          Logout\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"flex gap-4 p-4 h-[calc(100vh-80px)]\">\r\n        <div className=\"flex-1 flex flex-col\">\r\n          <div className=\"mb-4 space-y-3\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search products...\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              className=\"w-full px-4 py-3 border border-border rounded-lg bg-card focus:outline-none focus:ring-2 focus:ring-primary text-foreground transition-all\"\r\n            />\r\n            <div className=\"flex gap-2 overflow-x-auto pb-2\">\r\n              {categories.map((cat) => (\r\n                <button\r\n                  key={cat}\r\n                  onClick={() => setSelectedCategory(cat)}\r\n                  className={`px-4 py-2 rounded-lg whitespace-nowrap font-semibold transition-all ${\r\n                    selectedCategory === cat\r\n                      ? \"bg-primary text-primary-foreground shadow-md\"\r\n                      : \"bg-muted text-foreground hover:bg-muted/80 border border-border\"\r\n                  }`}\r\n                >\r\n                  <span className=\"mr-2\">{menuSync.getCategoryEmoji(cat)}</span>\r\n                  {cat}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex-1 overflow-y-auto grid grid-cols-4 gap-3\">\r\n            {filteredItems.map((item) => (\r\n              <button\r\n                key={item.id}\r\n                onClick={() => handleItemClick(item)}\r\n                disabled={item.stock <= 0}\r\n                className=\"bg-card border border-border rounded-xl p-4 hover:shadow-lg hover:border-primary/50 transition-all text-left group disabled:opacity-50 disabled:cursor-not-allowed\"\r\n              >\r\n                <div className=\"w-full h-20 bg-gradient-to-br from-primary/10 to-primary/5 rounded-lg mb-3 flex items-center justify-center border border-primary/20\">\r\n                  <span className=\"text-3xl\">{menuSync.getCategoryEmoji(item.category)}</span>\r\n                </div>\r\n                <p className=\"font-bold text-sm text-foreground line-clamp-2 group-hover:text-primary transition-colors\">\r\n                  {item.name}\r\n                </p>\r\n                <p className=\"text-xs text-muted-foreground mt-1\">\r\n                  {item.sizes.length} size{item.sizes.length !== 1 ? \"s\" : \"\"}\r\n                </p>\r\n                <p\r\n                  className={`text-xs font-semibold px-2 py-1 rounded-lg mt-2 ${\r\n                    item.stock <= item.minThreshold\r\n                      ? \"bg-red-100 text-red-700\"\r\n                      : \"bg-muted text-muted-foreground\"\r\n                  }`}\r\n                >\r\n                  {item.stock} left\r\n                </p>\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"w-80 bg-card border border-border rounded-2xl flex flex-col shadow-lg\">\r\n          <div className=\"p-5 border-b border-border bg-primary text-primary-foreground rounded-t-2xl\">\r\n            <h2 className=\"text-xl font-bold\">Cart</h2>\r\n          </div>\r\n\r\n          <div className=\"p-4 border-b border-border\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Customer name (optional)\"\r\n              value={customerName}\r\n              onChange={(e) => setCustomerName(e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-border rounded-lg bg-muted focus:outline-none focus:ring-2 focus:ring-primary text-sm text-foreground transition-all\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"flex-1 overflow-y-auto p-4 space-y-2\">\r\n            {cart.length === 0 ? (\r\n              <p className=\"text-center text-muted-foreground py-8 font-medium\">Cart is empty</p>\r\n            ) : (\r\n              cart.map((item) => (\r\n                <div key={item.id} className=\"bg-muted border border-border p-3 rounded-lg hover:bg-muted/80 transition-colors\">\r\n                  <div className=\"flex justify-between items-start mb-2\">\r\n                    <div>\r\n                      <p className=\"font-semibold text-sm text-foreground\">{item.name}</p>\r\n                      <p className=\"text-xs text-muted-foreground\">{item.size}</p>\r\n                    </div>\r\n                    <button\r\n                      onClick={() => removeFromCart(item.id)}\r\n                      className=\"text-destructive hover:text-destructive/80 text-sm font-bold\"\r\n                    >\r\n                      âœ•\r\n                    </button>\r\n                  </div>\r\n                  <div className=\"flex justify-between items-center\">\r\n                    <div className=\"flex gap-1 bg-background rounded-lg p-1\">\r\n                      <button\r\n                        onClick={() => updateQuantity(item.id, item.quantity - 1)}\r\n                        className=\"px-2 py-1 bg-card rounded text-sm font-bold text-foreground hover:bg-muted transition-colors\"\r\n                      >\r\n                        âˆ’\r\n                      </button>\r\n                      <span className=\"px-3 py-1 text-sm font-bold text-foreground\">{item.quantity}</span>\r\n                      <button\r\n                        onClick={() => updateQuantity(item.id, item.quantity + 1)}\r\n                        className=\"px-2 py-1 bg-card rounded text-sm font-bold text-foreground hover:bg-muted transition-colors\"\r\n                      >\r\n                        +\r\n                      </button>\r\n                    </div>\r\n                    <p className=\"font-bold text-sm text-primary\">â‚±{(item.price * item.quantity).toFixed(2)}</p>\r\n                  </div>\r\n                </div>\r\n              ))\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"p-4 border-t border-border space-y-3\">\r\n            <div className=\"space-y-1 text-sm\">\r\n              <div className=\"flex justify-between text-muted-foreground\">\r\n                <span>Subtotal:</span>\r\n                <span>â‚±{subtotal.toFixed(2)}</span>\r\n              </div>\r\n              <div className=\"flex justify-between text-muted-foreground\">\r\n                <span>Tax (8%):</span>\r\n                <span>â‚±{tax.toFixed(2)}</span>\r\n              </div>\r\n              <div className=\"flex justify-between text-lg font-bold text-foreground border-t border-border pt-2\">\r\n                <span>Total:</span>\r\n                <span className=\"text-primary\">â‚±{total.toFixed(2)}</span>\r\n              </div>\r\n            </div>\r\n\r\n            <select\r\n              value={paymentMethod}\r\n              onChange={(e) => setPaymentMethod(e.target.value as any)}\r\n              className=\"w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground text-sm focus:outline-none focus:ring-2 focus:ring-primary\"\r\n            >\r\n              <option value=\"cash\">Cash</option>\r\n              <option value=\"gcash\">GCash</option>\r\n              <option value=\"card\">Card</option>\r\n              <option value=\"e-wallet\">E-Wallet</option>\r\n            </select>\r\n\r\n            <button\r\n              onClick={handleCheckout}\r\n              disabled={cart.length === 0 || checkoutLoading}\r\n              className=\"w-full py-3 bg-primary text-primary-foreground rounded-lg font-bold hover:bg-primary/90 transition-all disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              {checkoutLoading ? \"Processing...\" : `Checkout (â‚±${total.toFixed(2)})`}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Size Selection Modal */}\r\n      {showSizeModal && selectedItem && (\r\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\">\r\n          <div className=\"bg-card border border-border rounded-2xl p-8 max-w-md w-full shadow-2xl\">\r\n            <h3 className=\"text-2xl font-bold mb-2 text-foreground\">{selectedItem.name}</h3>\r\n            <p className=\"text-sm text-muted-foreground mb-6\">{selectedItem.description}</p>\r\n\r\n            <div className=\"space-y-2 mb-6\">\r\n              {selectedItem.sizes.map((size: any) => (\r\n                <button\r\n                  key={size.size}\r\n                  onClick={() => handleSizeSelect(size)}\r\n                  className=\"w-full py-3 px-4 bg-muted hover:bg-muted/80 border border-border rounded-lg font-semibold text-foreground transition-all flex justify-between items-center\"\r\n                >\r\n                  <span>{size.size}</span>\r\n                  <span className=\"text-primary font-bold\">â‚±{size.price}</span>\r\n                </button>\r\n              ))}\r\n            </div>\r\n\r\n            <button\r\n              onClick={() => {\r\n                setShowSizeModal(false)\r\n                setSelectedItem(null)\r\n              }}\r\n              className=\"w-full py-2 px-4 bg-muted text-foreground rounded-lg font-semibold hover:bg-muted/80 transition-all\"\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2403, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Downloads/sodalicious/components/login-panel.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport type React from \"react\"\r\n\r\nimport { useState } from \"react\"\r\n\r\ninterface LoginPanelProps {\r\n  onLogin: (role: \"cashier\" | \"manager\" | \"inventory\" | string, user: any) => void\r\n}\r\n\r\nexport default function LoginPanel({ onLogin }: LoginPanelProps) {\r\n  const [email, setEmail] = useState(\"\")\r\n  const [password, setPassword] = useState(\"\")\r\n  const [loading, setLoading] = useState(false)\r\n  const [error, setError] = useState(\"\")\r\n\r\n  const handleLogin = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    setLoading(true)\r\n    setError(\"\")\r\n\r\n    try {\r\n      const response = await fetch(\"/api/auth/login\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ email, password }),\r\n      })\r\n\r\n      if (!response.ok) {\r\n        const contentType = response.headers.get(\"content-type\")\r\n        let errorMessage = \"Login failed\"\r\n\r\n        if (contentType?.includes(\"application/json\")) {\r\n          try {\r\n            const data = await response.json()\r\n            errorMessage = data.error || errorMessage\r\n          } catch {\r\n            errorMessage = `Server error (${response.status})`\r\n          }\r\n        } else {\r\n          errorMessage = `Server error (${response.status})`\r\n        }\r\n\r\n        setError(errorMessage)\r\n        return\r\n      }\r\n\r\n      const data = await response.json()\r\n\r\n      // Map role names for compatibility\r\n      const roleMap: Record<string, string> = {\r\n        cashier: \"cashier\",\r\n        manager: \"manager\",\r\n        inventory_officer: \"inventory\",\r\n      }\r\n\r\n      onLogin(roleMap[data.user.role] || data.user.role, data.user)\r\n      setEmail(\"\")\r\n      setPassword(\"\")\r\n    } catch (err) {\r\n      setError(\"Network error. Please try again.\")\r\n      console.error(\"[v0] Login error:\", err)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-primary to-primary/80 flex items-center justify-center p-4\">\r\n      <div className=\"bg-card rounded-2xl shadow-2xl p-8 w-full max-w-md border border-border\">\r\n        <div className=\"text-center mb-8\">\r\n          <h1 className=\"text-4xl font-bold text-foreground mb-2 tracking-tight\">Sodalicious.Co</h1>\r\n          <p className=\"text-muted-foreground text-sm font-medium\">Premium POS System</p>\r\n        </div>\r\n\r\n        <form onSubmit={handleLogin} className=\"space-y-4 mb-8\">\r\n          <input\r\n            type=\"email\"\r\n            placeholder=\"Email\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            className=\"w-full px-4 py-3 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary bg-card text-foreground transition-all\"\r\n            required\r\n          />\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            className=\"w-full px-4 py-3 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary bg-card text-foreground transition-all\"\r\n            required\r\n          />\r\n\r\n          {error && (\r\n            <div className=\"p-3 bg-destructive/10 border border-destructive/20 rounded-lg text-destructive text-sm font-medium\">\r\n              {error}\r\n            </div>\r\n          )}\r\n\r\n          <button\r\n            type=\"submit\"\r\n            disabled={loading}\r\n            className=\"w-full py-3 bg-primary text-primary-foreground rounded-lg font-semibold hover:bg-primary/90 disabled:opacity-50 transition-all shadow-md hover:shadow-lg\"\r\n          >\r\n            {loading ? \"Logging in...\" : \"Login\"}\r\n          </button>\r\n        </form>\r\n\r\n        <div className=\"space-y-2 pt-4 border-t border-border\">\r\n          <p className=\"text-center text-xs text-muted-foreground font-medium mb-3\">Demo Credentials:</p>\r\n          <div className=\"text-xs text-muted-foreground space-y-1\">\r\n            <p className=\"font-semibold\">Cashier: cashier@sodalicious.com / 123456</p>\r\n            <p className=\"font-semibold\">Manager: manager@sodalicious.com / 123456</p>\r\n            <p className=\"font-semibold\">Inventory: inventory@sodalicious.com / 123456</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAIA;AAJA;;;AAUe,SAAS,WAAW,EAAE,OAAO,EAAmB;IAC7D,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IAEnC,MAAM,cAAc,OAAO;QACzB,EAAE,cAAc;QAChB,WAAW;QACX,SAAS;QAET,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,mBAAmB;gBAC9C,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAO;gBAAS;YACzC;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,cAAc,SAAS,OAAO,CAAC,GAAG,CAAC;gBACzC,IAAI,eAAe;gBAEnB,IAAI,aAAa,SAAS,qBAAqB;oBAC7C,IAAI;wBACF,MAAM,OAAO,MAAM,SAAS,IAAI;wBAChC,eAAe,KAAK,KAAK,IAAI;oBAC/B,EAAE,OAAM;wBACN,eAAe,CAAC,cAAc,EAAE,SAAS,MAAM,CAAC,CAAC,CAAC;oBACpD;gBACF,OAAO;oBACL,eAAe,CAAC,cAAc,EAAE,SAAS,MAAM,CAAC,CAAC,CAAC;gBACpD;gBAEA,SAAS;gBACT;YACF;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAEhC,mCAAmC;YACnC,MAAM,UAAkC;gBACtC,SAAS;gBACT,SAAS;gBACT,mBAAmB;YACrB;YAEA,QAAQ,OAAO,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,EAAE,KAAK,IAAI;YAC5D,SAAS;YACT,YAAY;QACd,EAAE,OAAO,KAAK;YACZ,SAAS;YACT,QAAQ,KAAK,CAAC,qBAAqB;QACrC,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAAyD;;;;;;sCACvE,8OAAC;4BAAE,WAAU;sCAA4C;;;;;;;;;;;;8BAG3D,8OAAC;oBAAK,UAAU;oBAAa,WAAU;;sCACrC,8OAAC;4BACC,MAAK;4BACL,aAAY;4BACZ,OAAO;4BACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;4BACxC,WAAU;4BACV,QAAQ;;;;;;sCAEV,8OAAC;4BACC,MAAK;4BACL,aAAY;4BACZ,OAAO;4BACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;4BAC3C,WAAU;4BACV,QAAQ;;;;;;wBAGT,uBACC,8OAAC;4BAAI,WAAU;sCACZ;;;;;;sCAIL,8OAAC;4BACC,MAAK;4BACL,UAAU;4BACV,WAAU;sCAET,UAAU,kBAAkB;;;;;;;;;;;;8BAIjC,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAE,WAAU;sCAA6D;;;;;;sCAC1E,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAE,WAAU;8CAAgB;;;;;;8CAC7B,8OAAC;oCAAE,WAAU;8CAAgB;;;;;;8CAC7B,8OAAC;oCAAE,WAAU;8CAAgB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMzC","debugId":null}},
    {"offset": {"line": 2613, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Downloads/sodalicious/components/manager/product-management.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport type { useProducts } from \"@/lib/hooks\"\r\nimport { useMenuSync as useMenuSyncHook } from \"@/lib/hooks\"\r\nimport type { Product } from \"@/lib/store\"\r\n\r\ninterface ProductManagementProps {\r\n  products: ReturnType<typeof useProducts>\r\n}\r\n\r\nexport default function ProductManagement({ products }: ProductManagementProps) {\r\n  const menuSync = useMenuSyncHook()\r\n  const [showForm, setShowForm] = useState(false)\r\n  const [editingId, setEditingId] = useState<string | null>(null)\r\n  const [formData, setFormData] = useState<any>({\r\n    name: \"\",\r\n    price: 0,\r\n    category: \"Hot Coffee\",\r\n    stock: 0,\r\n    minThreshold: 5,\r\n    description: \"\",\r\n    size: \"M\",\r\n  })\r\n\r\n  const handleSubmit = () => {\r\n    if (editingId) {\r\n      products.updateProduct(parseInt(editingId), formData)\r\n      setEditingId(null)\r\n    } else {\r\n      products.addProduct(formData)\r\n    }\r\n    setShowForm(false)\r\n    setFormData({\r\n      name: \"\",\r\n      price: 0,\r\n      category: \"Hot Coffee\",\r\n      stock: 0,\r\n      minThreshold: 5,\r\n      description: \"\",\r\n      size: \"M\",\r\n    })\r\n  }\r\n\r\n  const handleEdit = (product: any) => {\r\n    setFormData(product)\r\n    setEditingId(String(product.id))\r\n    setShowForm(true)\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-8\">\r\n      <div className=\"flex justify-between items-center mb-8\">\r\n        <h2 className=\"text-3xl font-bold\">Products</h2>\r\n        <button\r\n          onClick={() => {\r\n            setShowForm(!showForm)\r\n            setEditingId(null)\r\n            setFormData({\r\n              name: \"\",\r\n              price: 0,\r\n              category: \"Hot Coffee\",\r\n              stock: 0,\r\n              minThreshold: 5,\r\n              description: \"\",\r\n              size: \"M\",\r\n            })\r\n          }}\r\n          className=\"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90\"\r\n        >\r\n          {showForm ? \"Cancel\" : \"Add Product\"}\r\n        </button>\r\n      </div>\r\n\r\n      {showForm && (\r\n        <div className=\"bg-card border border-border rounded-lg p-6 mb-8\">\r\n          <h3 className=\"text-xl font-bold mb-4\">{editingId ? \"Edit Product\" : \"Add New Product\"}</h3>\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Product Name\"\r\n              value={formData.name}\r\n              onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n              className=\"px-4 py-2 border border-border rounded bg-background focus:outline-none focus:ring-2 focus:ring-primary\"\r\n            />\r\n            <input\r\n              type=\"number\"\r\n              placeholder=\"Price\"\r\n              value={formData.price}\r\n              onChange={(e) => setFormData({ ...formData, price: Number.parseFloat(e.target.value) })}\r\n              className=\"px-4 py-2 border border-border rounded bg-background focus:outline-none focus:ring-2 focus:ring-primary\"\r\n            />\r\n            <select\r\n              value={formData.category}\r\n              onChange={(e) => setFormData({ ...formData, category: e.target.value })}\r\n              className=\"px-4 py-2 border border-border rounded bg-background focus:outline-none focus:ring-2 focus:ring-primary\"\r\n            >\r\n              {menuSync.getAllCategories().map((cat) => (\r\n                <option key={cat} value={cat}>\r\n                  {cat}\r\n                </option>\r\n              ))}\r\n            </select>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Size (S/M/L/R)\"\r\n              value={formData.size}\r\n              onChange={(e) => setFormData({ ...formData, size: e.target.value })}\r\n              className=\"px-4 py-2 border border-border rounded bg-background focus:outline-none focus:ring-2 focus:ring-primary\"\r\n            />\r\n            <input\r\n              type=\"number\"\r\n              placeholder=\"Stock\"\r\n              value={formData.stock}\r\n              onChange={(e) => setFormData({ ...formData, stock: Number.parseInt(e.target.value) })}\r\n              className=\"px-4 py-2 border border-border rounded bg-background focus:outline-none focus:ring-2 focus:ring-primary\"\r\n            />\r\n            <input\r\n              type=\"number\"\r\n              placeholder=\"Min Threshold\"\r\n              value={formData.minThreshold}\r\n              onChange={(e) => setFormData({ ...formData, minThreshold: Number.parseInt(e.target.value) })}\r\n              className=\"px-4 py-2 border border-border rounded bg-background focus:outline-none focus:ring-2 focus:ring-primary\"\r\n            />\r\n            <textarea\r\n              placeholder=\"Description\"\r\n              value={formData.description || \"\"}\r\n              onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n              className=\"px-4 py-2 border border-border rounded bg-background focus:outline-none focus:ring-2 focus:ring-primary col-span-2\"\r\n            />\r\n          </div>\r\n          <button\r\n            onClick={handleSubmit}\r\n            className=\"mt-4 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90\"\r\n          >\r\n            {editingId ? \"Update Product\" : \"Add Product\"}\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"bg-card border border-border rounded-lg overflow-hidden\">\r\n        <table className=\"w-full\">\r\n          <thead className=\"bg-accent\">\r\n            <tr>\r\n              <th className=\"px-6 py-4 text-left font-bold\">Name</th>\r\n              <th className=\"px-6 py-4 text-left font-bold\">Category</th>\r\n              <th className=\"px-6 py-4 text-left font-bold\">Size</th>\r\n              <th className=\"px-6 py-4 text-left font-bold\">Price</th>\r\n              <th className=\"px-6 py-4 text-left font-bold\">Stock</th>\r\n              <th className=\"px-6 py-4 text-left font-bold\">Min Threshold</th>\r\n              <th className=\"px-6 py-4 text-left font-bold\">Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody className=\"divide-y divide-border\">\r\n            {menuSync.menuItems.map((item) => {\r\n              const firstSize = item.sizes?.[0]\r\n              const displaySize = firstSize?.size || \"â€”\"\r\n              const displayPrice = firstSize?.price || 0\r\n              return (\r\n                <tr key={item.id} className=\"hover:bg-accent/50\">\r\n                  <td className=\"px-6 py-4\">{item.name}</td>\r\n                  <td className=\"px-6 py-4\">{item.category}</td>\r\n                  <td className=\"px-6 py-4\">{displaySize}</td>\r\n                  <td className=\"px-6 py-4\">â‚±{displayPrice}</td>\r\n                  <td className=\"px-6 py-4\">\r\n                    <span className={item.stock <= item.minThreshold ? \"text-yellow-600 font-bold\" : \"\"}>\r\n                      {item.stock}\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"px-6 py-4\">{item.minThreshold}</td>\r\n                  <td className=\"px-6 py-4 space-x-2\">\r\n                    <button\r\n                      onClick={() => handleEdit(item)}\r\n                      className=\"px-3 py-1 bg-blue-100 text-blue-700 rounded text-sm hover:bg-blue-200\"\r\n                    >\r\n                      Edit\r\n                    </button>\r\n                    <button\r\n                      onClick={() => products.deleteProduct(parseInt(item.id))}\r\n                      className=\"px-3 py-1 bg-red-100 text-red-700 rounded text-sm hover:bg-red-200\"\r\n                    >\r\n                      Delete\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              )\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3043, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Downloads/sodalicious/components/manager/inventory-management.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport type { useProducts, useInventoryLogs, useMenuSync } from \"@/lib/hooks\"\r\nimport { useMenuSync as useMenuSyncHook } from \"@/lib/hooks\"\r\nimport { updateProductStock } from \"@/lib/menu-data\"\r\n\r\ninterface InventoryManagementProps {\r\n  products: ReturnType<typeof useProducts>\r\n  inventoryLogs: ReturnType<typeof useInventoryLogs>\r\n}\r\n\r\nexport default function InventoryManagement({ products, inventoryLogs }: InventoryManagementProps) {\r\n  const menuSync = useMenuSyncHook()\r\n  const [showAdjustForm, setShowAdjustForm] = useState(false)\r\n  const [adjustingProductId, setAdjustingProductId] = useState<string | null>(null)\r\n  const [adjustmentData, setAdjustmentData] = useState({ quantity: 0, type: \"restock\", reason: \"\" })\r\n\r\n  const lowStockItems = menuSync.getLowStockItems()\r\n\r\n  const handleAdjustment = () => {\r\n    if (adjustingProductId) {\r\n      const product = products.products.find((p) => p.id === adjustingProductId)\r\n      if (product) {\r\n        const newStock =\r\n          product.stock + (adjustmentData.type === \"restock\" ? adjustmentData.quantity : -adjustmentData.quantity)\r\n        products.updateProduct(Number(adjustingProductId), { stock: Math.max(0, newStock) })\r\n\r\n        inventoryLogs.addLog({\r\n          productId: Number(adjustingProductId),\r\n          productName: product.name,\r\n          type: adjustmentData.type as any,\r\n          quantity: adjustmentData.quantity,\r\n          reason: adjustmentData.reason,\r\n          timestamp: new Date().toLocaleString(),\r\n          userId: 1,\r\n          userName: \"Current User\",\r\n        })\r\n\r\n        // update the global in-memory menu and notify other panels\r\n        syncMenuUpdate(product, adjustmentData.type === \"restock\" ? adjustmentData.quantity : -adjustmentData.quantity)\r\n\r\n        setAdjustingProductId(null)\r\n        setShowAdjustForm(false)\r\n        setAdjustmentData({ quantity: 0, type: \"restock\", reason: \"\" })\r\n      }\r\n    }\r\n  }\r\n\r\n  // Keep in-memory menu-data in sync and notify other panels\r\n  const syncMenuUpdate = (prod: any, stockChange: number) => {\r\n    try {\r\n      // derive base id (menu-data uses base item ids without size suffix)\r\n      const baseId = (prod.baseId && prod.baseId.toString()) || prod.id.toString().split(\"-\")[0]\r\n      // update the global COMPLETE_MENU entry\r\n      const currentStock = prod.stock || 0\r\n      const newStock = currentStock + stockChange\r\n      updateProductStock(baseId, newStock)\r\n      if (typeof window !== \"undefined\") window.dispatchEvent(new CustomEvent(\"menu:update\"))\r\n    } catch (e) {\r\n      console.warn(\"[menu sync] failed to update in-memory menu:\", e)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-8\">\r\n      <h2 className=\"text-3xl font-bold mb-8\">Inventory Management</h2>\r\n\r\n      {lowStockItems.length > 0 && (\r\n        <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-8\">\r\n          <p className=\"text-sm font-bold text-yellow-800\">âš  Low Stock Alert</p>\r\n          <p className=\"text-sm text-yellow-700\">{lowStockItems.length} items need restocking</p>\r\n        </div>\r\n      )}\r\n\r\n      {showAdjustForm && (\r\n        <div className=\"bg-card border border-border rounded-lg p-6 mb-8\">\r\n          <h3 className=\"text-xl font-bold mb-4\">Adjust Inventory</h3>\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <select\r\n              value={adjustmentData.type}\r\n              onChange={(e) => setAdjustmentData({ ...adjustmentData, type: e.target.value })}\r\n              className=\"px-4 py-2 border border-border rounded bg-background\"\r\n            >\r\n              <option value=\"restock\">Restock</option>\r\n              <option value=\"damage\">Damage</option>\r\n              <option value=\"waste\">Waste</option>\r\n            </select>\r\n            <input\r\n              type=\"number\"\r\n              placeholder=\"Quantity\"\r\n              value={adjustmentData.quantity}\r\n              onChange={(e) => setAdjustmentData({ ...adjustmentData, quantity: Number.parseInt(e.target.value) })}\r\n              className=\"px-4 py-2 border border-border rounded bg-background\"\r\n            />\r\n            <textarea\r\n              placeholder=\"Reason\"\r\n              value={adjustmentData.reason}\r\n              onChange={(e) => setAdjustmentData({ ...adjustmentData, reason: e.target.value })}\r\n              className=\"px-4 py-2 border border-border rounded bg-background col-span-2\"\r\n            />\r\n          </div>\r\n          <div className=\"space-x-2 mt-4\">\r\n            <button\r\n              onClick={handleAdjustment}\r\n              className=\"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90\"\r\n            >\r\n              Apply\r\n            </button>\r\n            <button\r\n              onClick={() => {\r\n                setShowAdjustForm(false)\r\n                setAdjustingProductId(null)\r\n              }}\r\n              className=\"px-4 py-2 border border-border rounded-md hover:bg-accent\"\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"bg-card border border-border rounded-lg overflow-hidden\">\r\n        <table className=\"w-full\">\r\n          <thead className=\"bg-accent\">\r\n            <tr>\r\n              <th className=\"px-6 py-4 text-left font-bold\">Item</th>\r\n              <th className=\"px-6 py-4 text-left font-bold\">Current Stock</th>\r\n              <th className=\"px-6 py-4 text-left font-bold\">Min Threshold</th>\r\n              <th className=\"px-6 py-4 text-left font-bold\">Status</th>\r\n              <th className=\"px-6 py-4 text-left font-bold\">Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody className=\"divide-y divide-border\">\r\n            {products.products.map((item) => (\r\n              <tr key={item.id} className=\"hover:bg-accent/50\">\r\n                <td className=\"px-6 py-4 font-medium\">{item.name}</td>\r\n                <td className=\"px-6 py-4\">{item.stock}</td>\r\n                <td className=\"px-6 py-4\">{item.minThreshold}</td>\r\n                <td className=\"px-6 py-4\">\r\n                  <span\r\n                    className={`px-3 py-1 rounded text-sm font-bold ${\r\n                      item.stock <= item.minThreshold ? \"bg-yellow-100 text-yellow-700\" : \"bg-green-100 text-green-700\"\r\n                    }`}\r\n                  >\r\n                    {item.stock <= item.minThreshold ? \"Low\" : \"In Stock\"}\r\n                  </span>\r\n                </td>\r\n                <td className=\"px-6 py-4\">\r\n                  <button\r\n                    onClick={() => {\r\n                      setAdjustingProductId(String(item.id))\r\n                      setShowAdjustForm(true)\r\n                    }}\r\n                    className=\"px-3 py-1 bg-blue-100 text-blue-700 rounded text-sm hover:bg-blue-200\"\r\n                  >\r\n                    Adjust\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      {inventoryLogs.logs.length > 0 && (\r\n        <div className=\"mt-8\">\r\n          <h3 className=\"text-xl font-bold mb-4\">Inventory History</h3>\r\n          <div className=\"bg-card border border-border rounded-lg overflow-hidden\">\r\n            <table className=\"w-full\">\r\n              <thead className=\"bg-accent\">\r\n                <tr>\r\n                  <th className=\"px-6 py-4 text-left font-bold\">Product</th>\r\n                  <th className=\"px-6 py-4 text-left font-bold\">Type</th>\r\n                  <th className=\"px-6 py-4 text-left font-bold\">Quantity</th>\r\n                  <th className=\"px-6 py-4 text-left font-bold\">Reason</th>\r\n                  <th className=\"px-6 py-4 text-left font-bold\">User</th>\r\n                  <th className=\"px-6 py-4 text-left font-bold\">Timestamp</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"divide-y divide-border\">\r\n                {inventoryLogs.logs.map((log: any) => (\r\n                  <tr key={log.id} className=\"hover:bg-accent/50\">\r\n                    <td className=\"px-6 py-4\">{log.productName}</td>\r\n                    <td className=\"px-6 py-4 capitalize\">{log.type}</td>\r\n                    <td className=\"px-6 py-4\">{log.quantity}</td>\r\n                    <td className=\"px-6 py-4\">{log.reason || \"-\"}</td>\r\n                    <td className=\"px-6 py-4\">{log.userName}</td>\r\n                    <td className=\"px-6 py-4\">{log.timestamp}</td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3587, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Downloads/sodalicious/components/manager/order-management.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport type { useDatabaseOrders } from \"@/lib/hooks\"\r\n\r\ninterface OrderManagementProps {\r\n  orders: ReturnType<typeof useDatabaseOrders>\r\n}\r\n\r\nexport default function OrderManagement({ orders }: OrderManagementProps) {\r\n  const [filterStatus, setFilterStatus] = useState<\"all\" | \"Pending\" | \"Preparing\" | \"Completed\">(\"all\")\r\n  const [expandedOrderId, setExpandedOrderId] = useState<string | null>(null)\r\n\r\n  const filteredOrders = orders.orders.filter((o) => filterStatus === \"all\" || (((o as any).order_status ?? (o as any).status) === filterStatus))\r\n\r\n  return (\r\n    <div className=\"p-8\">\r\n      <h2 className=\"text-3xl font-bold mb-8\">Order Management</h2>\r\n\r\n      <div className=\"flex gap-4 mb-8\">\r\n        {([\"all\", \"Pending\", \"Preparing\", \"Completed\"] as const).map((status) => (\r\n          <button\r\n            key={status}\r\n            onClick={() => setFilterStatus(status)}\r\n            className={`px-4 py-2 rounded-md transition-colors ${\r\n              filterStatus === status\r\n                ? \"bg-primary text-primary-foreground\"\r\n                : \"bg-accent text-foreground hover:bg-accent/80\"\r\n            }`}\r\n          >\r\n            {status === \"all\" ? \"All Orders\" : status}\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      <div className=\"bg-card border border-border rounded-lg overflow-hidden\">\r\n        <table className=\"w-full\">\r\n          <thead className=\"bg-accent\">\r\n            <tr>\r\n              <th className=\"px-6 py-4 text-left font-bold\">Order ID</th>\r\n              <th className=\"px-6 py-4 text-left font-bold\">Customer</th>\r\n              <th className=\"px-6 py-4 text-left font-bold\">Total</th>\r\n              <th className=\"px-6 py-4 text-left font-bold\">Status</th>\r\n              <th className=\"px-6 py-4 text-left font-bold\">Date</th>\r\n              <th className=\"px-6 py-4 text-left font-bold\">Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody className=\"divide-y divide-border\">\r\n            {filteredOrders.map((order) => (\r\n              <tr key={order.id} className=\"hover:bg-accent/50\">\r\n                <td className=\"px-6 py-4 font-bold\">{order.id}</td>\r\n                <td className=\"px-6 py-4\">{(order as any).customer_name ?? (order as any).customer ?? \"â€”\"}</td>\r\n                <td className=\"px-6 py-4\">â‚±{Number((order as any).total_amount ?? (order as any).total ?? 0).toFixed(2)}</td>\r\n                <td className=\"px-6 py-4\">\r\n                  <span className={`px-3 py-1 rounded text-sm font-bold ${\r\n                    ((order as any).order_status ?? (order as any).status) === \"Completed\" ? \"bg-green-100 text-green-700\" :\r\n                    ((order as any).order_status ?? (order as any).status) === \"Preparing\" ? \"bg-blue-100 text-blue-700\" : \"bg-yellow-100 text-yellow-700\"\r\n                  }`}>\r\n                    {(order as any).order_status ?? (order as any).status ?? \"Pending\"}\r\n                  </span>\r\n                </td>\r\n                <td className=\"px-6 py-4\">{(order as any).created_at ?? (order as any).timestamp ?? \"-\"}</td>\r\n                <td className=\"px-6 py-4\">\r\n                  <button\r\n                    onClick={() => setExpandedOrderId(expandedOrderId === String(order.id) ? null : String(order.id))}\r\n                    className=\"px-3 py-1 bg-blue-100 text-blue-700 rounded text-sm hover:bg-blue-200\"\r\n                  >\r\n                    {expandedOrderId === String(order.id) ? \"Hide\" : \"View\"}\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      {expandedOrderId && (\r\n        <div className=\"mt-8 bg-card border border-border rounded-lg p-6\">\r\n          {(() => {\r\n            const order = orders.orders.find((o) => String(o.id) === expandedOrderId)\r\n            return order ? (\r\n              <div>\r\n                <h3 className=\"text-xl font-bold mb-4\">Order Details: {order.id}</h3>\r\n                <div className=\"grid grid-cols-2 gap-4 mb-6\">\r\n                  <div>\r\n                    <p className=\"text-sm text-muted-foreground\">Customer</p>\r\n                    <p className=\"font-bold\">{(order as any).customer_name ?? (order as any).customer ?? \"â€”\"}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm text-muted-foreground\">Cashier</p>\r\n                    <p className=\"font-bold\">{(order as any).cashier_name ?? (order as any).cashierName ?? \"N/A\"}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm text-muted-foreground\">Payment Method</p>\r\n                    <p className=\"font-bold capitalize\">{(order as any).payment_method ?? (order as any).paymentMethod ?? \"â€”\"}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm text-muted-foreground\">Date/Time</p>\r\n                    <p className=\"font-bold\">{(order as any).created_at ?? (order as any).timestamp ?? \"-\"}</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"border-t border-border pt-4\">\r\n                  <h4 className=\"font-bold mb-3\">Items</h4>\r\n                  <div className=\"space-y-2\">\r\n                    {Array.isArray((order as any).items) && (order as any).items.length > 0 ? (\r\n                      (order as any).items.map((item: any) => (\r\n                        <div key={item.id ?? `${item.name}-${item.quantity}`} className=\"flex justify-between\">\r\n                          <span>\r\n                            {item.quantity ?? item.qty}x {item.name ?? item.product_name}\r\n                          </span>\r\n                          <span>â‚±{Number((item.price ?? item.unit_price ?? 0) * (item.quantity ?? item.qty ?? 0)).toFixed(2)}</span>\r\n                        </div>\r\n                      ))\r\n                    ) : (\r\n                      <div className=\"text-sm text-muted-foreground\">No item details available.</div>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"border-t border-border mt-4 pt-4 space-y-1 font-bold\">\r\n                    {(() => {\r\n                      const items = Array.isArray((order as any).items) ? (order as any).items : []\r\n                      const subtotal = items.reduce((s: number, it: any) => s + Number((it.price ?? it.unit_price ?? 0) * (it.quantity ?? it.qty ?? 0)), 0)\r\n                      const displayedSubtotal = subtotal > 0 ? subtotal : Number((order as any).subtotal ?? (order as any).sub_total ?? 0)\r\n                      const tax = Number((order as any).tax ?? (order as any).tax_amount ?? 0)\r\n                      const total = Number((order as any).total_amount ?? (order as any).total ?? displayedSubtotal + tax)\r\n\r\n                      return (\r\n                        <>\r\n                          <div className=\"flex justify-between\">\r\n                            <span>Subtotal:</span>\r\n                            <span>â‚±{displayedSubtotal.toFixed(2)}</span>\r\n                          </div>\r\n                          <div className=\"flex justify-between\">\r\n                            <span>Tax:</span>\r\n                            <span>â‚±{tax.toFixed(2)}</span>\r\n                          </div>\r\n                          <div className=\"flex justify-between text-lg\">\r\n                            <span>Total:</span>\r\n                            <span>â‚±{total.toFixed(2)}</span>\r\n                          </div>\r\n                        </>\r\n                      )\r\n                    })()}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ) : null\r\n          })()}\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4095, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Downloads/sodalicious/components/manager/user-management.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport type { useUsers } from \"@/lib/hooks\"\r\n\r\ninterface UserManagementProps {\r\n  users: ReturnType<typeof useUsers>\r\n}\r\n\r\nexport default function UserManagement({ users }: UserManagementProps) {\r\n  const [showForm, setShowForm] = useState(false)\r\n  const [editingId, setEditingId] = useState<number | null>(null)\r\n  const [formData, setFormData] = useState({ name: \"\", username: \"\", password: \"\", role: \"cashier\", status: \"Active\" })\r\n\r\n  const handleSubmit = () => {\r\n    if (editingId) {\r\n      users.updateUser(editingId, formData as any)\r\n      setEditingId(null)\r\n    } else {\r\n      users.addUser(formData as any)\r\n    }\r\n    setShowForm(false)\r\n    setFormData({ name: \"\", username: \"\", password: \"\", role: \"cashier\", status: \"Active\" })\r\n  }\r\n\r\n  const handleEdit = (user: any) => {\r\n    setFormData({ name: user.name, username: user.username, password: \"\", role: user.role, status: user.status })\r\n    setEditingId(user.id)\r\n    setShowForm(true)\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-8\">\r\n      <div className=\"flex justify-between items-center mb-8\">\r\n        <h2 className=\"text-3xl font-bold\">User Management</h2>\r\n        <button\r\n          onClick={() => {\r\n            setShowForm(!showForm)\r\n            setEditingId(null)\r\n            setFormData({ name: \"\", username: \"\", password: \"\", role: \"cashier\", status: \"Active\" })\r\n          }}\r\n          className=\"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90\"\r\n        >\r\n          {showForm ? \"Cancel\" : \"Add User\"}\r\n        </button>\r\n      </div>\r\n\r\n      {showForm && (\r\n        <div className=\"bg-card border border-border rounded-lg p-6 mb-8\">\r\n          <h3 className=\"text-xl font-bold mb-4\">{editingId ? \"Edit User\" : \"Add New User\"}</h3>\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Full Name\"\r\n              value={formData.name}\r\n              onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n              className=\"px-4 py-2 border border-border rounded bg-background\"\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Username\"\r\n              value={formData.username}\r\n              onChange={(e) => setFormData({ ...formData, username: e.target.value })}\r\n              className=\"px-4 py-2 border border-border rounded bg-background\"\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n              value={formData.password}\r\n              onChange={(e) => setFormData({ ...formData, password: e.target.value })}\r\n              className=\"px-4 py-2 border border-border rounded bg-background\"\r\n            />\r\n            <select\r\n              value={formData.role}\r\n              onChange={(e) => setFormData({ ...formData, role: e.target.value })}\r\n              className=\"px-4 py-2 border border-border rounded bg-background\"\r\n            >\r\n              <option value=\"cashier\">Cashier</option>\r\n              <option value=\"manager\">Manager</option>\r\n              <option value=\"inventory\">Inventory Officer</option>\r\n            </select>\r\n            <select\r\n              value={formData.status}\r\n              onChange={(e) => setFormData({ ...formData, status: e.target.value })}\r\n              className=\"px-4 py-2 border border-border rounded bg-background col-span-2\"\r\n            >\r\n              <option value=\"Active\">Active</option>\r\n              <option value=\"Inactive\">Inactive</option>\r\n            </select>\r\n          </div>\r\n          <button\r\n            onClick={handleSubmit}\r\n            className=\"mt-4 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90\"\r\n          >\r\n            {editingId ? \"Update User\" : \"Add User\"}\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"bg-card border border-border rounded-lg overflow-hidden\">\r\n        <table className=\"w-full\">\r\n          <thead className=\"bg-accent\">\r\n            <tr>\r\n              <th className=\"px-6 py-4 text-left font-bold\">Name</th>\r\n              <th className=\"px-6 py-4 text-left font-bold\">Username</th>\r\n              <th className=\"px-6 py-4 text-left font-bold\">Role</th>\r\n              <th className=\"px-6 py-4 text-left font-bold\">Status</th>\r\n              <th className=\"px-6 py-4 text-left font-bold\">Last Login</th>\r\n              <th className=\"px-6 py-4 text-left font-bold\">Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody className=\"divide-y divide-border\">\r\n            {users.users.map((user) => (\r\n              <tr key={user.id} className=\"hover:bg-accent/50\">\r\n                <td className=\"px-6 py-4\">{user.name}</td>\r\n                <td className=\"px-6 py-4\">{user.username}</td>\r\n                <td className=\"px-6 py-4 capitalize\">{user.role}</td>\r\n                <td className=\"px-6 py-4\">\r\n                  <span\r\n                    className={`px-3 py-1 rounded text-sm font-bold ${user.status === \"Active\" ? \"bg-green-100 text-green-700\" : \"bg-gray-100 text-gray-700\"}`}\r\n                  >\r\n                    {user.status}\r\n                  </span>\r\n                </td>\r\n                <td className=\"px-6 py-4\">{user.lastLogin || \"N/A\"}</td>\r\n                <td className=\"px-6 py-4 space-x-2\">\r\n                  <button\r\n                    onClick={() => handleEdit(user)}\r\n                    className=\"px-3 py-1 bg-blue-100 text-blue-700 rounded text-sm hover:bg-blue-200\"\r\n                  >\r\n                    Edit\r\n                  </button>\r\n                  <button\r\n                    onClick={() => users.deleteUser(user.id)}\r\n                    className=\"px-3 py-1 bg-red-100 text-red-700 rounded text-sm hover:bg-red-200\"\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4505, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Downloads/sodalicious/components/manager/reports.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, useState, useCallback } from \"react\"\r\nimport { useMenuSync as useMenuSyncHook } from \"@/lib/hooks\"\r\n\r\ntype ApiReport = {\r\n  totals: { totalOrders: number; totalSales: number }\r\n  topProducts?: Array<{ id: number; name: string; qty_sold: number; revenue: number }>\r\n  breakdown?: Array<{ date: string; orders_count: number; total_sales: number }>\r\n  meta?: any\r\n}\r\n\r\nexport default function Reports() {\r\n  const menuSync = useMenuSyncHook()\r\n  const [reportType, setReportType] = useState<\"daily\" | \"weekly\" | \"monthly\" | \"payment\" | \"inventory\">(\"daily\")\r\n  const [dateRange, setDateRange] = useState({ start: \"\", end: \"\" })\r\n  const [apiReport, setApiReport] = useState<ApiReport | null>(null)\r\n  const [loading, setLoading] = useState(false)\r\n  const [error, setError] = useState<string | null>(null)\r\n\r\n  const fetchReport = useCallback(async () => {\r\n    setLoading(true)\r\n    setError(null)\r\n    try {\r\n      const params = new URLSearchParams()\r\n      params.set(\"type\", reportType)\r\n      if (dateRange.start && dateRange.end) {\r\n        params.set(\"start\", dateRange.start)\r\n        params.set(\"end\", dateRange.end)\r\n      }\r\n\r\n      const res = await fetch(`/api/reports?${params.toString()}`)\r\n      if (!res.ok) throw new Error(`Status ${res.status}`)\r\n      const json = await res.json()\r\n      // Coerce numeric fields to numbers to avoid toFixed issues\r\n      if (json?.totals) {\r\n        json.totals.totalOrders = Number(json.totals.totalOrders || 0)\r\n        json.totals.totalSales = Number(json.totals.totalSales || 0)\r\n      }\r\n      setApiReport(json)\r\n    } catch (err: any) {\r\n      console.error(\"[Reports] fetch error\", err)\r\n      setError(\"Failed to fetch report; showing local summary\")\r\n      setApiReport(null)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }, [reportType, dateRange.start, dateRange.end])\r\n\r\n  useEffect(() => {\r\n    // initial fetch\r\n    fetchReport()\r\n    // poll every 5 seconds to keep reports in sync with cashier actions\r\n    const id = setInterval(() => {\r\n      fetchReport()\r\n    }, 5000)\r\n    return () => clearInterval(id)\r\n  }, [fetchReport])\r\n\r\n  // Local fallback summary when API is unavailable â€” this keeps UI responsive\r\n  const fallback = {\r\n    title: reportType === \"inventory\" ? \"Inventory Report\" : \"Daily Sales Report\",\r\n    totalSales: apiReport?.totals?.totalSales ?? 0,\r\n    totalOrders: apiReport?.totals?.totalOrders ?? 0,\r\n    itemsSold: apiReport?.breakdown ? apiReport.breakdown.reduce((s: number, b: any) => s + Number(b.orders_count || 0), 0) : 0,\r\n    paymentMethods: {},\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-8\">\r\n      <h2 className=\"text-3xl font-bold mb-8\">Reports</h2>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\r\n        {[\r\n          { id: \"daily\", label: \"Daily Sales Report\" },\r\n          { id: \"weekly\", label: \"Weekly Sales Report\" },\r\n          { id: \"monthly\", label: \"Monthly Sales Report\" },\r\n          { id: \"payment\", label: \"Payment Summary\" },\r\n          { id: \"inventory\", label: \"Inventory Report\" },\r\n        ].map((r) => (\r\n          <button\r\n            key={r.id}\r\n            onClick={() => setReportType(r.id as any)}\r\n            className={`p-6 border rounded-lg hover:bg-accent transition-colors text-left ${\r\n              reportType === r.id ? \"border-primary bg-primary/10\" : \"border-border\"\r\n            }`}\r\n          >\r\n            <h3 className=\"font-bold mb-2\">{r.label}</h3>\r\n            <p className=\"text-sm text-muted-foreground\">Generate and view report</p>\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      <div className=\"bg-card border border-border rounded-lg p-8\">\r\n        <div className=\"flex justify-between items-center mb-6\">\r\n          <h3 className=\"text-2xl font-bold\">{apiReport ? (apiReport.meta?.type || \"Report\") : fallback.title}</h3>\r\n          <div className=\"flex items-center gap-2\">\r\n            {loading && <span className=\"text-sm text-muted-foreground\">Refreshing...</span>}\r\n            <button onClick={() => fetchReport()} className=\"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90\">\r\n              Refresh\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {reportType !== \"inventory\" && (\r\n          <div className=\"grid grid-cols-2 gap-6\">\r\n            <div className=\"p-4 bg-blue-50 rounded-lg border border-blue-200\">\r\n              <p className=\"text-sm text-muted-foreground\">Total Sales</p>\r\n              <p className=\"text-3xl font-bold text-blue-600\">â‚±{Number(apiReport?.totals?.totalSales ?? fallback.totalSales).toFixed(2)}</p>\r\n            </div>\r\n            <div className=\"p-4 bg-green-50 rounded-lg border border-green-200\">\r\n              <p className=\"text-sm text-muted-foreground\">Total Orders</p>\r\n              <p className=\"text-3xl font-bold text-green-600\">{apiReport?.totals?.totalOrders ?? fallback.totalOrders}</p>\r\n            </div>\r\n            <div className=\"p-4 bg-purple-50 rounded-lg border border-purple-200\">\r\n              <p className=\"text-sm text-muted-foreground\">Items Sold</p>\r\n              <p className=\"text-3xl font-bold text-purple-600\">{fallback.itemsSold}</p>\r\n            </div>\r\n            <div className=\"p-4 bg-orange-50 rounded-lg border border-orange-200\">\r\n              <p className=\"text-sm text-muted-foreground\">Avg Transaction</p>\r\n              <p className=\"text-3xl font-bold text-orange-600\">â‚±{(Number(apiReport?.totals?.totalSales ?? fallback.totalSales) / Math.max(1, Number(apiReport?.totals?.totalOrders ?? fallback.totalOrders))).toFixed(2)}</p>\r\n            </div>\r\n\r\n            <div className=\"col-span-2 mt-6\">\r\n              <h4 className=\"font-bold mb-4\">Top Products</h4>\r\n              <div className=\"space-y-2\">\r\n                {(apiReport?.topProducts || []).map((p) => (\r\n                  <div key={p.id} className=\"flex justify-between\">\r\n                    <span className=\"font-medium\">{p.name}</span>\r\n                    <span className=\"text-muted-foreground\">{p.qty_sold} â€” â‚±{Number(p.revenue || 0).toFixed(2)}</span>\r\n                  </div>\r\n                ))}\r\n                {(!apiReport?.topProducts || apiReport.topProducts.length === 0) && <div className=\"text-sm text-muted-foreground\">No product data</div>}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {reportType === \"inventory\" && (\r\n          <div className=\"grid grid-cols-2 gap-6\">\r\n            <div className=\"p-4 bg-blue-50 rounded-lg border border-blue-200\">\r\n              <p className=\"text-sm text-muted-foreground\">Total Products</p>\r\n              <p className=\"text-3xl font-bold text-blue-600\">{apiReport?.topProducts?.length ?? 0}</p>\r\n            </div>\r\n            <div className=\"p-4 bg-green-50 rounded-lg border border-green-200\">\r\n              <p className=\"text-sm text-muted-foreground\">In Stock</p>\r\n              <p className=\"text-3xl font-bold text-green-600\">{0}</p>\r\n            </div>\r\n            <div className=\"p-4 bg-yellow-50 rounded-lg border border-yellow-200\">\r\n              <p className=\"text-sm text-muted-foreground\">Low Stock</p>\r\n              <p className=\"text-3xl font-bold text-yellow-600\">{0}</p>\r\n            </div>\r\n            <div className=\"p-4 bg-red-50 rounded-lg border border-red-200\">\r\n              <p className=\"text-sm text-muted-foreground\">Out of Stock</p>\r\n              <p className=\"text-3xl font-bold text-red-600\">{0}</p>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {error && <p className=\"mt-4 text-sm text-destructive\">{error}</p>}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4999, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Downloads/sodalicious/components/manager/dashboard.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport type { useProducts, useDatabaseOrders, useMenuSync } from \"@/lib/hooks\"\r\nimport { useMenuSync as useMenuSyncHook } from \"@/lib/hooks\"\r\n\r\ninterface ManagerDashboardProps {\r\n  products: ReturnType<typeof useProducts>\r\n  orders: ReturnType<typeof useDatabaseOrders>\r\n  inventoryLogs: any\r\n}\r\n\r\nexport default function ManagerDashboard({ products, orders, inventoryLogs }: ManagerDashboardProps) {\r\n  const menuSync = useMenuSyncHook()\r\n  \r\n  // Calculate today's sales from database orders\r\n  const todaysSales = (orders.orders || [])\r\n    .filter((o) => {\r\n      const orderDate = new Date(o.created_at).toDateString()\r\n      const today = new Date().toDateString()\r\n      return orderDate === today\r\n    })\r\n    .reduce((sum, o) => sum + (Number(o.total_amount) || 0), 0)\r\n  \r\n  const totalOrders = (orders.orders || []).filter((o) => {\r\n    const orderDate = new Date(o.created_at).toDateString()\r\n    const today = new Date().toDateString()\r\n    return orderDate === today\r\n  }).length\r\n  \r\n  const lowStockItems = menuSync.getLowStockItems()\r\n\r\n  const topSelling = menuSync.menuItems\r\n    .slice()\r\n    .sort((a, b) => b.stock - a.stock)\r\n    .slice(0, 3)\r\n\r\n  return (\r\n    <div className=\"p-8\">\r\n      <h2 className=\"text-3xl font-bold mb-8\">Dashboard</h2>\r\n\r\n      {/* Stats Grid */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8\">\r\n        <StatCard label=\"Total Sales\" value={`â‚±${Number(todaysSales || 0).toFixed(2)}`} color=\"bg-blue-100\" />\r\n        <StatCard label=\"Total Orders\" value={totalOrders.toString()} color=\"bg-green-100\" />\r\n        <StatCard label=\"Low Stock Items\" value={lowStockItems.length.toString()} color=\"bg-yellow-100\" />\r\n        <StatCard label=\"Total Products\" value={menuSync.menuItems.length.toString()} color=\"bg-purple-100\" />\r\n      </div>\r\n\r\n      {/* Main Cards */}\r\n      <div className=\"grid grid-cols-2 gap-8\">\r\n        {/* Top Selling */}\r\n        <div className=\"bg-card border border-border rounded-lg p-6\">\r\n          <h3 className=\"text-xl font-bold mb-4\">Top Selling Products</h3>\r\n          <div className=\"space-y-3\">\r\n            {topSelling.map((item) => (\r\n              <div\r\n                key={item.id}\r\n                className=\"flex justify-between items-center pb-3 border-b border-border last:border-b-0\"\r\n              >\r\n                <div>\r\n                  <p className=\"font-semibold\">{item.name}</p>\r\n                  <p className=\"text-sm text-muted-foreground\">Stock: {item.stock}</p>\r\n                </div>\r\n                <p className=\"font-bold text-lg text-primary\">{item.sizes.length} sizes</p>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Recent Orders */}\r\n        <div className=\"bg-card border border-border rounded-lg p-6\">\r\n          <h3 className=\"text-xl font-bold mb-4\">Recent Orders</h3>\r\n          <div className=\"space-y-3\">\r\n            {(orders.orders || []).slice(-3).map((order) => (\r\n              <div\r\n                key={order.id}\r\n                className=\"flex justify-between items-center pb-3 border-b border-border last:border-b-0\"\r\n              >\r\n                <div>\r\n                  <p className=\"font-semibold\">{order.order_number}</p>\r\n                  <p className=\"text-sm text-muted-foreground\">{order.customer_name}</p>\r\n                </div>\r\n                <div className=\"text-right\">\r\n                  <p className=\"font-bold\">â‚±{Number(order.total_amount || 0).toFixed(2)}</p>\r\n                  <span className=\"text-xs px-2 py-1 bg-green-100 text-green-700 rounded\">{order.order_status}</span>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Low Stock Alert */}\r\n        <div className=\"bg-card border border-border rounded-lg p-6\">\r\n          <h3 className=\"text-xl font-bold mb-4\">Low Stock Alert</h3>\r\n          {lowStockItems.length === 0 ? (\r\n            <p className=\"text-muted-foreground\">All items are well-stocked</p>\r\n          ) : (\r\n            <div className=\"space-y-2\">\r\n              {lowStockItems.map((item) => (\r\n                <div key={item.id} className=\"p-3 bg-yellow-50 border border-yellow-200 rounded\">\r\n                  <p className=\"font-semibold text-sm\">{item.name}</p>\r\n                  <p className=\"text-xs text-yellow-700\">\r\n                    Stock: {item.stock} / Threshold: {item.minThreshold}\r\n                  </p>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Sales Breakdown */}\r\n        <div className=\"bg-card border border-border rounded-lg p-6\">\r\n          <h3 className=\"text-xl font-bold mb-4\">Payment Methods</h3>\r\n          <div className=\"space-y-2\">\r\n            {[\"Cash\", \"GCash\", \"Card\", \"E-wallet\"].map((method) => {\r\n              const count = orders.orders.filter((o) => {\r\n                const pm = ((o as any).payment_method ?? (o as any).paymentMethod ?? \"\").toString().toLowerCase().replace(\"-\", \"\")\r\n                return pm === method.toLowerCase().replace(\"-\", \"\")\r\n              }).length\r\n              return (\r\n                <div key={method} className=\"flex justify-between\">\r\n                  <span className=\"font-medium\">{method}</span>\r\n                  <span className=\"font-bold\">{count} transactions</span>\r\n                </div>\r\n              )\r\n            })}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction StatCard({ label, value, color }: { label: string; value: string; color: string }) {\r\n  return (\r\n    <div className={`${color} p-6 rounded-lg`}>\r\n      <p className=\"text-sm text-gray-700 font-medium\">{label}</p>\r\n      <p className=\"text-3xl font-bold text-gray-900 mt-2\">{value}</p>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 5406, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Downloads/sodalicious/components/manager-dashboard.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { useProducts, useDatabaseOrders, useUsers, useInventoryLogs } from \"@/lib/hooks\"\r\nimport ProductManagement from \"./manager/product-management\"\r\nimport InventoryManagement from \"./manager/inventory-management\"\r\nimport OrderManagement from \"./manager/order-management\"\r\nimport UserManagement from \"./manager/user-management\"\r\nimport Reports from \"./manager/reports\"\r\nimport Dashboard from \"./manager/dashboard\"\r\n\r\ninterface ManagerPanelProps {\r\n  onLogout: () => void\r\n  currentUser?: any\r\n}\r\n\r\nexport default function ManagerPanel({ onLogout, currentUser }: ManagerPanelProps) {\r\n  const [activeTab, setActiveTab] = useState<\r\n    \"dashboard\" | \"products\" | \"inventory\" | \"orders\" | \"reports\" | \"users\" | \"logs\"\r\n  >(\"dashboard\")\r\n  const products = useProducts()\r\n  const orders = useDatabaseOrders()\r\n  const users = useUsers()\r\n  const inventoryLogs = useInventoryLogs()\r\n\r\n  return (\r\n    <div className=\"flex h-screen bg-background\">\r\n      <div className=\"w-64 bg-sidebar border-r border-sidebar-border flex flex-col shadow-lg\">\r\n        <div className=\"p-6 border-b border-sidebar-border bg-sidebar-primary/10\">\r\n          <h1 className=\"text-2xl font-bold text-sidebar-foreground tracking-tight\">Sodalicious</h1>\r\n          <p className=\"text-sm text-sidebar-foreground/70 font-medium\">Manager Portal</p>\r\n        </div>\r\n        <nav className=\"flex-1 p-4 space-y-1\">\r\n          {[\r\n            { id: \"dashboard\", label: \"Dashboard\", icon: \"ðŸ“Š\" },\r\n            { id: \"products\", label: \"Products\", icon: \"ðŸ“¦\" },\r\n            { id: \"inventory\", label: \"Inventory\", icon: \"ðŸ“¦\" },\r\n            { id: \"orders\", label: \"Orders\", icon: \"ðŸ›’\" },\r\n            { id: \"reports\", label: \"Reports\", icon: \"ðŸ“ˆ\" },\r\n            { id: \"users\", label: \"Users\", icon: \"ðŸ‘¥\" },\r\n            { id: \"logs\", label: \"Activity Logs\", icon: \"ðŸ“‹\" },\r\n          ].map((tab) => (\r\n            <button\r\n              key={tab.id}\r\n              onClick={() => setActiveTab(tab.id as any)}\r\n              className={`w-full text-left px-4 py-3 rounded-lg transition-all font-semibold flex items-center gap-3 ${\r\n                activeTab === tab.id\r\n                  ? \"bg-sidebar-primary text-sidebar-primary-foreground shadow-md\"\r\n                  : \"text-sidebar-foreground hover:bg-sidebar-accent\"\r\n              }`}\r\n            >\r\n              <span className=\"text-lg\">{tab.icon}</span>\r\n              {tab.label}\r\n            </button>\r\n          ))}\r\n        </nav>\r\n        <button\r\n          onClick={onLogout}\r\n          className=\"m-4 px-4 py-3 bg-destructive text-destructive-foreground rounded-lg hover:bg-destructive/90 font-semibold transition-all shadow-md\"\r\n        >\r\n          Logout\r\n        </button>\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"flex-1 overflow-auto\">\r\n        {activeTab === \"dashboard\" && <Dashboard products={products} orders={orders} inventoryLogs={inventoryLogs} />}\r\n        {activeTab === \"products\" && <ProductManagement products={products} />}\r\n        {activeTab === \"inventory\" && <InventoryManagement products={products} inventoryLogs={inventoryLogs} />}\r\n        {activeTab === \"orders\" && <OrderManagement orders={orders} />}\r\n        {activeTab === \"reports\" && <Reports orders={orders} products={products} />}\r\n        {activeTab === \"users\" && <UserManagement users={users} />}\r\n        {activeTab === \"logs\" && <ActivityLogs />}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction ActivityLogs() {\r\n  const sampleLogs = [\r\n    {\r\n      id: 1,\r\n      type: \"Product\",\r\n      action: \"Updated\",\r\n      details: \"Iced Calamansi Soda price changed\",\r\n      user: \"Admin Manager\",\r\n      timestamp: \"2025-11-11 15:30\",\r\n    },\r\n    {\r\n      id: 2,\r\n      type: \"Inventory\",\r\n      action: \"Adjusted\",\r\n      details: \"Mango Yakult stock reduced by 5\",\r\n      user: \"Juan Dela Cruz\",\r\n      timestamp: \"2025-11-11 14:15\",\r\n    },\r\n    {\r\n      id: 3,\r\n      type: \"User\",\r\n      action: \"Created\",\r\n      details: \"New cashier account created\",\r\n      user: \"Admin Manager\",\r\n      timestamp: \"2025-11-11 13:00\",\r\n    },\r\n    {\r\n      id: 4,\r\n      type: \"Order\",\r\n      action: \"Cancelled\",\r\n      details: \"Order ORD00005 cancelled\",\r\n      user: \"Maria Santos\",\r\n      timestamp: \"2025-11-11 12:45\",\r\n    },\r\n  ]\r\n\r\n  return (\r\n    <div className=\"p-8\">\r\n      <h2 className=\"text-3xl font-bold mb-8 text-foreground\">Activity Logs</h2>\r\n      <div className=\"bg-card border border-border rounded-xl overflow-hidden shadow-lg\">\r\n        <table className=\"w-full\">\r\n          <thead className=\"bg-primary/5 border-b border-border\">\r\n            <tr>\r\n              <th className=\"px-6 py-4 text-left font-bold text-foreground\">Type</th>\r\n              <th className=\"px-6 py-4 text-left font-bold text-foreground\">Action</th>\r\n              <th className=\"px-6 py-4 text-left font-bold text-foreground\">Details</th>\r\n              <th className=\"px-6 py-4 text-left font-bold text-foreground\">User</th>\r\n              <th className=\"px-6 py-4 text-left font-bold text-foreground\">Timestamp</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody className=\"divide-y divide-border\">\r\n            {sampleLogs.map((log) => (\r\n              <tr key={log.id} className=\"hover:bg-primary/5 transition-colors\">\r\n                <td className=\"px-6 py-4 font-bold text-foreground\">{log.type}</td>\r\n                <td className=\"px-6 py-4 text-foreground\">{log.action}</td>\r\n                <td className=\"px-6 py-4 text-foreground\">{log.details}</td>\r\n                <td className=\"px-6 py-4 text-foreground\">{log.user}</td>\r\n                <td className=\"px-6 py-4 text-muted-foreground\">{log.timestamp}</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;;;;;;;;;;AAgBe,SAAS,aAAa,EAAE,QAAQ,EAAE,WAAW,EAAqB;IAC/E,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAExC;IACF,MAAM,WAAW,IAAA,2HAAW;IAC5B,MAAM,SAAS,IAAA,iIAAiB;IAChC,MAAM,QAAQ,IAAA,wHAAQ;IACtB,MAAM,gBAAgB,IAAA,gIAAgB;IAEtC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAA4D;;;;;;0CAC1E,8OAAC;gCAAE,WAAU;0CAAiD;;;;;;;;;;;;kCAEhE,8OAAC;wBAAI,WAAU;kCACZ;4BACC;gCAAE,IAAI;gCAAa,OAAO;gCAAa,MAAM;4BAAK;4BAClD;gCAAE,IAAI;gCAAY,OAAO;gCAAY,MAAM;4BAAK;4BAChD;gCAAE,IAAI;gCAAa,OAAO;gCAAa,MAAM;4BAAK;4BAClD;gCAAE,IAAI;gCAAU,OAAO;gCAAU,MAAM;4BAAK;4BAC5C;gCAAE,IAAI;gCAAW,OAAO;gCAAW,MAAM;4BAAK;4BAC9C;gCAAE,IAAI;gCAAS,OAAO;gCAAS,MAAM;4BAAK;4BAC1C;gCAAE,IAAI;gCAAQ,OAAO;gCAAiB,MAAM;4BAAK;yBAClD,CAAC,GAAG,CAAC,CAAC,oBACL,8OAAC;gCAEC,SAAS,IAAM,aAAa,IAAI,EAAE;gCAClC,WAAW,CAAC,2FAA2F,EACrG,cAAc,IAAI,EAAE,GAChB,iEACA,mDACJ;;kDAEF,8OAAC;wCAAK,WAAU;kDAAW,IAAI,IAAI;;;;;;oCAClC,IAAI,KAAK;;+BATL,IAAI,EAAE;;;;;;;;;;kCAajB,8OAAC;wBACC,SAAS;wBACT,WAAU;kCACX;;;;;;;;;;;;0BAMH,8OAAC;gBAAI,WAAU;;oBACZ,cAAc,6BAAe,8OAAC,8IAAS;wBAAC,UAAU;wBAAU,QAAQ;wBAAQ,eAAe;;;;;;oBAC3F,cAAc,4BAAc,8OAAC,0JAAiB;wBAAC,UAAU;;;;;;oBACzD,cAAc,6BAAe,8OAAC,4JAAmB;wBAAC,UAAU;wBAAU,eAAe;;;;;;oBACrF,cAAc,0BAAY,8OAAC,wJAAe;wBAAC,QAAQ;;;;;;oBACnD,cAAc,2BAAa,8OAAC,4IAAO;wBAAC,QAAQ;wBAAQ,UAAU;;;;;;oBAC9D,cAAc,yBAAW,8OAAC,uJAAc;wBAAC,OAAO;;;;;;oBAChD,cAAc,wBAAU,8OAAC;;;;;;;;;;;;;;;;;AAIlC;AAEA,SAAS;IACP,MAAM,aAAa;QACjB;YACE,IAAI;YACJ,MAAM;YACN,QAAQ;YACR,SAAS;YACT,MAAM;YACN,WAAW;QACb;QACA;YACE,IAAI;YACJ,MAAM;YACN,QAAQ;YACR,SAAS;YACT,MAAM;YACN,WAAW;QACb;QACA;YACE,IAAI;YACJ,MAAM;YACN,QAAQ;YACR,SAAS;YACT,MAAM;YACN,WAAW;QACb;QACA;YACE,IAAI;YACJ,MAAM;YACN,QAAQ;YACR,SAAS;YACT,MAAM;YACN,WAAW;QACb;KACD;IAED,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAA0C;;;;;;0BACxD,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAM,WAAU;;sCACf,8OAAC;4BAAM,WAAU;sCACf,cAAA,8OAAC;;kDACC,8OAAC;wCAAG,WAAU;kDAAgD;;;;;;kDAC9D,8OAAC;wCAAG,WAAU;kDAAgD;;;;;;kDAC9D,8OAAC;wCAAG,WAAU;kDAAgD;;;;;;kDAC9D,8OAAC;wCAAG,WAAU;kDAAgD;;;;;;kDAC9D,8OAAC;wCAAG,WAAU;kDAAgD;;;;;;;;;;;;;;;;;sCAGlE,8OAAC;4BAAM,WAAU;sCACd,WAAW,GAAG,CAAC,CAAC,oBACf,8OAAC;oCAAgB,WAAU;;sDACzB,8OAAC;4CAAG,WAAU;sDAAuC,IAAI,IAAI;;;;;;sDAC7D,8OAAC;4CAAG,WAAU;sDAA6B,IAAI,MAAM;;;;;;sDACrD,8OAAC;4CAAG,WAAU;sDAA6B,IAAI,OAAO;;;;;;sDACtD,8OAAC;4CAAG,WAAU;sDAA6B,IAAI,IAAI;;;;;;sDACnD,8OAAC;4CAAG,WAAU;sDAAmC,IAAI,SAAS;;;;;;;mCALvD,IAAI,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;AAa7B","debugId":null}},
    {"offset": {"line": 5794, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Downloads/sodalicious/components/inventory-panel.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { useProducts, useInventoryLogs, useMenuSync } from \"@/lib/hooks\"\r\nimport { updateProductStock } from \"@/lib/menu-data\"\r\n\r\ninterface InventoryPanelProps {\r\n  onLogout: () => void\r\n  currentUser?: any\r\n}\r\n\r\nexport default function InventoryPanel({ onLogout, currentUser }: InventoryPanelProps) {\r\n  const products = useProducts()\r\n  const inventoryLogs = useInventoryLogs()\r\n  const menuSync = useMenuSync()\r\n  const [activeTab, setActiveTab] = useState<\"inventory\" | \"logs\">(\"inventory\")\r\n\r\n  return (\r\n    <div className=\"flex h-screen bg-background\">\r\n      <div className=\"w-64 bg-sidebar border-r border-sidebar-border flex flex-col shadow-lg\">\r\n        <div className=\"p-6 border-b border-sidebar-border bg-sidebar-primary/10\">\r\n          <h1 className=\"text-2xl font-bold text-sidebar-foreground tracking-tight\">Sodalicious</h1>\r\n          <p className=\"text-sm text-sidebar-foreground/70 font-medium\">Inventory Officer</p>\r\n        </div>\r\n        <nav className=\"flex-1 p-4 space-y-1\">\r\n          {[\r\n            { id: \"inventory\", label: \"Stock Management\", icon: \"ðŸ“¦\" },\r\n            { id: \"logs\", label: \"Stock History\", icon: \"ðŸ“‹\" },\r\n          ].map((tab) => (\r\n            <button\r\n              key={tab.id}\r\n              onClick={() => setActiveTab(tab.id as any)}\r\n              className={`w-full text-left px-4 py-3 rounded-lg transition-all font-semibold flex items-center gap-3 ${\r\n                activeTab === tab.id\r\n                  ? \"bg-sidebar-primary text-sidebar-primary-foreground shadow-md\"\r\n                  : \"text-sidebar-foreground hover:bg-sidebar-accent\"\r\n              }`}\r\n            >\r\n              <span className=\"text-lg\">{tab.icon}</span>\r\n              {tab.label}\r\n            </button>\r\n          ))}\r\n        </nav>\r\n        <button\r\n          onClick={onLogout}\r\n          className=\"m-4 px-4 py-3 bg-destructive text-destructive-foreground rounded-lg hover:bg-destructive/90 font-semibold transition-all shadow-md\"\r\n        >\r\n          Logout\r\n        </button>\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"flex-1 overflow-auto\">\r\n        {activeTab === \"inventory\" && <InventoryView menuSync={menuSync} inventoryLogs={inventoryLogs} currentUser={currentUser} />}\r\n        {activeTab === \"logs\" && <StockHistoryView inventoryLogs={inventoryLogs} />}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction InventoryView({\r\n  menuSync,\r\n  inventoryLogs,\r\n  currentUser,\r\n}: { menuSync: ReturnType<typeof useMenuSync>; inventoryLogs: ReturnType<typeof useInventoryLogs>; currentUser?: any }) {\r\n  const [adjustingId, setAdjustingId] = useState<string | null>(null)\r\n  const [adjustmentData, setAdjustmentData] = useState({ quantity: 0, type: \"restock\", reason: \"\" })\r\n\r\n  const lowStockItems = menuSync.getLowStockItems()\r\n\r\n  const handleAdjustment = async () => {\r\n    if (adjustingId) {\r\n      const item = menuSync.getMenuItemById(adjustingId)\r\n      if (item) {\r\n        const change = adjustmentData.type === \"restock\" ? adjustmentData.quantity : -adjustmentData.quantity\r\n        const newStock = (item.stock || 0) + change\r\n\r\n        // Update in-memory menu immediately\r\n        updateProductStock(item.id, newStock)\r\n\r\n        // Call API to update SQL and log the inventory change\r\n        try {\r\n          const response = await fetch(\"/api/inventory\", {\r\n            method: \"POST\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify({\r\n              product_id: item.name, // Send product name as fallback for database lookup\r\n              user_id: currentUser?.id || 1,\r\n              log_type: adjustmentData.type,\r\n              quantity_changed: change,\r\n              reason: adjustmentData.reason,\r\n            }),\r\n          })\r\n\r\n          if (response.ok) {\r\n            console.log(\"[Inventory] API sync successful\")\r\n            // Update inventory log\r\n            inventoryLogs.addLog({\r\n              productId: parseInt(adjustingId),\r\n              productName: item.name,\r\n              type: adjustmentData.type as any,\r\n              quantity: adjustmentData.quantity,\r\n              reason: adjustmentData.reason,\r\n              timestamp: new Date().toLocaleString(),\r\n              userId: currentUser?.id || 1,\r\n              userName: currentUser?.name || \"Inventory Officer\",\r\n            })\r\n          } else {\r\n            console.error(\"[Inventory] API sync failed:\", await response.text())\r\n          }\r\n        } catch (e) {\r\n          console.error(\"[Inventory] API error:\", e)\r\n        }\r\n\r\n        // Dispatch update event so manager and cashier panels refresh\r\n        if (typeof window !== \"undefined\") window.dispatchEvent(new CustomEvent(\"menu:update\"))\r\n\r\n        setAdjustingId(null)\r\n        setAdjustmentData({ quantity: 0, type: \"restock\", reason: \"\" })\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-8\">\r\n      <h2 className=\"text-3xl font-bold mb-8 text-foreground\">Stock Management</h2>\r\n\r\n      {lowStockItems.length > 0 && (\r\n        <div className=\"bg-yellow-50 border border-yellow-200 rounded-xl p-5 mb-8\">\r\n          <p className=\"text-sm font-bold text-yellow-800\">âš  Low Stock Items: {lowStockItems.length}</p>\r\n          <div className=\"mt-3 grid grid-cols-1 md:grid-cols-3 gap-3\">\r\n            {lowStockItems.map((item) => (\r\n              <p key={item.id} className=\"text-sm text-yellow-700 font-medium\">\r\n                {item.name} ({item.stock}/{item.minThreshold})\r\n              </p>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {adjustingId && (\r\n        <div className=\"bg-card border border-border rounded-xl p-6 mb-8 shadow-lg\">\r\n          <h3 className=\"text-xl font-bold mb-4 text-foreground\">Adjust Stock</h3>\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <select\r\n              value={adjustmentData.type}\r\n              onChange={(e) => setAdjustmentData({ ...adjustmentData, type: e.target.value })}\r\n              className=\"px-4 py-2 border border-border rounded-lg bg-card text-foreground focus:outline-none focus:ring-2 focus:ring-primary\"\r\n            >\r\n              <option value=\"restock\">Restock</option>\r\n              <option value=\"damage\">Damage</option>\r\n              <option value=\"waste\">Waste</option>\r\n            </select>\r\n            <input\r\n              type=\"number\"\r\n              placeholder=\"Quantity\"\r\n              value={adjustmentData.quantity}\r\n              onChange={(e) => setAdjustmentData({ ...adjustmentData, quantity: Number.parseInt(e.target.value) })}\r\n              className=\"px-4 py-2 border border-border rounded-lg bg-card text-foreground focus:outline-none focus:ring-2 focus:ring-primary\"\r\n            />\r\n            <textarea\r\n              placeholder=\"Reason\"\r\n              value={adjustmentData.reason}\r\n              onChange={(e) => setAdjustmentData({ ...adjustmentData, reason: e.target.value })}\r\n              className=\"px-4 py-2 border border-border rounded-lg bg-card text-foreground col-span-2 focus:outline-none focus:ring-2 focus:ring-primary\"\r\n            />\r\n          </div>\r\n          <div className=\"space-x-2 mt-4\">\r\n            <button\r\n              onClick={handleAdjustment}\r\n              className=\"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 font-semibold transition-all\"\r\n            >\r\n              Apply\r\n            </button>\r\n            <button\r\n              onClick={() => setAdjustingId(null)}\r\n              className=\"px-4 py-2 border border-border rounded-lg hover:bg-muted font-semibold transition-all text-foreground\"\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"bg-card border border-border rounded-xl overflow-hidden shadow-lg\">\r\n        <table className=\"w-full\">\r\n          <thead className=\"bg-primary/5 border-b border-border\">\r\n            <tr>\r\n              <th className=\"px-6 py-4 text-left font-bold text-foreground\">Product</th>\r\n              <th className=\"px-6 py-4 text-left font-bold text-foreground\">Current Stock</th>\r\n              <th className=\"px-6 py-4 text-left font-bold text-foreground\">Min Threshold</th>\r\n              <th className=\"px-6 py-4 text-left font-bold text-foreground\">Category</th>\r\n              <th className=\"px-6 py-4 text-left font-bold text-foreground\">Status</th>\r\n              <th className=\"px-6 py-4 text-left font-bold text-foreground\">Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody className=\"divide-y divide-border\">\r\n            {menuSync.menuItems.map((item) => (\r\n              <tr key={item.id} className=\"hover:bg-primary/5 transition-colors\">\r\n                <td className=\"px-6 py-4 font-medium text-foreground\">{item.name}</td>\r\n                <td className=\"px-6 py-4 text-foreground\">{item.stock}</td>\r\n                <td className=\"px-6 py-4 text-foreground\">{item.minThreshold}</td>\r\n                <td className=\"px-6 py-4 text-foreground\">{item.category}</td>\r\n                <td className=\"px-6 py-4\">\r\n                  <span\r\n                    className={`px-3 py-1 rounded-lg text-sm font-bold ${\r\n                      item.stock <= item.minThreshold\r\n                        ? \"bg-yellow-100 text-yellow-700 border border-yellow-200\"\r\n                        : \"bg-green-100 text-green-700 border border-green-200\"\r\n                    }`}\r\n                  >\r\n                    {item.stock <= item.minThreshold ? \"Low\" : \"OK\"}\r\n                  </span>\r\n                </td>\r\n                <td className=\"px-6 py-4\">\r\n                  <button\r\n                    onClick={() => setAdjustingId(item.id)}\r\n                    className=\"px-3 py-1 bg-primary/10 text-primary rounded-lg text-sm hover:bg-primary/20 font-semibold transition-colors border border-primary/20\"\r\n                  >\r\n                    Adjust\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction StockHistoryView({ inventoryLogs }: { inventoryLogs: ReturnType<typeof useInventoryLogs> }) {\r\n  return (\r\n    <div className=\"p-8\">\r\n      <h2 className=\"text-3xl font-bold mb-8 text-foreground\">Stock History</h2>\r\n      <div className=\"bg-card border border-border rounded-xl overflow-hidden shadow-lg\">\r\n        <table className=\"w-full\">\r\n          <thead className=\"bg-primary/5 border-b border-border\">\r\n            <tr>\r\n              <th className=\"px-6 py-4 text-left font-bold text-foreground\">Product</th>\r\n              <th className=\"px-6 py-4 text-left font-bold text-foreground\">Type</th>\r\n              <th className=\"px-6 py-4 text-left font-bold text-foreground\">Quantity</th>\r\n              <th className=\"px-6 py-4 text-left font-bold text-foreground\">Reason</th>\r\n              <th className=\"px-6 py-4 text-left font-bold text-foreground\">Officer</th>\r\n              <th className=\"px-6 py-4 text-left font-bold text-foreground\">Timestamp</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody className=\"divide-y divide-border\">\r\n            {inventoryLogs.logs.map((log) => (\r\n              <tr key={log.id} className=\"hover:bg-primary/5 transition-colors\">\r\n                <td className=\"px-6 py-4 text-foreground\">{log.productName}</td>\r\n                <td className=\"px-6 py-4 capitalize font-semibold text-foreground\">{log.type}</td>\r\n                <td className=\"px-6 py-4 font-bold text-foreground\">{log.quantity}</td>\r\n                <td className=\"px-6 py-4 text-foreground\">{log.reason || \"-\"}</td>\r\n                <td className=\"px-6 py-4 text-foreground\">{log.userName}</td>\r\n                <td className=\"px-6 py-4 text-muted-foreground text-sm\">{log.timestamp}</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 6491, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Downloads/sodalicious/app/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport CashierPanel from \"@/components/cashier-panel\"\r\nimport LoginPanel from \"@/components/login-panel\"\r\nimport ManagerDashboard from \"@/components/manager-dashboard\"\r\nimport InventoryPanel from \"@/components/inventory-panel\"\r\n\r\nexport default function Home() {\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false)\r\n  const [userRole, setUserRole] = useState<\"cashier\" | \"manager\" | \"inventory\">(\"cashier\")\r\n  const [currentUser, setCurrentUser] = useState<any>(null)\r\n\r\n  const handleLogin = (role: \"cashier\" | \"manager\" | \"inventory\" | string, user: any) => {\r\n    setUserRole(role as \"cashier\" | \"manager\" | \"inventory\")\r\n    setCurrentUser(user)\r\n    setIsLoggedIn(true)\r\n  }\r\n\r\n  const handleLogout = () => {\r\n    setIsLoggedIn(false)\r\n    setCurrentUser(null)\r\n  }\r\n\r\n  if (!isLoggedIn) {\r\n    return <LoginPanel onLogin={handleLogin} />\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-background\">\r\n      {userRole === \"cashier\" && <CashierPanel onLogout={handleLogout} currentUser={currentUser} />}\r\n      {userRole === \"manager\" && <ManagerDashboard onLogout={handleLogout} currentUser={currentUser} />}\r\n      {userRole === \"inventory\" && <InventoryPanel onLogout={handleLogout} currentUser={currentUser} />}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAQe,SAAS;IACtB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAsC;IAC9E,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAM;IAEpD,MAAM,cAAc,CAAC,MAAoD;QACvE,YAAY;QACZ,eAAe;QACf,cAAc;IAChB;IAEA,MAAM,eAAe;QACnB,cAAc;QACd,eAAe;IACjB;IAEA,IAAI,CAAC,YAAY;QACf,qBAAO,8OAAC,wIAAU;YAAC,SAAS;;;;;;IAC9B;IAEA,qBACE,8OAAC;QAAI,WAAU;;YACZ,aAAa,2BAAa,8OAAC,0IAAY;gBAAC,UAAU;gBAAc,aAAa;;;;;;YAC7E,aAAa,2BAAa,8OAAC,8IAAgB;gBAAC,UAAU;gBAAc,aAAa;;;;;;YACjF,aAAa,6BAAe,8OAAC,4IAAc;gBAAC,UAAU;gBAAc,aAAa;;;;;;;;;;;;AAGxF","debugId":null}}]
}