{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Downloads/sodalicious/lib/db.ts"],"sourcesContent":["import { neon } from \"@neondatabase/serverless\"\r\n\r\nconst connectionString = process.env.DATABASE_URL\r\n\r\nif (!connectionString) {\r\n  throw new Error(\"DATABASE_URL environment variable is not set\")\r\n}\r\n\r\nexport const sql = neon(connectionString)\r\n\r\n// Type definitions for database operations\r\nexport interface User {\r\n  id: number\r\n  email: string\r\n  name: string\r\n  role: \"cashier\" | \"manager\" | \"inventory_officer\"\r\n  is_active: boolean\r\n  created_at: string\r\n}\r\n\r\nexport interface Product {\r\n  id: number\r\n  name: string\r\n  category: string\r\n  price: number\r\n  description: string\r\n  stock_quantity: number\r\n  reorder_level: number\r\n  is_active: boolean\r\n}\r\n\r\nexport interface Order {\r\n  id: number\r\n  order_number: string\r\n  cashier_id: number\r\n  customer_name: string\r\n  total_amount: number\r\n  payment_method: string\r\n  order_status: string\r\n  created_at: string\r\n}\r\n\r\nexport interface OrderItem {\r\n  id: number\r\n  order_id: number\r\n  product_id: number\r\n  quantity: number\r\n  unit_price: number\r\n  subtotal: number\r\n}\r\n\r\nexport interface InventoryLog {\r\n  id: number\r\n  product_id: number\r\n  user_id: number\r\n  log_type: string\r\n  quantity_changed: number\r\n  reason: string\r\n  previous_quantity: number\r\n  new_quantity: number\r\n  created_at: string\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,mBAAmB,QAAQ,GAAG,CAAC,YAAY;AAEjD,IAAI,CAAC,kBAAkB;IACrB,MAAM,IAAI,MAAM;AAClB;AAEO,MAAM,MAAM,IAAA,gKAAI,EAAC","debugId":null}},
    {"offset": {"line": 61, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Downloads/sodalicious/lib/menu-data.ts"],"sourcesContent":["/**\r\n * SODALICIOUS.CO â€“ Complete POS Menu Data\r\n * Synced across Cashier, Manager, and Inventory panels\r\n * All prices in PHP, Stock quantities for tracking\r\n */\r\n\r\nexport interface MenuItem {\r\n  id: string\r\n  name: string\r\n  category: string\r\n  categoryCode: string\r\n  sizes: Array<{\r\n    size: string\r\n    price: number\r\n  }>\r\n  description?: string\r\n  stock: number\r\n  minThreshold: number\r\n  image?: string\r\n}\r\n\r\n// â˜• HOT COFFEE\r\nexport const HOT_COFFEE: MenuItem[] = [\r\n  {\r\n    id: \"HC001\",\r\n    name: \"Americano\",\r\n    category: \"Hot Coffee\",\r\n    categoryCode: \"HC\",\r\n    sizes: [\r\n      { size: \"S\", price: 45 },\r\n      { size: \"M\", price: 55 },\r\n      { size: \"L\", price: 65 },\r\n    ],\r\n    description: \"Classic Italian espresso with hot water\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n  {\r\n    id: \"HC002\",\r\n    name: \"CafÃ© Latte\",\r\n    category: \"Hot Coffee\",\r\n    categoryCode: \"HC\",\r\n    sizes: [\r\n      { size: \"S\", price: 55 },\r\n      { size: \"M\", price: 65 },\r\n      { size: \"L\", price: 75 },\r\n    ],\r\n    description: \"Smooth espresso with steamed milk\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n  {\r\n    id: \"HC003\",\r\n    name: \"Cappuccino\",\r\n    category: \"Hot Coffee\",\r\n    categoryCode: \"HC\",\r\n    sizes: [\r\n      { size: \"S\", price: 55 },\r\n      { size: \"M\", price: 65 },\r\n      { size: \"L\", price: 75 },\r\n    ],\r\n    description: \"Espresso with equal parts milk and foam\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n  {\r\n    id: \"HC004\",\r\n    name: \"Caramel Macchiato\",\r\n    category: \"Hot Coffee\",\r\n    categoryCode: \"HC\",\r\n    sizes: [\r\n      { size: \"S\", price: 60 },\r\n      { size: \"M\", price: 70 },\r\n      { size: \"L\", price: 80 },\r\n    ],\r\n    description: \"Rich espresso with caramel and steamed milk\",\r\n    stock: 40,\r\n    minThreshold: 8,\r\n  },\r\n  {\r\n    id: \"HC005\",\r\n    name: \"Mocha\",\r\n    category: \"Hot Coffee\",\r\n    categoryCode: \"HC\",\r\n    sizes: [\r\n      { size: \"S\", price: 60 },\r\n      { size: \"M\", price: 70 },\r\n      { size: \"L\", price: 80 },\r\n    ],\r\n    description: \"Espresso, steamed milk, and chocolate\",\r\n    stock: 40,\r\n    minThreshold: 8,\r\n  },\r\n]\r\n\r\n// ðŸ§Š ICED COFFEE\r\nexport const ICED_COFFEE: MenuItem[] = [\r\n  {\r\n    id: \"IC001\",\r\n    name: \"Iced Americano\",\r\n    category: \"Iced Coffee\",\r\n    categoryCode: \"IC\",\r\n    sizes: [\r\n      { size: \"R\", price: 55 },\r\n      { size: \"L\", price: 65 },\r\n    ],\r\n    description: \"Cold espresso with ice and water\",\r\n    stock: 40,\r\n    minThreshold: 12,\r\n  },\r\n  {\r\n    id: \"IC002\",\r\n    name: \"Iced Latte\",\r\n    category: \"Iced Coffee\",\r\n    categoryCode: \"IC\",\r\n    sizes: [\r\n      { size: \"R\", price: 65 },\r\n      { size: \"L\", price: 75 },\r\n    ],\r\n    description: \"Smooth iced espresso with cold milk\",\r\n    stock: 40,\r\n    minThreshold: 12,\r\n  },\r\n  {\r\n    id: \"IC003\",\r\n    name: \"Iced Caramel\",\r\n    category: \"Iced Coffee\",\r\n    categoryCode: \"IC\",\r\n    sizes: [\r\n      { size: \"R\", price: 70 },\r\n      { size: \"L\", price: 80 },\r\n    ],\r\n    description: \"Iced espresso with caramel and milk\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n  {\r\n    id: \"IC004\",\r\n    name: \"Iced Vanilla Brew\",\r\n    category: \"Iced Coffee\",\r\n    categoryCode: \"IC\",\r\n    sizes: [\r\n      { size: \"R\", price: 65 },\r\n      { size: \"L\", price: 75 },\r\n    ],\r\n    description: \"Cold brew with vanilla essence\",\r\n    stock: 40,\r\n    minThreshold: 12,\r\n  },\r\n  {\r\n    id: \"IC005\",\r\n    name: \"Iced Mocha\",\r\n    category: \"Iced Coffee\",\r\n    categoryCode: \"IC\",\r\n    sizes: [\r\n      { size: \"R\", price: 70 },\r\n      { size: \"L\", price: 80 },\r\n    ],\r\n    description: \"Iced espresso with chocolate and milk\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n]\r\n\r\n// ðŸ¥¤ FRAPPES\r\nexport const FRAPPES: MenuItem[] = [\r\n  {\r\n    id: \"FR001\",\r\n    name: \"Chocolate Frappe\",\r\n    category: \"Frappes\",\r\n    categoryCode: \"FR\",\r\n    sizes: [{ size: \"16oz\", price: 75 }],\r\n    description: \"Blended chocolate frappe with whipped cream\",\r\n    stock: 40,\r\n    minThreshold: 8,\r\n  },\r\n  {\r\n    id: \"FR002\",\r\n    name: \"Caramel Frappe\",\r\n    category: \"Frappes\",\r\n    categoryCode: \"FR\",\r\n    sizes: [{ size: \"16oz\", price: 75 }],\r\n    description: \"Blended caramel frappe with whipped cream\",\r\n    stock: 40,\r\n    minThreshold: 8,\r\n  },\r\n  {\r\n    id: \"FR003\",\r\n    name: \"Cookies & Cream Frappe\",\r\n    category: \"Frappes\",\r\n    categoryCode: \"FR\",\r\n    sizes: [{ size: \"16oz\", price: 80 }],\r\n    description: \"Cookies and cream blended frappe\",\r\n    stock: 40,\r\n    minThreshold: 8,\r\n  },\r\n  {\r\n    id: \"FR004\",\r\n    name: \"Matcha Frappe\",\r\n    category: \"Frappes\",\r\n    categoryCode: \"FR\",\r\n    sizes: [{ size: \"16oz\", price: 85 }],\r\n    description: \"Blended matcha frappe with whipped cream\",\r\n    stock: 40,\r\n    minThreshold: 6,\r\n  },\r\n  {\r\n    id: \"FR005\",\r\n    name: \"Coffee Jelly Frappe\",\r\n    category: \"Frappes\",\r\n    categoryCode: \"FR\",\r\n    sizes: [{ size: \"16oz\", price: 80 }],\r\n    description: \"Coffee frappe with coffee jelly bits\",\r\n    stock: 40,\r\n    minThreshold: 8,\r\n  },\r\n]\r\n\r\n// ðŸ«§ SODA SERIES\r\nexport const SODA_SERIES: MenuItem[] = [\r\n  {\r\n    id: \"SS001\",\r\n    name: \"Blue Lemon Soda\",\r\n    category: \"Soda Series\",\r\n    categoryCode: \"SS\",\r\n    sizes: [\r\n      { size: \"R\", price: 55 },\r\n      { size: \"L\", price: 65 },\r\n    ],\r\n    description: \"Refreshing blue lemon carbonated drink\",\r\n    stock: 40,\r\n    minThreshold: 15,\r\n  },\r\n  {\r\n    id: \"SS002\",\r\n    name: \"Strawberry Fizz\",\r\n    category: \"Soda Series\",\r\n    categoryCode: \"SS\",\r\n    sizes: [\r\n      { size: \"R\", price: 55 },\r\n      { size: \"L\", price: 65 },\r\n    ],\r\n    description: \"Sweet strawberry flavored soda\",\r\n    stock: 40,\r\n    minThreshold: 15,\r\n  },\r\n  {\r\n    id: \"SS003\",\r\n    name: \"Green Apple Soda\",\r\n    category: \"Soda Series\",\r\n    categoryCode: \"SS\",\r\n    sizes: [\r\n      { size: \"R\", price: 55 },\r\n      { size: \"L\", price: 65 },\r\n    ],\r\n    description: \"Crisp green apple soda\",\r\n    stock: 40,\r\n    minThreshold: 15,\r\n  },\r\n  {\r\n    id: \"SS004\",\r\n    name: \"Lychee Pop Soda\",\r\n    category: \"Soda Series\",\r\n    categoryCode: \"SS\",\r\n    sizes: [\r\n      { size: \"R\", price: 60 },\r\n      { size: \"L\", price: 70 },\r\n    ],\r\n    description: \"Tropical lychee flavored soda\",\r\n    stock: 40,\r\n    minThreshold: 12,\r\n  },\r\n  {\r\n    id: \"SS005\",\r\n    name: \"Mango Burst Soda\",\r\n    category: \"Soda Series\",\r\n    categoryCode: \"SS\",\r\n    sizes: [\r\n      { size: \"R\", price: 60 },\r\n      { size: \"L\", price: 70 },\r\n    ],\r\n    description: \"Tropical mango soda explosion\",\r\n    stock: 40,\r\n    minThreshold: 12,\r\n  },\r\n]\r\n\r\n// ðŸ§ƒ YAKULT SERIES\r\nexport const YAKULT_SERIES: MenuItem[] = [\r\n  {\r\n    id: \"YK001\",\r\n    name: \"Blue Yakult\",\r\n    category: \"Yakult Series\",\r\n    categoryCode: \"YK\",\r\n    sizes: [\r\n      { size: \"R\", price: 60 },\r\n      { size: \"L\", price: 70 },\r\n    ],\r\n    description: \"Probiotic blue flavored Yakult\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n  {\r\n    id: \"YK002\",\r\n    name: \"Strawberry Yakult\",\r\n    category: \"Yakult Series\",\r\n    categoryCode: \"YK\",\r\n    sizes: [\r\n      { size: \"R\", price: 60 },\r\n      { size: \"L\", price: 70 },\r\n    ],\r\n    description: \"Probiotic strawberry Yakult\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n  {\r\n    id: \"YK003\",\r\n    name: \"Green Apple Yakult\",\r\n    category: \"Yakult Series\",\r\n    categoryCode: \"YK\",\r\n    sizes: [\r\n      { size: \"R\", price: 60 },\r\n      { size: \"L\", price: 70 },\r\n    ],\r\n    description: \"Probiotic green apple Yakult\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n  {\r\n    id: \"YK004\",\r\n    name: \"Mango Yakult\",\r\n    category: \"Yakult Series\",\r\n    categoryCode: \"YK\",\r\n    sizes: [\r\n      { size: \"R\", price: 60 },\r\n      { size: \"L\", price: 70 },\r\n    ],\r\n    description: \"Probiotic mango Yakult\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n  {\r\n    id: \"YK005\",\r\n    name: \"Lychee Yakult\",\r\n    category: \"Yakult Series\",\r\n    categoryCode: \"YK\",\r\n    sizes: [\r\n      { size: \"R\", price: 60 },\r\n      { size: \"L\", price: 70 },\r\n    ],\r\n    description: \"Probiotic lychee Yakult\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n]\r\n\r\n// ðŸµ MATCHA SERIES\r\nexport const MATCHA_SERIES: MenuItem[] = [\r\n  {\r\n    id: \"MC001\",\r\n    name: \"Classic Matcha\",\r\n    category: \"Matcha Series\",\r\n    categoryCode: \"MC\",\r\n    sizes: [\r\n      { size: \"R\", price: 70 },\r\n      { size: \"L\", price: 80 },\r\n    ],\r\n    description: \"Traditional matcha powder blend\",\r\n    stock: 40,\r\n    minThreshold: 8,\r\n  },\r\n  {\r\n    id: \"MC002\",\r\n    name: \"Matcha Latte\",\r\n    category: \"Matcha Series\",\r\n    categoryCode: \"MC\",\r\n    sizes: [\r\n      { size: \"R\", price: 75 },\r\n      { size: \"L\", price: 85 },\r\n    ],\r\n    description: \"Matcha with steamed milk\",\r\n    stock: 40,\r\n    minThreshold: 8,\r\n  },\r\n  {\r\n    id: \"MC003\",\r\n    name: \"Matcha Caramel\",\r\n    category: \"Matcha Series\",\r\n    categoryCode: \"MC\",\r\n    sizes: [\r\n      { size: \"R\", price: 80 },\r\n      { size: \"L\", price: 90 },\r\n    ],\r\n    description: \"Matcha with caramel drizzle\",\r\n    stock: 40,\r\n    minThreshold: 6,\r\n  },\r\n  {\r\n    id: \"MC004\",\r\n    name: \"Matcha Vanilla\",\r\n    category: \"Matcha Series\",\r\n    categoryCode: \"MC\",\r\n    sizes: [\r\n      { size: \"R\", price: 75 },\r\n      { size: \"L\", price: 85 },\r\n    ],\r\n    description: \"Matcha with vanilla essence\",\r\n    stock: 40,\r\n    minThreshold: 8,\r\n  },\r\n  {\r\n    id: \"MC005\",\r\n    name: \"Dirty Matcha\",\r\n    category: \"Matcha Series\",\r\n    categoryCode: \"MC\",\r\n    sizes: [\r\n      { size: \"R\", price: 85 },\r\n      { size: \"L\", price: 95 },\r\n    ],\r\n    description: \"Matcha with espresso shot\",\r\n    stock: 40,\r\n    minThreshold: 6,\r\n  },\r\n]\r\n\r\n// ðŸ± COMBO MEALS\r\nexport const COMBO_MEALS: MenuItem[] = [\r\n  {\r\n    id: \"CM001\",\r\n    name: \"Fries + Soda\",\r\n    category: \"Combo Meals\",\r\n    categoryCode: \"CM\",\r\n    sizes: [{ size: \"Combo\", price: 99 }],\r\n    description: \"Regular Fries + Regular Soda\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n  {\r\n    id: \"CM002\",\r\n    name: \"Siomai Rice + Soda\",\r\n    category: \"Combo Meals\",\r\n    categoryCode: \"CM\",\r\n    sizes: [{ size: \"Combo\", price: 110 }],\r\n    description: \"Siomai Rice + Regular Soda\",\r\n    stock: 40,\r\n    minThreshold: 8,\r\n  },\r\n  {\r\n    id: \"CM003\",\r\n    name: \"Burger + Soda\",\r\n    category: \"Combo Meals\",\r\n    categoryCode: \"CM\",\r\n    sizes: [{ size: \"Combo\", price: 120 }],\r\n    description: \"Cheeseburger + Regular Soda\",\r\n    stock: 40,\r\n    minThreshold: 8,\r\n  },\r\n  {\r\n    id: \"CM004\",\r\n    name: \"Nuggets + Soda\",\r\n    category: \"Combo Meals\",\r\n    categoryCode: \"CM\",\r\n    sizes: [{ size: \"Combo\", price: 115 }],\r\n    description: \"6pcs Nuggets + Regular Soda\",\r\n    stock: 40,\r\n    minThreshold: 8,\r\n  },\r\n  {\r\n    id: \"CM005\",\r\n    name: \"Hotdog + Soda\",\r\n    category: \"Combo Meals\",\r\n    categoryCode: \"CM\",\r\n    sizes: [{ size: \"Combo\", price: 99 }],\r\n    description: \"Hotdog Sandwich + Regular Soda\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n]\r\n\r\n// ðŸŸ SNACKS\r\nexport const SNACKS: MenuItem[] = [\r\n  {\r\n    id: \"SN001\",\r\n    name: \"Fries\",\r\n    category: \"Snacks\",\r\n    categoryCode: \"SN\",\r\n    sizes: [\r\n      { size: \"Reg\", price: 45 },\r\n      { size: \"Lrg\", price: 60 },\r\n    ],\r\n    description: \"Crispy golden fries\",\r\n    stock: 40,\r\n    minThreshold: 15,\r\n  },\r\n  {\r\n    id: \"SN002\",\r\n    name: \"Kropek\",\r\n    category: \"Snacks\",\r\n    categoryCode: \"SN\",\r\n    sizes: [{ size: \"Solo\", price: 45 }],\r\n    description: \"Crispy prawn cracker\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n  {\r\n    id: \"SN003\",\r\n    name: \"Nachos\",\r\n    category: \"Snacks\",\r\n    categoryCode: \"SN\",\r\n    sizes: [{ size: \"Solo\", price: 60 }],\r\n    description: \"Cheese nachos with dip\",\r\n    stock: 40,\r\n    minThreshold: 8,\r\n  },\r\n  {\r\n    id: \"SN004\",\r\n    name: \"Cheese Sticks\",\r\n    category: \"Snacks\",\r\n    categoryCode: \"SN\",\r\n    sizes: [{ size: \"6 pcs\", price: 50 }],\r\n    description: \"Golden fried cheese sticks\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n  {\r\n    id: \"SN005\",\r\n    name: \"Siomai Rice\",\r\n    category: \"Snacks\",\r\n    categoryCode: \"SN\",\r\n    sizes: [{ size: \"Solo\", price: 55 }],\r\n    description: \"Siomai served with rice\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n]\r\n\r\n// Combined complete menu\r\nexport const COMPLETE_MENU: MenuItem[] = [\r\n  ...HOT_COFFEE,\r\n  ...ICED_COFFEE,\r\n  ...FRAPPES,\r\n  ...SODA_SERIES,\r\n  ...YAKULT_SERIES,\r\n  ...MATCHA_SERIES,\r\n  ...COMBO_MEALS,\r\n  ...SNACKS,\r\n]\r\n\r\n// Menu categories for filtering\r\nexport const MENU_CATEGORIES = [\r\n  { code: \"HC\", name: \"Hot Coffee\", emoji: \"â˜•\" },\r\n  { code: \"IC\", name: \"Iced Coffee\", emoji: \"ðŸ§Š\" },\r\n  { code: \"FR\", name: \"Frappes\", emoji: \"ðŸ¥¤\" },\r\n  { code: \"SS\", name: \"Soda Series\", emoji: \"ðŸ«§\" },\r\n  { code: \"YK\", name: \"Yakult Series\", emoji: \"ðŸ§ƒ\" },\r\n  { code: \"MC\", name: \"Matcha Series\", emoji: \"ðŸµ\" },\r\n  { code: \"CM\", name: \"Combo Meals\", emoji: \"ðŸ±\" },\r\n  { code: \"SN\", name: \"Snacks\", emoji: \"ðŸŸ\" },\r\n]\r\n\r\n// Helper function to get menu items by category\r\nexport function getMenuByCategory(categoryCode: string): MenuItem[] {\r\n  return COMPLETE_MENU.filter((item) => item.categoryCode === categoryCode)\r\n}\r\n\r\n// Helper function to get all categories\r\nexport function getAllCategories(): string[] {\r\n  return MENU_CATEGORIES.map((cat) => cat.name)\r\n}\r\n\r\n// Helper function to convert MenuItem to Product format for store compatibility\r\nexport function menuItemToProduct(item: MenuItem, sizeIndex: number = 0) {\r\n  const size = item.sizes[sizeIndex]\r\n  return {\r\n    id: item.id,\r\n    name: `${item.name} (${size.size})`,\r\n    price: size.price,\r\n    category: item.category,\r\n    stock: item.stock,\r\n    minThreshold: item.minThreshold,\r\n    description: item.description,\r\n    image: item.image,\r\n  }\r\n}\r\n\r\n// Get all products flattened with sizes as separate entries\r\nexport function getAllProductVariants() {\r\n  return COMPLETE_MENU.flatMap((item) =>\r\n    item.sizes.map((size, index) => ({\r\n      id: `${item.id}-${size.size}`,\r\n      baseId: item.id,\r\n      name: item.name,\r\n      size: size.size,\r\n      price: size.price,\r\n      category: item.category,\r\n      categoryCode: item.categoryCode,\r\n      stock: item.stock,\r\n      minThreshold: item.minThreshold,\r\n      description: item.description,\r\n      image: item.image,\r\n    })),\r\n  )\r\n}\r\n\r\n// Get base menu items (one per drink, no size duplication) - for cashier modal selection\r\nexport function getBaseMenuItems() {\r\n  return COMPLETE_MENU.map((item) => ({\r\n    id: item.id,\r\n    name: item.name,\r\n    category: item.category,\r\n    categoryCode: item.categoryCode,\r\n    sizes: item.sizes,\r\n    description: item.description,\r\n    stock: item.stock,\r\n    minThreshold: item.minThreshold,\r\n    image: item.image,\r\n  }))\r\n}\r\n\r\n// Stock management functions\r\nexport function deductStock(productId: string, quantity: number): boolean {\r\n  const item = COMPLETE_MENU.find((i) => i.id === productId)\r\n  if (!item) return false\r\n  if (item.stock < quantity) return false\r\n  \r\n  item.stock -= quantity\r\n  return true\r\n}\r\n\r\nexport function getProductById(productId: string): MenuItem | undefined {\r\n  return COMPLETE_MENU.find((i) => i.id === productId)\r\n}\r\n\r\nexport function updateProductStock(productId: string, newStock: number): boolean {\r\n  const item = COMPLETE_MENU.find((i) => i.id === productId)\r\n  if (!item) return false\r\n  \r\n  item.stock = Math.max(0, newStock)\r\n  return true\r\n}\r\n\r\n// Find a menu item by base name (e.g. \"Americano\")\r\nexport function findMenuItemByName(baseName: string) {\r\n  return COMPLETE_MENU.find((i) => i.name === baseName)\r\n}\r\n\r\n// Adjust stock by a delta using the base product name. Positive delta = restock.\r\nexport function changeStockByName(baseName: string, delta: number): boolean {\r\n  const item = findMenuItemByName(baseName)\r\n  if (!item) return false\r\n  item.stock = Math.max(0, item.stock + delta)\r\n  return true\r\n}\r\n\r\n// Set absolute stock by base product name.\r\nexport function setStockByName(baseName: string, newStock: number): boolean {\r\n  const item = findMenuItemByName(baseName)\r\n  if (!item) return false\r\n  item.stock = Math.max(0, newStock)\r\n  return true\r\n}\r\n\r\nexport function getStockLevel(productId: string): number {\r\n  const item = COMPLETE_MENU.find((i) => i.id === productId)\r\n  return item?.stock || 0\r\n}\r\n\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 989, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Downloads/sodalicious/app/api/inventory/route.ts"],"sourcesContent":["import { sql } from \"@/lib/db\"\r\nimport { type NextRequest, NextResponse } from \"next/server\"\r\nimport { changeStockByName } from \"@/lib/menu-data\"\r\n\r\nexport async function GET(request: NextRequest) {\r\n  try {\r\n    const logs = await sql`\r\n      SELECT il.*, p.name as product_name, u.name as user_name \r\n      FROM inventory_logs il \r\n      LEFT JOIN products p ON il.product_id = p.id \r\n      LEFT JOIN users u ON il.user_id = u.id \r\n      ORDER BY il.created_at DESC LIMIT 100\r\n    `\r\n\r\n    return NextResponse.json(logs)\r\n  } catch (error) {\r\n    console.error(\"[v0] Inventory GET error:\", error)\r\n    return NextResponse.json({ error: \"Failed to fetch inventory logs\" }, { status: 500 })\r\n  }\r\n}\r\n\r\nexport async function POST(request: NextRequest) {\r\n  try {\r\n    const { product_id, user_id, log_type, quantity_changed, reason } = await request.json()\r\n\r\n    // Get current stock + name - try numeric ID first, then name-based lookup\r\n    let productResult: any[] = []\r\n    \r\n    // Try numeric ID lookup\r\n    if (!Number.isNaN(Number(product_id))) {\r\n      const byId = await sql`SELECT id, name, stock_quantity FROM products WHERE id = ${Number(product_id)}`\r\n      if (byId.length > 0) productResult = byId\r\n    }\r\n    \r\n    // Fallback: try string ID as product name (menu items like \"Americano\")\r\n    if (productResult.length === 0) {\r\n      const byName = await sql`SELECT id, name, stock_quantity FROM products WHERE name = ${String(product_id)} LIMIT 1`\r\n      if (byName.length > 0) productResult = byName\r\n    }\r\n    \r\n    if (productResult.length === 0) {\r\n      console.error(`[Inventory] Product not found with ID/name: ${product_id}`)\r\n      return NextResponse.json({ error: \"Product not found\" }, { status: 404 })\r\n    }\r\n\r\n    const previousQuantity = productResult[0].stock_quantity\r\n    const newQuantity = previousQuantity + quantity_changed\r\n\r\n    // Update stock in DB\r\n    await sql`UPDATE products SET stock_quantity = ${newQuantity} WHERE id = ${productResult[0].id}`\r\n\r\n    // Log the change\r\n    const logResult = await sql`\r\n      INSERT INTO inventory_logs (product_id, user_id, log_type, quantity_changed, reason, previous_quantity, new_quantity) \r\n      VALUES (${productResult[0].id}, ${user_id}, ${log_type}, ${quantity_changed}, ${reason}, ${previousQuantity}, ${newQuantity}) \r\n      RETURNING *\r\n    `\r\n\r\n    // Update server in-memory menu-data (best-effort mapping by product name)\r\n    try {\r\n      const baseName = productResult[0].name\r\n      changeStockByName(baseName, quantity_changed)\r\n    } catch (e) {\r\n      // non-fatal if mapping fails\r\n      console.warn(\"[Inventory] Failed to sync in-memory menu-data by name:\", e)\r\n    }\r\n\r\n    return NextResponse.json(logResult[0], { status: 201 })\r\n  } catch (error) {\r\n    console.error(\"[v0] Inventory POST error:\", error)\r\n    return NextResponse.json({ error: \"Failed to log inventory change\" }, { status: 500 })\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;;;;AAEO,eAAe,IAAI,OAAoB;IAC5C,IAAI;QACF,MAAM,OAAO,MAAM,kHAAG,CAAC;;;;;;IAMvB,CAAC;QAED,OAAO,gJAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,6BAA6B;QAC3C,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAiC,GAAG;YAAE,QAAQ;QAAI;IACtF;AACF;AAEO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,EAAE,UAAU,EAAE,OAAO,EAAE,QAAQ,EAAE,gBAAgB,EAAE,MAAM,EAAE,GAAG,MAAM,QAAQ,IAAI;QAEtF,0EAA0E;QAC1E,IAAI,gBAAuB,EAAE;QAE7B,wBAAwB;QACxB,IAAI,CAAC,OAAO,KAAK,CAAC,OAAO,cAAc;YACrC,MAAM,OAAO,MAAM,kHAAG,CAAC,yDAAyD,EAAE,OAAO,YAAY,CAAC;YACtG,IAAI,KAAK,MAAM,GAAG,GAAG,gBAAgB;QACvC;QAEA,wEAAwE;QACxE,IAAI,cAAc,MAAM,KAAK,GAAG;YAC9B,MAAM,SAAS,MAAM,kHAAG,CAAC,2DAA2D,EAAE,OAAO,YAAY,QAAQ,CAAC;YAClH,IAAI,OAAO,MAAM,GAAG,GAAG,gBAAgB;QACzC;QAEA,IAAI,cAAc,MAAM,KAAK,GAAG;YAC9B,QAAQ,KAAK,CAAC,CAAC,4CAA4C,EAAE,YAAY;YACzE,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAoB,GAAG;gBAAE,QAAQ;YAAI;QACzE;QAEA,MAAM,mBAAmB,aAAa,CAAC,EAAE,CAAC,cAAc;QACxD,MAAM,cAAc,mBAAmB;QAEvC,qBAAqB;QACrB,MAAM,kHAAG,CAAC,qCAAqC,EAAE,YAAY,YAAY,EAAE,aAAa,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QAEhG,iBAAiB;QACjB,MAAM,YAAY,MAAM,kHAAG,CAAC;;cAElB,EAAE,aAAa,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,QAAQ,EAAE,EAAE,SAAS,EAAE,EAAE,iBAAiB,EAAE,EAAE,OAAO,EAAE,EAAE,iBAAiB,EAAE,EAAE,YAAY;;IAE9H,CAAC;QAED,0EAA0E;QAC1E,IAAI;YACF,MAAM,WAAW,aAAa,CAAC,EAAE,CAAC,IAAI;YACtC,IAAA,0IAAiB,EAAC,UAAU;QAC9B,EAAE,OAAO,GAAG;YACV,6BAA6B;YAC7B,QAAQ,IAAI,CAAC,2DAA2D;QAC1E;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,EAAE;YAAE,QAAQ;QAAI;IACvD,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAiC,GAAG;YAAE,QAAQ;QAAI;IACtF;AACF","debugId":null}}]
}