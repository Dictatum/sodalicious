{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Downloads/sodalicious/lib/menu-data.ts"],"sourcesContent":["/**\r\n * SODALICIOUS.CO â€“ Complete POS Menu Data\r\n * Synced across Cashier, Manager, and Inventory panels\r\n * All prices in PHP, Stock quantities for tracking\r\n */\r\n\r\nexport interface MenuItem {\r\n  id: string\r\n  name: string\r\n  category: string\r\n  categoryCode: string\r\n  sizes: Array<{\r\n    size: string\r\n    price: number\r\n  }>\r\n  description?: string\r\n  stock: number\r\n  minThreshold: number\r\n  image?: string\r\n  bottleneck_ingredient?: string\r\n  ingredients_list?: string\r\n}\r\n\r\n// â˜• HOT COFFEE\r\nexport const HOT_COFFEE: MenuItem[] = [\r\n  {\r\n    id: \"HC001\",\r\n    name: \"Americano\",\r\n    category: \"Hot Coffee\",\r\n    categoryCode: \"HC\",\r\n    sizes: [\r\n      { size: \"S\", price: 45 },\r\n      { size: \"M\", price: 55 },\r\n      { size: \"L\", price: 65 },\r\n    ],\r\n    description: \"Classic Italian espresso with hot water\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n  {\r\n    id: \"HC002\",\r\n    name: \"CafÃ© Latte\",\r\n    category: \"Hot Coffee\",\r\n    categoryCode: \"HC\",\r\n    sizes: [\r\n      { size: \"S\", price: 55 },\r\n      { size: \"M\", price: 65 },\r\n      { size: \"L\", price: 75 },\r\n    ],\r\n    description: \"Smooth espresso with steamed milk\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n  {\r\n    id: \"HC003\",\r\n    name: \"Cappuccino\",\r\n    category: \"Hot Coffee\",\r\n    categoryCode: \"HC\",\r\n    sizes: [\r\n      { size: \"S\", price: 55 },\r\n      { size: \"M\", price: 65 },\r\n      { size: \"L\", price: 75 },\r\n    ],\r\n    description: \"Espresso with equal parts milk and foam\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n  {\r\n    id: \"HC004\",\r\n    name: \"Caramel Macchiato\",\r\n    category: \"Hot Coffee\",\r\n    categoryCode: \"HC\",\r\n    sizes: [\r\n      { size: \"S\", price: 60 },\r\n      { size: \"M\", price: 70 },\r\n      { size: \"L\", price: 80 },\r\n    ],\r\n    description: \"Rich espresso with caramel and steamed milk\",\r\n    stock: 40,\r\n    minThreshold: 8,\r\n  },\r\n  {\r\n    id: \"HC005\",\r\n    name: \"Mocha\",\r\n    category: \"Hot Coffee\",\r\n    categoryCode: \"HC\",\r\n    sizes: [\r\n      { size: \"S\", price: 60 },\r\n      { size: \"M\", price: 70 },\r\n      { size: \"L\", price: 80 },\r\n    ],\r\n    description: \"Espresso, steamed milk, and chocolate\",\r\n    stock: 40,\r\n    minThreshold: 8,\r\n  },\r\n]\r\n\r\n// ðŸ§Š ICED COFFEE\r\nexport const ICED_COFFEE: MenuItem[] = [\r\n  {\r\n    id: \"IC001\",\r\n    name: \"Iced Americano\",\r\n    category: \"Iced Coffee\",\r\n    categoryCode: \"IC\",\r\n    sizes: [\r\n      { size: \"R\", price: 55 },\r\n      { size: \"L\", price: 65 },\r\n    ],\r\n    description: \"Cold espresso with ice and water\",\r\n    stock: 40,\r\n    minThreshold: 12,\r\n  },\r\n  {\r\n    id: \"IC002\",\r\n    name: \"Iced Latte\",\r\n    category: \"Iced Coffee\",\r\n    categoryCode: \"IC\",\r\n    sizes: [\r\n      { size: \"R\", price: 65 },\r\n      { size: \"L\", price: 75 },\r\n    ],\r\n    description: \"Smooth iced espresso with cold milk\",\r\n    stock: 40,\r\n    minThreshold: 12,\r\n  },\r\n  {\r\n    id: \"IC003\",\r\n    name: \"Iced Caramel\",\r\n    category: \"Iced Coffee\",\r\n    categoryCode: \"IC\",\r\n    sizes: [\r\n      { size: \"R\", price: 70 },\r\n      { size: \"L\", price: 80 },\r\n    ],\r\n    description: \"Iced espresso with caramel and milk\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n  {\r\n    id: \"IC004\",\r\n    name: \"Iced Vanilla Brew\",\r\n    category: \"Iced Coffee\",\r\n    categoryCode: \"IC\",\r\n    sizes: [\r\n      { size: \"R\", price: 65 },\r\n      { size: \"L\", price: 75 },\r\n    ],\r\n    description: \"Cold brew with vanilla essence\",\r\n    stock: 40,\r\n    minThreshold: 12,\r\n  },\r\n  {\r\n    id: \"IC005\",\r\n    name: \"Iced Mocha\",\r\n    category: \"Iced Coffee\",\r\n    categoryCode: \"IC\",\r\n    sizes: [\r\n      { size: \"R\", price: 70 },\r\n      { size: \"L\", price: 80 },\r\n    ],\r\n    description: \"Iced espresso with chocolate and milk\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n]\r\n\r\n// ðŸ¥¤ FRAPPES\r\nexport const FRAPPES: MenuItem[] = [\r\n  {\r\n    id: \"FR001\",\r\n    name: \"Chocolate Frappe\",\r\n    category: \"Frappes\",\r\n    categoryCode: \"FR\",\r\n    sizes: [{ size: \"16oz\", price: 75 }],\r\n    description: \"Blended chocolate frappe with whipped cream\",\r\n    stock: 40,\r\n    minThreshold: 8,\r\n  },\r\n  {\r\n    id: \"FR002\",\r\n    name: \"Caramel Frappe\",\r\n    category: \"Frappes\",\r\n    categoryCode: \"FR\",\r\n    sizes: [{ size: \"16oz\", price: 75 }],\r\n    description: \"Blended caramel frappe with whipped cream\",\r\n    stock: 40,\r\n    minThreshold: 8,\r\n  },\r\n  {\r\n    id: \"FR003\",\r\n    name: \"Cookies & Cream Frappe\",\r\n    category: \"Frappes\",\r\n    categoryCode: \"FR\",\r\n    sizes: [{ size: \"16oz\", price: 80 }],\r\n    description: \"Cookies and cream blended frappe\",\r\n    stock: 40,\r\n    minThreshold: 8,\r\n  },\r\n  {\r\n    id: \"FR004\",\r\n    name: \"Matcha Frappe\",\r\n    category: \"Frappes\",\r\n    categoryCode: \"FR\",\r\n    sizes: [{ size: \"16oz\", price: 85 }],\r\n    description: \"Blended matcha frappe with whipped cream\",\r\n    stock: 40,\r\n    minThreshold: 6,\r\n  },\r\n  {\r\n    id: \"FR005\",\r\n    name: \"Coffee Jelly Frappe\",\r\n    category: \"Frappes\",\r\n    categoryCode: \"FR\",\r\n    sizes: [{ size: \"16oz\", price: 80 }],\r\n    description: \"Coffee frappe with coffee jelly bits\",\r\n    stock: 40,\r\n    minThreshold: 8,\r\n  },\r\n]\r\n\r\n// ðŸ«§ SODA SERIES\r\nexport const SODA_SERIES: MenuItem[] = [\r\n  {\r\n    id: \"SS001\",\r\n    name: \"Blue Lemon Soda\",\r\n    category: \"Soda Series\",\r\n    categoryCode: \"SS\",\r\n    sizes: [\r\n      { size: \"R\", price: 55 },\r\n      { size: \"L\", price: 65 },\r\n    ],\r\n    description: \"Refreshing blue lemon carbonated drink\",\r\n    stock: 40,\r\n    minThreshold: 15,\r\n  },\r\n  {\r\n    id: \"SS002\",\r\n    name: \"Strawberry Fizz\",\r\n    category: \"Soda Series\",\r\n    categoryCode: \"SS\",\r\n    sizes: [\r\n      { size: \"R\", price: 55 },\r\n      { size: \"L\", price: 65 },\r\n    ],\r\n    description: \"Sweet strawberry flavored soda\",\r\n    stock: 40,\r\n    minThreshold: 15,\r\n  },\r\n  {\r\n    id: \"SS003\",\r\n    name: \"Green Apple Soda\",\r\n    category: \"Soda Series\",\r\n    categoryCode: \"SS\",\r\n    sizes: [\r\n      { size: \"R\", price: 55 },\r\n      { size: \"L\", price: 65 },\r\n    ],\r\n    description: \"Crisp green apple soda\",\r\n    stock: 40,\r\n    minThreshold: 15,\r\n  },\r\n  {\r\n    id: \"SS004\",\r\n    name: \"Lychee Pop Soda\",\r\n    category: \"Soda Series\",\r\n    categoryCode: \"SS\",\r\n    sizes: [\r\n      { size: \"R\", price: 60 },\r\n      { size: \"L\", price: 70 },\r\n    ],\r\n    description: \"Tropical lychee flavored soda\",\r\n    stock: 40,\r\n    minThreshold: 12,\r\n  },\r\n  {\r\n    id: \"SS005\",\r\n    name: \"Mango Burst Soda\",\r\n    category: \"Soda Series\",\r\n    categoryCode: \"SS\",\r\n    sizes: [\r\n      { size: \"R\", price: 60 },\r\n      { size: \"L\", price: 70 },\r\n    ],\r\n    description: \"Tropical mango soda explosion\",\r\n    stock: 40,\r\n    minThreshold: 12,\r\n  },\r\n]\r\n\r\n// ðŸ§ƒ YAKULT SERIES\r\nexport const YAKULT_SERIES: MenuItem[] = [\r\n  {\r\n    id: \"YK001\",\r\n    name: \"Blue Yakult\",\r\n    category: \"Yakult Series\",\r\n    categoryCode: \"YK\",\r\n    sizes: [\r\n      { size: \"R\", price: 60 },\r\n      { size: \"L\", price: 70 },\r\n    ],\r\n    description: \"Probiotic blue flavored Yakult\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n  {\r\n    id: \"YK002\",\r\n    name: \"Strawberry Yakult\",\r\n    category: \"Yakult Series\",\r\n    categoryCode: \"YK\",\r\n    sizes: [\r\n      { size: \"R\", price: 60 },\r\n      { size: \"L\", price: 70 },\r\n    ],\r\n    description: \"Probiotic strawberry Yakult\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n  {\r\n    id: \"YK003\",\r\n    name: \"Green Apple Yakult\",\r\n    category: \"Yakult Series\",\r\n    categoryCode: \"YK\",\r\n    sizes: [\r\n      { size: \"R\", price: 60 },\r\n      { size: \"L\", price: 70 },\r\n    ],\r\n    description: \"Probiotic green apple Yakult\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n  {\r\n    id: \"YK004\",\r\n    name: \"Mango Yakult\",\r\n    category: \"Yakult Series\",\r\n    categoryCode: \"YK\",\r\n    sizes: [\r\n      { size: \"R\", price: 60 },\r\n      { size: \"L\", price: 70 },\r\n    ],\r\n    description: \"Probiotic mango Yakult\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n  {\r\n    id: \"YK005\",\r\n    name: \"Lychee Yakult\",\r\n    category: \"Yakult Series\",\r\n    categoryCode: \"YK\",\r\n    sizes: [\r\n      { size: \"R\", price: 60 },\r\n      { size: \"L\", price: 70 },\r\n    ],\r\n    description: \"Probiotic lychee Yakult\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n]\r\n\r\n// ðŸµ MATCHA SERIES\r\nexport const MATCHA_SERIES: MenuItem[] = [\r\n  {\r\n    id: \"MC001\",\r\n    name: \"Classic Matcha\",\r\n    category: \"Matcha Series\",\r\n    categoryCode: \"MC\",\r\n    sizes: [\r\n      { size: \"R\", price: 70 },\r\n      { size: \"L\", price: 80 },\r\n    ],\r\n    description: \"Traditional matcha powder blend\",\r\n    stock: 40,\r\n    minThreshold: 8,\r\n  },\r\n  {\r\n    id: \"MC002\",\r\n    name: \"Matcha Latte\",\r\n    category: \"Matcha Series\",\r\n    categoryCode: \"MC\",\r\n    sizes: [\r\n      { size: \"R\", price: 75 },\r\n      { size: \"L\", price: 85 },\r\n    ],\r\n    description: \"Matcha with steamed milk\",\r\n    stock: 40,\r\n    minThreshold: 8,\r\n  },\r\n  {\r\n    id: \"MC003\",\r\n    name: \"Matcha Caramel\",\r\n    category: \"Matcha Series\",\r\n    categoryCode: \"MC\",\r\n    sizes: [\r\n      { size: \"R\", price: 80 },\r\n      { size: \"L\", price: 90 },\r\n    ],\r\n    description: \"Matcha with caramel drizzle\",\r\n    stock: 40,\r\n    minThreshold: 6,\r\n  },\r\n  {\r\n    id: \"MC004\",\r\n    name: \"Matcha Vanilla\",\r\n    category: \"Matcha Series\",\r\n    categoryCode: \"MC\",\r\n    sizes: [\r\n      { size: \"R\", price: 75 },\r\n      { size: \"L\", price: 85 },\r\n    ],\r\n    description: \"Matcha with vanilla essence\",\r\n    stock: 40,\r\n    minThreshold: 8,\r\n  },\r\n  {\r\n    id: \"MC005\",\r\n    name: \"Dirty Matcha\",\r\n    category: \"Matcha Series\",\r\n    categoryCode: \"MC\",\r\n    sizes: [\r\n      { size: \"R\", price: 85 },\r\n      { size: \"L\", price: 95 },\r\n    ],\r\n    description: \"Matcha with espresso shot\",\r\n    stock: 40,\r\n    minThreshold: 6,\r\n  },\r\n]\r\n\r\n// ðŸ± COMBO MEALS\r\nexport const COMBO_MEALS: MenuItem[] = [\r\n  {\r\n    id: \"CM001\",\r\n    name: \"Fries + Soda\",\r\n    category: \"Combo Meals\",\r\n    categoryCode: \"CM\",\r\n    sizes: [{ size: \"Combo\", price: 99 }],\r\n    description: \"Regular Fries + Regular Soda\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n  {\r\n    id: \"CM002\",\r\n    name: \"Siomai Rice + Soda\",\r\n    category: \"Combo Meals\",\r\n    categoryCode: \"CM\",\r\n    sizes: [{ size: \"Combo\", price: 110 }],\r\n    description: \"Siomai Rice + Regular Soda\",\r\n    stock: 40,\r\n    minThreshold: 8,\r\n  },\r\n  {\r\n    id: \"CM003\",\r\n    name: \"Burger + Soda\",\r\n    category: \"Combo Meals\",\r\n    categoryCode: \"CM\",\r\n    sizes: [{ size: \"Combo\", price: 120 }],\r\n    description: \"Cheeseburger + Regular Soda\",\r\n    stock: 40,\r\n    minThreshold: 8,\r\n  },\r\n  {\r\n    id: \"CM004\",\r\n    name: \"Nuggets + Soda\",\r\n    category: \"Combo Meals\",\r\n    categoryCode: \"CM\",\r\n    sizes: [{ size: \"Combo\", price: 115 }],\r\n    description: \"6pcs Nuggets + Regular Soda\",\r\n    stock: 40,\r\n    minThreshold: 8,\r\n  },\r\n  {\r\n    id: \"CM005\",\r\n    name: \"Hotdog + Soda\",\r\n    category: \"Combo Meals\",\r\n    categoryCode: \"CM\",\r\n    sizes: [{ size: \"Combo\", price: 99 }],\r\n    description: \"Hotdog Sandwich + Regular Soda\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n]\r\n\r\n// ðŸŸ SNACKS\r\nexport const SNACKS: MenuItem[] = [\r\n  {\r\n    id: \"SN001\",\r\n    name: \"Fries\",\r\n    category: \"Snacks\",\r\n    categoryCode: \"SN\",\r\n    sizes: [\r\n      { size: \"Reg\", price: 45 },\r\n      { size: \"Lrg\", price: 60 },\r\n    ],\r\n    description: \"Crispy golden fries\",\r\n    stock: 40,\r\n    minThreshold: 15,\r\n  },\r\n  {\r\n    id: \"SN002\",\r\n    name: \"Kropek\",\r\n    category: \"Snacks\",\r\n    categoryCode: \"SN\",\r\n    sizes: [{ size: \"Solo\", price: 45 }],\r\n    description: \"Crispy prawn cracker\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n  {\r\n    id: \"SN003\",\r\n    name: \"Nachos\",\r\n    category: \"Snacks\",\r\n    categoryCode: \"SN\",\r\n    sizes: [{ size: \"Solo\", price: 60 }],\r\n    description: \"Cheese nachos with dip\",\r\n    stock: 40,\r\n    minThreshold: 8,\r\n  },\r\n  {\r\n    id: \"SN004\",\r\n    name: \"Cheese Sticks\",\r\n    category: \"Snacks\",\r\n    categoryCode: \"SN\",\r\n    sizes: [{ size: \"6 pcs\", price: 50 }],\r\n    description: \"Golden fried cheese sticks\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n  {\r\n    id: \"SN005\",\r\n    name: \"Siomai Rice\",\r\n    category: \"Snacks\",\r\n    categoryCode: \"SN\",\r\n    sizes: [{ size: \"Solo\", price: 55 }],\r\n    description: \"Siomai served with rice\",\r\n    stock: 40,\r\n    minThreshold: 10,\r\n  },\r\n]\r\n\r\n// Combined complete menu\r\nexport const COMPLETE_MENU: MenuItem[] = [\r\n  ...HOT_COFFEE,\r\n  ...ICED_COFFEE,\r\n  ...FRAPPES,\r\n  ...SODA_SERIES,\r\n  ...YAKULT_SERIES,\r\n  ...MATCHA_SERIES,\r\n  ...COMBO_MEALS,\r\n  ...SNACKS,\r\n]\r\n\r\n// Menu categories for filtering\r\nexport const MENU_CATEGORIES = [\r\n  { code: \"HC\", name: \"Hot Coffee\", emoji: \"â˜•\" },\r\n  { code: \"IC\", name: \"Iced Coffee\", emoji: \"ðŸ§Š\" },\r\n  { code: \"FR\", name: \"Frappes\", emoji: \"ðŸ¥¤\" },\r\n  { code: \"SS\", name: \"Soda Series\", emoji: \"ðŸ«§\" },\r\n  { code: \"YK\", name: \"Yakult Series\", emoji: \"ðŸ§ƒ\" },\r\n  { code: \"MC\", name: \"Matcha Series\", emoji: \"ðŸµ\" },\r\n  { code: \"CM\", name: \"Combo Meals\", emoji: \"ðŸ±\" },\r\n  { code: \"SN\", name: \"Snacks\", emoji: \"ðŸŸ\" },\r\n]\r\n\r\n// Helper function to get menu items by category\r\nexport function getMenuByCategory(categoryCode: string): MenuItem[] {\r\n  return COMPLETE_MENU.filter((item) => item.categoryCode === categoryCode)\r\n}\r\n\r\n// Helper function to get all categories\r\nexport function getAllCategories(): string[] {\r\n  return MENU_CATEGORIES.map((cat) => cat.name)\r\n}\r\n\r\n// Helper function to convert MenuItem to Product format for store compatibility\r\nexport function menuItemToProduct(item: MenuItem, sizeIndex: number = 0) {\r\n  const size = item.sizes[sizeIndex]\r\n  return {\r\n    id: item.id,\r\n    name: `${item.name} (${size.size})`,\r\n    price: size.price,\r\n    category: item.category,\r\n    stock: item.stock,\r\n    minThreshold: item.minThreshold,\r\n    description: item.description,\r\n    image: item.image,\r\n  }\r\n}\r\n\r\n// Get all products flattened with sizes as separate entries\r\nexport function getAllProductVariants() {\r\n  return COMPLETE_MENU.flatMap((item) =>\r\n    item.sizes.map((size, index) => ({\r\n      id: `${item.id}-${size.size}`,\r\n      baseId: item.id,\r\n      name: item.name,\r\n      size: size.size,\r\n      price: size.price,\r\n      category: item.category,\r\n      categoryCode: item.categoryCode,\r\n      stock: item.stock,\r\n      minThreshold: item.minThreshold,\r\n      description: item.description,\r\n      image: item.image,\r\n    })),\r\n  )\r\n}\r\n\r\n// Get base menu items (one per drink, no size duplication) - for cashier modal selection\r\nexport function getBaseMenuItems() {\r\n  return COMPLETE_MENU.map((item) => ({\r\n    id: item.id,\r\n    name: item.name,\r\n    category: item.category,\r\n    categoryCode: item.categoryCode,\r\n    sizes: item.sizes,\r\n    description: item.description,\r\n    stock: item.stock,\r\n    minThreshold: item.minThreshold,\r\n    image: item.image,\r\n    bottleneck_ingredient: item.bottleneck_ingredient,\r\n    ingredients_list: item.ingredients_list,\r\n  }))\r\n}\r\n\r\n// Stock management functions\r\nexport function deductStock(productId: string, quantity: number): boolean {\r\n  const item = COMPLETE_MENU.find((i) => i.id === productId)\r\n  if (!item) return false\r\n  if (item.stock < quantity) return false\r\n\r\n  item.stock -= quantity\r\n  return true\r\n}\r\n\r\nexport function getProductById(productId: string): MenuItem | undefined {\r\n  return COMPLETE_MENU.find((i) => i.id === productId)\r\n}\r\n\r\nexport function updateProductStock(productId: string, newStock: number): boolean {\r\n  const item = COMPLETE_MENU.find((i) => i.id === productId)\r\n  if (!item) return false\r\n\r\n  item.stock = Math.max(0, newStock)\r\n  return true\r\n}\r\n\r\n// Find a menu item by base name (e.g. \"Americano\")\r\nexport function findMenuItemByName(baseName: string) {\r\n  return COMPLETE_MENU.find((i) => i.name === baseName)\r\n}\r\n\r\n// Adjust stock by a delta using the base product name. Positive delta = restock.\r\nexport function changeStockByName(baseName: string, delta: number): boolean {\r\n  const item = findMenuItemByName(baseName)\r\n  if (!item) return false\r\n  item.stock = Math.max(0, item.stock + delta)\r\n  return true\r\n}\r\n\r\n// Set absolute stock by base product name.\r\nexport function setStockByName(baseName: string, newStock: number): boolean {\r\n  const item = findMenuItemByName(baseName)\r\n  if (!item) return false\r\n  item.stock = Math.max(0, newStock)\r\n  return true\r\n}\r\n\r\nexport function getStockLevel(productId: string): number {\r\n  const item = COMPLETE_MENU.find((i) => i.id === productId)\r\n  return item?.stock || 0\r\n}\r\n\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 937, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Downloads/sodalicious/lib/store.ts"],"sourcesContent":["export interface Product {\r\n  id: string | number\r\n  name: string\r\n  price: number\r\n  category: string\r\n  stock: number\r\n  minThreshold: number\r\n  description?: string\r\n  image?: string\r\n  size?: string\r\n  baseId?: string\r\n  categoryCode?: string\r\n  ingredients_list?: string\r\n  bottleneck_ingredient?: string\r\n}\r\n\r\nexport interface CartItem {\r\n  id: string\r\n  productId?: string\r\n  name: string\r\n  size: string\r\n  price: number\r\n  quantity: number\r\n}\r\n\r\nexport interface OrderItem {\r\n  id: number\r\n  name: string\r\n  price: number\r\n  quantity: number\r\n}\r\n\r\nexport interface Order {\r\n  id: string\r\n  customer: string\r\n  items: OrderItem[]\r\n  subtotal: number\r\n  tax: number\r\n  total: number\r\n  paymentMethod: \"cash\" | \"gcash\" | \"card\" | \"ewallet\"\r\n  status: \"Pending\" | \"Preparing\" | \"Completed\"\r\n  timestamp: string\r\n  cashierName?: string\r\n}\r\n\r\nexport interface User {\r\n  id: number\r\n  name: string\r\n  username: string\r\n  password: string\r\n  role: \"cashier\" | \"manager\" | \"inventory\"\r\n  status: \"Active\" | \"Inactive\"\r\n  lastLogin?: string\r\n}\r\n\r\nexport interface InventoryLog {\r\n  id: number\r\n  productId: number\r\n  productName: string\r\n  type: \"sale\" | \"restock\" | \"damage\" | \"waste\"\r\n  quantity: number\r\n  reason?: string\r\n  timestamp: string\r\n  userId: number\r\n  userName: string\r\n}\r\n\r\nexport interface ActivityLog {\r\n  id: number\r\n  type: string\r\n  action: string\r\n  details: string\r\n  userId: number\r\n  userName: string\r\n  timestamp: string\r\n}\r\n\r\n// Initial mock data - imported from complete menu\r\nimport { getAllProductVariants } from \"./menu-data\"\r\n\r\nexport const mockProducts: Product[] = getAllProductVariants().map((item) => ({\r\n  id: item.id,\r\n  baseId: item.baseId,\r\n  name: item.name,\r\n  price: item.price,\r\n  size: item.size,\r\n  category: item.category,\r\n  categoryCode: item.categoryCode,\r\n  stock: item.stock,\r\n  minThreshold: item.minThreshold,\r\n  description: item.description,\r\n  image: item.image,\r\n}))\r\n\r\nexport const mockUsers: User[] = [\r\n  {\r\n    id: 1,\r\n    name: \"Maria Santos\",\r\n    username: \"maria\",\r\n    password: \"password\",\r\n    role: \"cashier\",\r\n    status: \"Active\",\r\n    lastLogin: \"2025-11-11 09:30\",\r\n  },\r\n  {\r\n    id: 2,\r\n    name: \"Juan Dela Cruz\",\r\n    username: \"juan\",\r\n    password: \"password\",\r\n    role: \"inventory\",\r\n    status: \"Active\",\r\n    lastLogin: \"2025-11-11 08:00\",\r\n  },\r\n  { id: 3, name: \"Rosa Reyes\", username: \"rosa\", password: \"password\", role: \"cashier\", status: \"Inactive\" },\r\n  {\r\n    id: 4,\r\n    name: \"Admin Manager\",\r\n    username: \"admin\",\r\n    password: \"password\",\r\n    role: \"manager\",\r\n    status: \"Active\",\r\n    lastLogin: \"2025-11-11 07:00\",\r\n  },\r\n]\r\n\r\nexport const mockOrders: Order[] = [\r\n  {\r\n    id: \"ORD00001\",\r\n    customer: \"John Doe\",\r\n    items: [{ id: 1, name: \"Iced Calamansi Soda\", price: 65, quantity: 2 }],\r\n    subtotal: 130,\r\n    tax: 10.4,\r\n    total: 140.4,\r\n    paymentMethod: \"cash\",\r\n    status: \"Completed\",\r\n    timestamp: \"2025-11-11 14:30\",\r\n    cashierName: \"Maria Santos\",\r\n  },\r\n]\r\n\r\n// API helper functions for database operations\r\nexport const api = {\r\n  async getProducts(category?: string) {\r\n    const url = new URL(\r\n      \"/api/products\",\r\n      typeof window !== \"undefined\" ? window.location.origin : \"http://localhost:3000\",\r\n    )\r\n    if (category) url.searchParams.append(\"category\", category)\r\n    const res = await fetch(url)\r\n    if (!res.ok) throw new Error(\"Failed to fetch products\")\r\n    return res.json()\r\n  },\r\n\r\n  async getOrders() {\r\n    const res = await fetch(\"/api/orders\")\r\n    if (!res.ok) throw new Error(\"Failed to fetch orders\")\r\n    return res.json()\r\n  },\r\n\r\n  async createOrder(data: any) {\r\n    const res = await fetch(\"/api/orders\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(data),\r\n    })\r\n    if (!res.ok) throw new Error(\"Failed to create order\")\r\n    return res.json()\r\n  },\r\n\r\n  async createProduct(data: any) {\r\n    const res = await fetch(\"/api/products\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(data),\r\n    })\r\n    if (!res.ok) throw new Error(\"Failed to create product\")\r\n    return res.json()\r\n  },\r\n\r\n  async updateProduct(id: number, data: any) {\r\n    const res = await fetch(`/api/products/${id}`, {\r\n      method: \"PUT\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(data),\r\n    })\r\n    if (!res.ok) throw new Error(\"Failed to update product\")\r\n    return res.json()\r\n  },\r\n\r\n  async deleteProduct(id: number) {\r\n    const res = await fetch(`/api/products/${id}`, {\r\n      method: \"DELETE\",\r\n    })\r\n    if (!res.ok) throw new Error(\"Failed to delete product\")\r\n    return res.json()\r\n  },\r\n\r\n  async logInventoryChange(data: any) {\r\n    const res = await fetch(\"/api/inventory\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(data),\r\n    })\r\n    if (!res.ok) throw new Error(\"Failed to log inventory change\")\r\n    return res.json()\r\n  },\r\n\r\n  async getInventoryLogs() {\r\n    const res = await fetch(\"/api/inventory\")\r\n    if (!res.ok) throw new Error(\"Failed to fetch inventory logs\")\r\n    return res.json()\r\n  },\r\n\r\n  async getActivityLogs() {\r\n    const res = await fetch(\"/api/activity-logs\")\r\n    if (!res.ok) throw new Error(\"Failed to fetch activity logs\")\r\n    return res.json()\r\n  },\r\n\r\n  async logActivity(data: any) {\r\n    const res = await fetch(\"/api/activity-logs\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(data),\r\n    })\r\n    if (!res.ok) throw new Error(\"Failed to log activity\")\r\n    return res.json()\r\n  },\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1114, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Downloads/sodalicious/lib/hooks.ts"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useCallback, useEffect } from \"react\"\r\nimport {\r\n  type Product,\r\n  type Order,\r\n  type User,\r\n  type InventoryLog,\r\n  type ActivityLog,\r\n  mockProducts,\r\n  mockOrders,\r\n  mockUsers,\r\n  api,\r\n} from \"./store\"\r\nimport type { Order as DBOrder } from \"./db\"\r\nimport { COMPLETE_MENU, getAllProductVariants, MENU_CATEGORIES, getBaseMenuItems } from \"./menu-data\"\r\n\r\nexport function useProducts() {\r\n  const [products, setProducts] = useState<Product[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  const fetchProducts = useCallback(async () => {\r\n    try {\r\n      setLoading(true)\r\n      const data = await api.getProducts()\r\n      // Map API fields (stock_quantity -> stock, min_threshold -> minThreshold) for frontend consistency\r\n      const mapped = data.map((p: any) => ({\r\n        ...p,\r\n        stock: Number(p.stock_quantity),\r\n        minThreshold: Number(p.min_threshold)\r\n      }));\r\n      setProducts(mapped)\r\n    } catch (e) {\r\n      console.error(\"[useProducts] fetch error\", e)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    fetchProducts()\r\n    // Listen for menu updates\r\n    const onUpdate = () => fetchProducts()\r\n    window.addEventListener(\"menu:update\", onUpdate)\r\n    return () => window.removeEventListener(\"menu:update\", onUpdate)\r\n  }, [fetchProducts])\r\n\r\n  const addProduct = useCallback(async (product: Omit<Product, \"id\">) => {\r\n    try {\r\n      await api.createProduct(product)\r\n      window.dispatchEvent(new Event(\"menu:update\"))\r\n    } catch (e) {\r\n      console.error(\"Failed to add product\", e)\r\n      throw e\r\n    }\r\n  }, [])\r\n\r\n  const updateProduct = useCallback(async (id: number, updates: Partial<Product>) => {\r\n    try {\r\n      await api.updateProduct(id, updates)\r\n      window.dispatchEvent(new Event(\"menu:update\"))\r\n    } catch (e) {\r\n      console.error(\"Failed to update product\", e)\r\n      throw e\r\n    }\r\n  }, [])\r\n\r\n  const deleteProduct = useCallback(async (id: number) => {\r\n    try {\r\n      await api.deleteProduct(id)\r\n      window.dispatchEvent(new Event(\"menu:update\"))\r\n    } catch (e) {\r\n      console.error(\"Failed to delete product\", e)\r\n      throw e\r\n    }\r\n  }, [])\r\n\r\n  const getLowStockItems = useCallback(() => {\r\n    return products.filter((p) => p.stock <= p.minThreshold)\r\n  }, [products])\r\n\r\n  return { products, loading, addProduct, updateProduct, deleteProduct, getLowStockItems, refetch: fetchProducts }\r\n}\r\n\r\nexport function useDatabaseProducts(category?: string) {\r\n  const [products, setProducts] = useState<Product[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState<string | null>(null)\r\n\r\n  const fetchProducts = useCallback(async () => {\r\n    try {\r\n      setLoading(true)\r\n      const data = await api.getProducts(category)\r\n      setProducts(data)\r\n      setError(null)\r\n    } catch (err) {\r\n      console.error(\"[v0] Error fetching products:\", err)\r\n      setError(err instanceof Error ? err.message : \"Failed to fetch products\")\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }, [category])\r\n\r\n  useEffect(() => {\r\n    fetchProducts()\r\n  }, [fetchProducts])\r\n\r\n  return { products, loading, error, refetch: fetchProducts }\r\n}\r\n\r\nexport function useOrders() {\r\n  const [orders, setOrders] = useState<Order[]>(mockOrders)\r\n\r\n  const addOrder = useCallback(\r\n    (order: Order) => {\r\n      setOrders([...orders, order])\r\n    },\r\n    [orders],\r\n  )\r\n\r\n  const updateOrderStatus = useCallback(\r\n    (orderId: string, status: Order[\"status\"]) => {\r\n      setOrders(orders.map((o) => (o.id === orderId ? { ...o, status } : o)))\r\n    },\r\n    [orders],\r\n  )\r\n\r\n  const getTodaysSales = useCallback(() => {\r\n    return orders.filter((o) => o.timestamp.startsWith(\"2025-11-11\")).reduce((sum, o) => sum + o.total, 0)\r\n  }, [orders])\r\n\r\n  return { orders, addOrder, updateOrderStatus, getTodaysSales }\r\n}\r\n\r\nexport function useDatabaseOrders() {\r\n  const [orders, setOrders] = useState<DBOrder[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState<string | null>(null)\r\n\r\n  const fetchOrders = useCallback(async () => {\r\n    try {\r\n      setLoading(true)\r\n      const data = await api.getOrders()\r\n      setOrders(data)\r\n      setError(null)\r\n    } catch (err) {\r\n      console.error(\"[v0] Error fetching orders:\", err)\r\n      setError(err instanceof Error ? err.message : \"Failed to fetch orders\")\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    fetchOrders()\r\n    // Poll every 2 seconds for real-time sync\r\n    const interval = setInterval(() => {\r\n      fetchOrders()\r\n    }, 2000)\r\n    return () => clearInterval(interval)\r\n  }, [fetchOrders])\r\n\r\n  const createOrder = useCallback(async (data: any) => {\r\n    try {\r\n      const order = await api.createOrder(data)\r\n      setOrders((prev) => [order, ...prev])\r\n      return order\r\n    } catch (err) {\r\n      console.error(\"[v0] Error creating order:\", err)\r\n      throw err\r\n    }\r\n  }, [])\r\n\r\n  return { orders, loading, error, createOrder, refetch: fetchOrders }\r\n}\r\n\r\nexport function useUsers() {\r\n  const [users, setUsers] = useState<User[]>([])\r\n\r\n  const fetchUsers = useCallback(async () => {\r\n    try {\r\n      const res = await fetch(\"/api/users\")\r\n      if (res.ok) {\r\n        const data = await res.json()\r\n        setUsers(data)\r\n      }\r\n    } catch (e) {\r\n      console.error(\"Failed to fetch users\", e)\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    fetchUsers()\r\n  }, [fetchUsers])\r\n\r\n  const addUser = useCallback(\r\n    async (user: any) => {\r\n      try {\r\n        const res = await fetch(\"/api/users\", {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify(user)\r\n        })\r\n        if (res.ok) fetchUsers()\r\n      } catch (e) {\r\n        console.error(e)\r\n      }\r\n    },\r\n    [fetchUsers],\r\n  )\r\n\r\n  const updateUser = useCallback(\r\n    async (id: number, updates: any) => {\r\n      try {\r\n        const res = await fetch(`/api/users/${id}`, {\r\n          method: \"PUT\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify(updates)\r\n        })\r\n        if (res.ok) fetchUsers()\r\n      } catch (e) { console.error(e) }\r\n    },\r\n    [fetchUsers],\r\n  )\r\n\r\n  const deleteUser = useCallback(\r\n    async (id: number) => {\r\n      try {\r\n        const res = await fetch(`/api/users/${id}`, { method: \"DELETE\" })\r\n        if (res.ok) fetchUsers()\r\n      } catch (e) { console.error(e) }\r\n    },\r\n    [fetchUsers],\r\n  )\r\n\r\n  return { users, addUser, updateUser, deleteUser }\r\n}\r\n\r\nexport function useInventoryLogs() {\r\n  const [logs, setLogs] = useState<InventoryLog[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  const fetchLogs = useCallback(async () => {\r\n    try {\r\n      setLoading(true)\r\n      const response = await fetch(\"/api/inventory\")\r\n      if (!response.ok) throw new Error(\"Failed to fetch inventory logs\")\r\n      const data = await response.json()\r\n      setLogs(data || [])\r\n    } catch (err) {\r\n      console.error(\"[Inventory] Error fetching logs:\", err)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    fetchLogs()\r\n    // Poll every 2 seconds for real-time inventory sync\r\n    const interval = setInterval(() => {\r\n      fetchLogs()\r\n    }, 2000)\r\n    return () => clearInterval(interval)\r\n  }, [fetchLogs])\r\n\r\n  const addLog = useCallback(\r\n    (log: Omit<InventoryLog, \"id\">) => {\r\n      const newLog = { ...log, id: Math.max(...logs.map((l) => l.id), 0) + 1 }\r\n      setLogs([...logs, newLog])\r\n    },\r\n    [logs],\r\n  )\r\n\r\n  return { logs, addLog, refetch: fetchLogs, loading }\r\n}\r\n\r\nexport function useActivityLogs() {\r\n  const [logs, setLogs] = useState<any[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  const fetchLogs = useCallback(async () => {\r\n    try {\r\n      setLoading(true)\r\n      const response = await fetch(\"/api/activity-logs\")\r\n      if (!response.ok) throw new Error(\"Failed to fetch activity logs\")\r\n      const data = await response.json()\r\n      setLogs(data || [])\r\n    } catch (err) {\r\n      console.error(\"[ActivityLogs] Error fetching logs:\", err)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    fetchLogs()\r\n    // Poll every 5 seconds\r\n    const interval = setInterval(fetchLogs, 5000)\r\n    return () => clearInterval(interval)\r\n  }, [fetchLogs])\r\n\r\n  const addLog = useCallback(async (log: any) => {\r\n    try {\r\n      await fetch(\"/api/activity-logs\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(log)\r\n      })\r\n      fetchLogs()\r\n    } catch (e) {\r\n      console.error(e)\r\n    }\r\n  }, [fetchLogs])\r\n\r\n  return { logs, addLog, loading, refetch: fetchLogs }\r\n}\r\n\r\nexport function useIngredients() {\r\n  const [ingredients, setIngredients] = useState<any[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  const fetchIngredients = useCallback(async () => {\r\n    try {\r\n      setLoading(true)\r\n      const res = await fetch(\"/api/ingredients\")\r\n      if (!res.ok) throw new Error(\"Failed to fetch\")\r\n      const data = await res.json()\r\n      setIngredients(data || [])\r\n    } catch (e) {\r\n      console.error(\"[useIngredients] error\", e)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    fetchIngredients()\r\n    const interval = setInterval(fetchIngredients, 5000)\r\n    return () => clearInterval(interval)\r\n  }, [fetchIngredients])\r\n\r\n  return { ingredients, loading, refetch: fetchIngredients }\r\n}\r\n\r\n/**\r\n * Menu Sync Hook\r\n * Provides synchronized menu data across Cashier, Manager, and Inventory panels\r\n * Pulls from the central menu-data.ts source\r\n */\r\n\r\nexport function useMenuSync() {\r\n  const [menuItems, setMenuItems] = useState(getBaseMenuItems())\r\n  const [categories] = useState(MENU_CATEGORIES)\r\n  const [selectedCategory, setSelectedCategory] = useState<string>(\"All\")\r\n\r\n  const getMenuByCategory = useCallback(\r\n    (category: string) => {\r\n      if (category === \"All\") return menuItems\r\n      return menuItems.filter((item) => item.category === category)\r\n    },\r\n    [menuItems],\r\n  )\r\n\r\n  const getMenuItemById = useCallback(\r\n    (id: string) => {\r\n      return menuItems.find((item) => item.id === id)\r\n    },\r\n    [menuItems],\r\n  )\r\n\r\n  const getAllCategories = useCallback(() => {\r\n    return [\"All\", ...categories.map((cat) => cat.name)]\r\n  }, [categories])\r\n\r\n  const getCategoryEmoji = useCallback(\r\n    (categoryName: string) => {\r\n      const category = categories.find((cat) => cat.name === categoryName)\r\n      return category?.emoji || \"ðŸ“Œ\"\r\n    },\r\n    [categories],\r\n  )\r\n\r\n  const getLowStockItems = useCallback(() => {\r\n    return menuItems.filter((item) => item.stock < 18 || item.stock <= item.minThreshold)\r\n  }, [menuItems])\r\n\r\n  // Poll /api/products to reflect DB-backed stock changes across multiple clients\r\n  const fetchStock = useCallback(async () => {\r\n    try {\r\n      const res = await fetch(`/api/products?t=${Date.now()}`)\r\n      if (!res.ok) return\r\n      const data = await res.json()\r\n      const dataMap = new Map<string, any>(data.map((p: any) => [p.name, p]))\r\n\r\n      setMenuItems((prev) =>\r\n        prev.map((mi) => {\r\n          const dbItem = dataMap.get(mi.name)\r\n          return {\r\n            ...mi,\r\n            // Sync fields from DB if available (Source of Truth)\r\n            id: dbItem ? dbItem.id : mi.id,\r\n            price: dbItem ? Number(dbItem.price) : (mi.sizes?.[0]?.price || 0),\r\n            category: dbItem ? dbItem.category : mi.category,\r\n            description: dbItem ? dbItem.description : mi.description,\r\n            stock: dbItem ? Number(dbItem.stock_quantity) : mi.stock,\r\n            minThreshold: dbItem ? Number(dbItem.min_threshold) : mi.minThreshold,\r\n            bottleneck_ingredient: dbItem?.bottleneck_ingredient,\r\n            ingredients_list: dbItem?.ingredients_list\r\n          }\r\n        })\r\n      )\r\n    } catch (e) {\r\n      console.warn(\"[useMenuSync] poll error\", e)\r\n    }\r\n  }, [])\r\n\r\n  // Listen for external updates (other panels / API actions)\r\n  useEffect(() => {\r\n    const onMenuUpdate = () => {\r\n      // Re-fetch stock instead of resetting to hardcoded defaults\r\n      fetchStock()\r\n    }\r\n\r\n    if (typeof window !== \"undefined\") {\r\n      window.addEventListener(\"menu:update\", onMenuUpdate)\r\n    }\r\n\r\n    // initial poll\r\n    fetchStock()\r\n    // interval poll\r\n    const id = setInterval(fetchStock, 5000)\r\n\r\n    return () => {\r\n      if (typeof window !== \"undefined\") {\r\n        window.removeEventListener(\"menu:update\", onMenuUpdate)\r\n      }\r\n      clearInterval(id)\r\n    }\r\n  }, [fetchStock])\r\n\r\n  return {\r\n    menuItems,\r\n    categories,\r\n    selectedCategory,\r\n    setSelectedCategory,\r\n    getMenuByCategory,\r\n    getMenuItemById,\r\n    getAllCategories,\r\n    getCategoryEmoji,\r\n    getLowStockItems,\r\n    refetch: fetchStock,\r\n    refresh: fetchStock,\r\n  }\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1754, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Downloads/sodalicious/components/cashier-panel.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useCallback, useEffect } from \"react\"\r\nimport { useMenuSync, useDatabaseOrders } from \"@/lib/hooks\"\r\nimport { type CartItem } from \"@/lib/store\"\r\nimport { deductStock } from \"@/lib/menu-data\"\r\nimport {\r\n  Search, LogOut, Plus, Minus, X, ShoppingCart,\r\n  CreditCard, Smartphone, Banknote, Receipt,\r\n  Coffee, CupSoda, Utensils, IceCream,\r\n  CheckCircle, ChefHat, GlassWater, LayoutGrid, Trash2,\r\n  Package, History, Clock\r\n} from \"lucide-react\"\r\n\r\ninterface CashierPanelProps {\r\n  onLogout: () => void\r\n  currentUser: any\r\n}\r\n\r\n// Helper to map category names to Lucide icons\r\nconst getCategoryIcon = (category: string) => {\r\n  const normalized = category.toLowerCase()\r\n  if (normalized.includes(\"soda\") || normalized.includes(\"drink\") || normalized.includes(\"beverage\")) return <CupSoda className=\"w-5 h-5\" />\r\n  if (normalized.includes(\"coffee\") || normalized.includes(\"espresso\")) return <Coffee className=\"w-5 h-5\" />\r\n  if (normalized.includes(\"tea\")) return <GlassWater className=\"w-5 h-5\" />\r\n  if (normalized.includes(\"dessert\") || normalized.includes(\"sweet\") || normalized.includes(\"cake\")) return <IceCream className=\"w-5 h-5\" />\r\n  if (normalized.includes(\"food\") || normalized.includes(\"snack\") || normalized.includes(\"meal\")) return <Utensils className=\"w-5 h-5\" />\r\n  return <LayoutGrid className=\"w-5 h-5\" />\r\n}\r\n\r\nexport default function CashierPanel({ onLogout, currentUser }: CashierPanelProps) {\r\n  const menuSync = useMenuSync()\r\n  const dbOrders = useDatabaseOrders()\r\n  const [cart, setCart] = useState<CartItem[]>([])\r\n  const [selectedCategory, setSelectedCategory] = useState(\"All\")\r\n  const [searchTerm, setSearchTerm] = useState(\"\")\r\n  const [paymentMethod, setPaymentMethod] = useState<\"cash\" | \"gcash\" | \"card\">(\"cash\")\r\n  const [customerName, setCustomerName] = useState(\"\")\r\n  const [showReceipt, setShowReceipt] = useState(false)\r\n  const [showPaymentModal, setShowPaymentModal] = useState(false)\r\n  const [lastOrder, setLastOrder] = useState<any>(null)\r\n  const [checkoutLoading, setCheckoutLoading] = useState(false)\r\n  const [showHistory, setShowHistory] = useState(false)\r\n\r\n  // Size selection modal state\r\n  const [showSizeModal, setShowSizeModal] = useState(false)\r\n  const [selectedItem, setSelectedItem] = useState<any>(null)\r\n\r\n  const categories = menuSync.getAllCategories()\r\n  const filteredItems = menuSync.getMenuByCategory(selectedCategory).filter((item) =>\r\n    item.name.toLowerCase().includes(searchTerm.toLowerCase())\r\n  )\r\n\r\n  const handleItemClick = (item: any) => {\r\n    setSelectedItem(item)\r\n    setShowSizeModal(true)\r\n  }\r\n\r\n  const handleSizeSelect = (size: any) => {\r\n    if (selectedItem) {\r\n      // Check stock limit before adding\r\n      if (selectedItem.stock <= 0) return\r\n\r\n      const cartItemId = `${selectedItem.id}-${size.size}`\r\n      const existing = cart.find((c) => c.id === cartItemId)\r\n\r\n      if (existing) {\r\n        if (existing.quantity + 1 > selectedItem.stock) return\r\n        setCart(cart.map((c) =>\r\n          c.id === cartItemId ? { ...c, quantity: c.quantity + 1 } : c\r\n        ))\r\n      } else {\r\n        if (1 > selectedItem.stock) return\r\n        setCart([\r\n          ...cart,\r\n          {\r\n            id: cartItemId,\r\n            productId: selectedItem.id,\r\n            name: selectedItem.name,\r\n            size: size.size,\r\n            price: size.price,\r\n            quantity: 1,\r\n          },\r\n        ])\r\n      }\r\n    }\r\n    setShowSizeModal(false)\r\n    setSelectedItem(null)\r\n  }\r\n\r\n  const removeFromCart = (cartItemId: string) => {\r\n    setCart(cart.filter((c) => c.id !== cartItemId))\r\n  }\r\n\r\n  const updateQuantity = (cartItemId: string, quantity: number) => {\r\n    if (quantity <= 0) {\r\n      removeFromCart(cartItemId)\r\n    } else {\r\n      // Check stock limit\r\n      const item = cart.find(c => c.id === cartItemId)\r\n      if (item) {\r\n        const product = menuSync.getMenuItemById(String(item.productId))\r\n        if (product && quantity > product.stock) {\r\n          return\r\n        }\r\n      }\r\n      setCart(cart.map((c) => (c.id === cartItemId ? { ...c, quantity } : c)))\r\n    }\r\n  }\r\n\r\n  const subtotal = cart.reduce((sum, item) => sum + item.price * item.quantity, 0)\r\n  const tax = subtotal * 0.08\r\n  const total = subtotal + tax\r\n\r\n  const handleCheckout = () => {\r\n    if (cart.length === 0) return\r\n    if (paymentMethod === \"cash\") {\r\n      processOrder()\r\n    } else {\r\n      setShowPaymentModal(true)\r\n    }\r\n  }\r\n\r\n  const processOrder = async () => {\r\n    setCheckoutLoading(true)\r\n    try {\r\n      const orderData = {\r\n        customer_name: customerName || \"Walk-in\",\r\n        items: cart.map(item => ({\r\n          product_id: item.productId,\r\n          name: item.name,\r\n          size: item.size,\r\n          price: item.price,\r\n          quantity: item.quantity,\r\n          subtotal: item.price * item.quantity\r\n        })),\r\n        total_amount: total,\r\n        payment_method: paymentMethod,\r\n        user_id: currentUser.id || 1\r\n      }\r\n\r\n      const response = await fetch(\"/api/orders\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(orderData),\r\n      })\r\n\r\n      if (!response.ok) throw new Error(\"Failed to process order\")\r\n\r\n      const order = await response.json()\r\n\r\n      // Local stock deduction fallback\r\n      try {\r\n        cart.forEach((item) => {\r\n          if (item.productId) deductStock(item.productId.toString(), item.quantity)\r\n        })\r\n        if (typeof window !== \"undefined\") {\r\n          window.dispatchEvent(new CustomEvent(\"menu:update\"))\r\n        }\r\n      } catch (e) {\r\n        console.warn(\"[Menu] Local stock update failed:\", e)\r\n      }\r\n\r\n      setLastOrder({\r\n        ...order,\r\n        items: cart,\r\n        subtotal,\r\n        tax,\r\n        total,\r\n      })\r\n      setShowReceipt(true)\r\n      setShowPaymentModal(false)\r\n      setCart([])\r\n      setCustomerName(\"\")\r\n    } catch (err) {\r\n      console.error(\"[POS] Checkout error:\", err)\r\n      alert(\"Failed to complete order. Please try again.\")\r\n    } finally {\r\n      setCheckoutLoading(false)\r\n    }\r\n  }\r\n\r\n  if (showReceipt && lastOrder) {\r\n    return (\r\n      <div className=\"fixed inset-0 z-50 bg-black/80 flex items-center justify-center p-4 backdrop-blur-sm\">\r\n        <div className=\"max-w-md w-full bg-white rounded-3xl p-8 text-center shadow-2xl animate-in zoom-in duration-300\">\r\n          <div className=\"w-20 h-20 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-6\">\r\n            <CheckCircle className=\"w-10 h-10\" />\r\n          </div>\r\n          <h2 className=\"text-3xl font-black text-slate-900 mb-2\">Order Confirmed</h2>\r\n          <p className=\"text-slate-500 mb-8 font-medium italic\">Transaction processed successfully</p>\r\n\r\n          <div id=\"receipt-content\" className=\"text-left bg-slate-50 border border-slate-100 p-6 rounded-2xl mb-8 font-mono text-sm shadow-inner\">\r\n            <div className=\"text-center border-b border-dashed border-slate-300 pb-4 mb-4\">\r\n              <h3 className=\"text-xl font-black uppercase text-slate-800\">Sodalicious</h3>\r\n              <p className=\"text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-1\">Order #{lastOrder.order_number || lastOrder.id}</p>\r\n            </div>\r\n\r\n            <div className=\"space-y-3 mb-6\">\r\n              {lastOrder.items?.map((item: any) => (\r\n                <div key={item.id} className=\"flex justify-between items-start text-xs text-slate-600\">\r\n                  <span className=\"flex-1 pr-4\">{item.quantity}x {item.name} ({item.size})</span>\r\n                  <span className=\"font-bold text-slate-900\">â‚±{(item.price * item.quantity).toFixed(2)}</span>\r\n                </div>\r\n              ))}\r\n            </div>\r\n\r\n            <div className=\"border-t border-dashed border-slate-300 pt-4 space-y-2\">\r\n              <div className=\"flex justify-between text-xs text-slate-500\">\r\n                <span>Subtotal</span>\r\n                <span>â‚±{lastOrder.subtotal?.toFixed(2)}</span>\r\n              </div>\r\n              <div className=\"flex justify-between text-xs text-slate-500\">\r\n                <span>Tax (8%)</span>\r\n                <span>â‚±{lastOrder.tax?.toFixed(2)}</span>\r\n              </div>\r\n              <div className=\"flex justify-between text-lg font-black text-slate-900 pt-2\">\r\n                <span>TOTAL</span>\r\n                <span className=\"text-primary\">â‚±{lastOrder.total?.toFixed(2)}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <button\r\n              onClick={() => window.print()}\r\n              className=\"py-4 bg-slate-100 text-slate-600 rounded-xl font-black text-xs uppercase tracking-widest hover:bg-slate-200 transition-all flex items-center justify-center gap-2\"\r\n            >\r\n              <Receipt className=\"w-4 h-4\" />\r\n              Print\r\n            </button>\r\n            <button\r\n              onClick={() => setShowReceipt(false)}\r\n              className=\"py-4 bg-primary text-white rounded-xl font-black text-xs uppercase tracking-widest hover:opacity-90 transition-all shadow-lg shadow-primary/20\"\r\n            >\r\n              Next Order\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-slate-50 flex flex-col font-sans text-slate-900 pb-12\">\r\n      {/* Premium Header */}\r\n      <header className=\"bg-white border-b border-slate-200 px-8 py-5 flex justify-between items-center sticky top-0 z-50 shadow-sm backdrop-blur-md bg-white/90\">\r\n        <div className=\"flex items-center gap-4\">\r\n          <div className=\"w-12 h-12 bg-primary rounded-2xl flex items-center justify-center text-white shadow-lg\">\r\n            <CupSoda className=\"w-7 h-7\" />\r\n          </div>\r\n          <div>\r\n            <h1 className=\"text-2xl font-black tracking-tighter text-slate-900\">SODALICIOUS<span className=\"text-primary\">.CO</span></h1>\r\n            <div className=\"flex items-center gap-2\">\r\n              <span className=\"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse\"></span>\r\n              <p className=\"text-[10px] font-bold text-slate-400 uppercase tracking-widest\">Active Terminal #{currentUser.id}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-6\">\r\n          <div className=\"text-right flex flex-col items-end\">\r\n            <p className=\"font-black text-sm text-slate-800 uppercase tracking-tight\">{currentUser.name}</p>\r\n            <p className=\"text-[10px] font-bold text-slate-400 uppercase\">Station Cashier</p>\r\n          </div>\r\n          <button\r\n            onClick={onLogout}\r\n            className=\"w-10 h-10 rounded-xl bg-red-50 text-red-500 flex items-center justify-center hover:bg-red-500 hover:text-white transition-all border border-red-100\"\r\n          >\r\n            <LogOut className=\"w-5 h-5\" />\r\n          </button>\r\n        </div>\r\n      </header>\r\n\r\n      <main className=\"flex gap-6 p-6 items-start\">\r\n        {/* Left Side: Product Exploration */}\r\n        <section className=\"flex-1 flex flex-col min-w-0 bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden\">\r\n          <div className=\"p-6 border-b border-slate-100 space-y-5\">\r\n            <div className=\"relative max-w-md\">\r\n              <Search className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-300\" />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search premium beverages...\"\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n                className=\"w-full pl-12 pr-4 py-3.5 bg-slate-50 border-none rounded-2xl focus:ring-2 focus:ring-primary/20 transition-all font-medium text-slate-600 placeholder:text-slate-300 shadow-inner\"\r\n              />\r\n            </div>\r\n            <div className=\"flex flex-wrap gap-2\">\r\n              {categories.map((cat) => (\r\n                <button\r\n                  key={`cat-tab-${cat}`}\r\n                  onClick={() => setSelectedCategory(cat)}\r\n                  className={`px-5 py-3 rounded-xl font-black text-[10px] uppercase tracking-widest transition-all whitespace-nowrap border-2 ${selectedCategory === cat\r\n                    ? \"bg-primary border-primary text-white shadow-lg shadow-primary/20 scale-105\"\r\n                    : \"bg-white border-slate-100 text-slate-400 hover:border-slate-200\"\r\n                    }`}\r\n                >\r\n                  {cat}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 p-6 bg-slate-50/10\">\r\n            {filteredItems.map((item) => (\r\n              <button\r\n                key={item.id}\r\n                onClick={() => handleItemClick(item)}\r\n                disabled={item.stock <= 0}\r\n                className=\"group flex flex-col bg-white border border-slate-200 rounded-2xl p-4 transition-all duration-300 hover:shadow-xl hover:border-primary/40 relative text-left h-72 shadow-sm disabled:opacity-50 disabled:cursor-not-allowed\"\r\n              >\r\n                <div className=\"w-full h-32 bg-slate-50 rounded-xl mb-4 flex items-center justify-center border border-slate-100 group-hover:bg-primary/5 transition-colors shrink-0 relative overflow-hidden\">\r\n                  <div className=\"text-amber-900/20 group-hover:text-primary/30 group-hover:scale-110 transition-all duration-500 scale-[1.3]\">\r\n                    {getCategoryIcon(item.category)}\r\n                  </div>\r\n\r\n                  <div className={`absolute top-2 right-2 px-2.5 py-1 rounded-lg text-[9px] font-black z-10 shadow-sm ${item.stock < 18 ? \"bg-red-600 text-white animate-pulse\" : \"bg-primary text-white\"\r\n                    }`}>\r\n                    {item.stock} LEFT\r\n                  </div>\r\n\r\n                  {item.stock <= 0 && (\r\n                    <div className=\"absolute inset-0 bg-white/90 backdrop-blur-sm flex items-center justify-center z-20\">\r\n                      <span className=\"bg-red-600 text-white px-3 py-1.5 rounded-xl text-[10px] font-black tracking-widest uppercase -rotate-12 shadow-xl border-2 border-white/20\">STAY TUNED</span>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"flex-1 flex flex-col justify-between overflow-hidden\">\r\n                  <div className=\"space-y-1\">\r\n                    <h3 className=\"text-slate-900 font-bold text-sm leading-tight group-hover:text-primary transition-colors line-clamp-2\">\r\n                      {item.name}\r\n                    </h3>\r\n                    <p className=\"text-[10px] text-slate-400 font-bold uppercase tracking-tight truncate\">\r\n                      {item.description || \"Crafted Experience\"}\r\n                    </p>\r\n                  </div>\r\n\r\n                  <div className=\"flex items-center justify-between pt-4 border-t border-slate-100 mt-2\">\r\n                    <div className=\"flex flex-col\">\r\n                      <span className=\"text-[8px] font-black text-slate-300 uppercase leading-none mb-1\">VARIANTS</span>\r\n                      <span className=\"text-[10px] font-black text-slate-600\">{item.sizes.length} Options</span>\r\n                    </div>\r\n                    <div className=\"w-9 h-9 rounded-xl bg-slate-50 text-slate-400 flex items-center justify-center group-hover:bg-primary group-hover:text-white transition-all shadow-sm border border-slate-100\">\r\n                      <Plus className=\"w-5 h-5 stroke-[3]\" />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </section>\r\n\r\n        {/* Right Side: Order Engine - Persistent Sidebar */}\r\n        <section className=\"w-[450px] flex flex-col bg-white rounded-3xl border border-slate-200 shadow-xl overflow-hidden sticky top-[108px] h-[calc(100vh-140px)]\">\r\n          <div className=\"p-3 bg-slate-50 border-b border-slate-200 flex gap-2\">\r\n            <button\r\n              onClick={() => setShowHistory(false)}\r\n              className={`flex-1 py-4 text-[10px] font-black uppercase tracking-[0.2em] transition-all rounded-2xl flex items-center justify-center gap-2 ${!showHistory ? \"bg-white text-primary shadow-md shadow-primary/5\" : \"text-slate-400 hover:text-slate-600\"}`}\r\n            >\r\n              <ShoppingCart className=\"w-4 h-4\" /> Cart\r\n            </button>\r\n            <button\r\n              onClick={() => setShowHistory(true)}\r\n              className={`flex-1 py-4 text-[10px] font-black uppercase tracking-[0.2em] transition-all rounded-2xl flex items-center justify-center gap-2 ${showHistory ? \"bg-white text-primary shadow-md shadow-primary/5\" : \"text-slate-400 hover:text-slate-600\"}`}\r\n            >\r\n              <Clock className=\"w-4 h-4\" /> History\r\n            </button>\r\n          </div>\r\n\r\n          {!showHistory ? (\r\n            <>\r\n              <div className=\"flex-1 overflow-y-auto p-6 space-y-4\">\r\n                {cart.length === 0 ? (\r\n                  <div className=\"h-full flex flex-col items-center justify-center text-slate-200\">\r\n                    <div className=\"w-24 h-24 bg-slate-50 rounded-full flex items-center justify-center mb-6\">\r\n                      <Package className=\"w-12 h-12 opacity-20\" />\r\n                    </div>\r\n                    <p className=\"text-[10px] font-black uppercase tracking-[0.3em]\">Selection Empty</p>\r\n                  </div>\r\n                ) : (\r\n                  cart.map((item) => (\r\n                    <div key={item.id} className=\"bg-white border border-slate-100 p-5 rounded-2xl hover:shadow-xl transition-all group flex gap-5 relative\">\r\n                      <div className=\"w-16 h-16 bg-amber-50 rounded-2xl flex items-center justify-center text-amber-700/40 shrink-0 border border-amber-100\">\r\n                        <Coffee className=\"w-8 h-8\" />\r\n                      </div>\r\n                      <div className=\"flex-1 min-w-0 flex flex-col justify-between py-1\">\r\n                        <div className=\"flex justify-between items-start\">\r\n                          <p className=\"font-black text-xs text-slate-800 uppercase tracking-tighter truncate\">{item.name}</p>\r\n                          <p className=\"font-black text-primary text-sm\">â‚±{(item.price * item.quantity).toFixed(2)}</p>\r\n                        </div>\r\n                        <div className=\"flex justify-between items-center mt-2\">\r\n                          <p className=\"text-[10px] text-slate-400 font-black uppercase\">{item.size}</p>\r\n                          <div className=\"flex items-center gap-3 bg-slate-50 border border-slate-100 rounded-xl px-2.5 py-1.5 shadow-inner\">\r\n                            <button onClick={() => updateQuantity(item.id, item.quantity - 1)} className=\"text-slate-400 hover:text-primary active:scale-90 transition-all\"><Minus className=\"w-3.5 h-3.5\" /></button>\r\n                            <span className=\"text-xs font-black w-4 text-center text-slate-700\">{item.quantity}</span>\r\n                            <button onClick={() => updateQuantity(item.id, item.quantity + 1)} className=\"text-slate-400 hover:text-primary active:scale-90 transition-all\"><Plus className=\"w-3.5 h-3.5\" /></button>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <button onClick={() => removeFromCart(item.id)} className=\"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1.5 shadow-xl scale-0 group-hover:scale-100 transition-all border-4 border-white\"><X className=\"w-3 h-3\" /></button>\r\n                    </div>\r\n                  ))\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"p-8 border-t border-slate-100 bg-white space-y-6\">\r\n                <div className=\"space-y-3\">\r\n                  <div className=\"flex justify-between text-[11px] font-black uppercase tracking-widest text-slate-400\">\r\n                    <span>Subtotal</span>\r\n                    <span className=\"text-slate-900\">â‚±{subtotal.toFixed(2)}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between text-2xl font-black text-slate-900 pt-2 border-t border-slate-50\">\r\n                    <span>TOTAL</span>\r\n                    <span className=\"text-primary tracking-tighter\">â‚±{total.toFixed(2)}</span>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-3 gap-3\">\r\n                  {[\r\n                    { id: \"cash\", icon: Banknote, label: \"Cash\", color: \"text-green-600\", bg: \"bg-green-50\", bdr: \"border-green-200\" },\r\n                    { id: \"gcash\", icon: Smartphone, label: \"GCash\", color: \"text-blue-600\", bg: \"bg-blue-50\", bdr: \"border-blue-200\" },\r\n                    { id: \"card\", icon: CreditCard, label: \"Card\", color: \"text-purple-600\", bg: \"bg-purple-50\", bdr: \"border-purple-200\" }\r\n                  ].map((method) => (\r\n                    <button\r\n                      key={method.id}\r\n                      onClick={() => setPaymentMethod(method.id as any)}\r\n                      className={`p-4 rounded-2xl flex flex-col items-center gap-3 transition-all border-2 ${paymentMethod === method.id\r\n                        ? `${method.bg} ${method.bdr} ${method.color} scale-105 shadow-md`\r\n                        : \"bg-white border-slate-100 text-slate-300 hover:border-slate-200\"\r\n                        }`}\r\n                    >\r\n                      <method.icon className=\"w-6 h-6\" />\r\n                      <span className=\"text-[10px] font-black uppercase tracking-widest\">{method.label}</span>\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n\r\n                <button\r\n                  onClick={handleCheckout}\r\n                  disabled={cart.length === 0 || checkoutLoading}\r\n                  className=\"w-full py-5 bg-primary text-white rounded-3xl font-black text-sm uppercase tracking-[0.2em] hover:opacity-90 active:scale-[0.98] transition-all disabled:opacity-30 disabled:pointer-events-none shadow-2xl shadow-primary/30 flex items-center justify-center gap-3\"\r\n                >\r\n                  {checkoutLoading ? \"Synchronizing...\" : <><CheckCircle className=\"w-5 h-5\" /> Execute Order</>}\r\n                </button>\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <div className=\"flex-1 overflow-y-auto p-6 space-y-5 bg-slate-50/50\">\r\n              <div className=\"flex items-center justify-between mb-2\">\r\n                <h3 className=\"font-black text-[10px] text-slate-400 uppercase tracking-widest\">Transaction History</h3>\r\n                <span className=\"px-2 py-1 bg-green-100 text-green-600 text-[9px] font-black rounded-full animate-pulse\">LIVE</span>\r\n              </div>\r\n              {(dbOrders.orders || []).slice(0, 20).map((order) => (\r\n                <div key={order.id} className=\"bg-white border border-slate-200 rounded-2xl p-5 hover:shadow-lg transition-all group border-l-4 border-l-primary\">\r\n                  <div className=\"flex justify-between items-start mb-4\">\r\n                    <div>\r\n                      <p className=\"font-black text-[10px] text-slate-400 leading-none mb-1\">TXN-{order.id}</p>\r\n                      <p className=\"font-black text-sm text-slate-800 uppercase tracking-tighter\">\r\n                        {new Date(order.created_at).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n                      </p>\r\n                    </div>\r\n                    <div className=\"text-right\">\r\n                      <p className=\"text-sm font-black text-primary\">â‚±{Number(order.total_amount).toFixed(2)}</p>\r\n                      <p className=\"text-[9px] font-bold text-slate-300 uppercase tracking-widest\">{order.payment_method || \"CASH\"}</p>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Order Items List */}\r\n                  {order.items && order.items.length > 0 && (\r\n                    <div className=\"mb-4 bg-slate-50 p-3 rounded-xl border border-slate-100\">\r\n                      {order.items.map((item: any, idx: number) => (\r\n                        <div key={`${order.id}-item-${idx}`} className=\"flex justify-between text-[10px] font-bold text-slate-600 mb-1 last:mb-0\">\r\n                          <span>{item.quantity}x {item.name}</span>\r\n                          <span className=\"text-slate-400\">({item.size})</span>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n                  <div className=\"flex items-center gap-2 pt-4 border-t border-slate-50\">\r\n                    <div className=\"w-7 h-7 rounded-full bg-slate-100 flex items-center justify-center\">\r\n                      <Clock className=\"w-4 h-4 text-slate-300\" />\r\n                    </div>\r\n                    <p className=\"text-[10px] font-black text-slate-400 uppercase tracking-tight\">Verified & Logged</p>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </section>\r\n      </main>\r\n\r\n      {/* Modals outside main flow */}\r\n      {showSizeModal && selectedItem && (\r\n        <div className=\"fixed inset-0 bg-black/60 flex items-center justify-center p-4 z-50 backdrop-blur-sm animate-in fade-in duration-300\">\r\n          <div className=\"bg-white rounded-3xl p-8 max-w-md w-full shadow-2xl scale-in-95 animate-in duration-300\">\r\n            <h3 className=\"text-2xl font-black text-slate-900 mb-2\">{selectedItem.name}</h3>\r\n            <p className=\"text-sm text-slate-400 font-bold uppercase tracking-tight mb-8\">Select Desired Variant</p>\r\n\r\n            <div className=\"space-y-3 mb-8\">\r\n              {selectedItem.sizes.map((size: any) => (\r\n                <button\r\n                  key={size.size}\r\n                  onClick={() => handleSizeSelect(size)}\r\n                  className=\"w-full py-5 px-6 bg-slate-50 hover:bg-primary hover:text-white border border-slate-100 rounded-2xl font-black text-sm uppercase tracking-widest transition-all flex justify-between items-center group shadow-sm\"\r\n                >\r\n                  <span>{size.size}</span>\r\n                  <span className=\"font-black text-primary group-hover:text-white\">â‚±{size.price}</span>\r\n                </button>\r\n              ))}\r\n            </div>\r\n\r\n            <button\r\n              onClick={() => { setShowSizeModal(false); setSelectedItem(null); }}\r\n              className=\"w-full py-4 text-slate-400 font-black text-xs uppercase tracking-[0.2em] hover:text-slate-600 transition-all\"\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {showPaymentModal && (\r\n        <div className=\"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50 backdrop-blur-md\">\r\n          <div className=\"bg-white rounded-[2.5rem] p-10 max-w-md w-full shadow-2xl\">\r\n            <div className=\"text-center mb-10\">\r\n              <div className=\"w-16 h-16 bg-primary/10 text-primary rounded-full flex items-center justify-center mx-auto mb-6\">\r\n                {paymentMethod === 'gcash' ? <Smartphone className=\"w-8 h-8\" /> : <CreditCard className=\"w-8 h-8\" />}\r\n              </div>\r\n              <h3 className=\"text-3xl font-black text-slate-900 mb-2\">\r\n                {paymentMethod === \"gcash\" ? \"GCash Checkout\" : \"Card Checkout\"}\r\n              </h3>\r\n              <p className=\"text-slate-400 font-bold uppercase tracking-widest text-xs\">Awaiting Confirmation â€¢ â‚±{total.toFixed(2)}</p>\r\n            </div>\r\n\r\n            {paymentMethod === \"gcash\" && (\r\n              <div className=\"space-y-6\">\r\n                <div className=\"bg-white p-8 rounded-[2rem] flex flex-col items-center justify-center border border-slate-100 shadow-xl shadow-blue-500/5\">\r\n                  <div className=\"w-48 h-48 bg-[#007DFE] p-4 rounded-3xl relative overflow-hidden group\">\r\n                    <div className=\"absolute inset-0 bg-white opacity-0 group-hover:opacity-10 transition-opacity\"></div>\r\n                    <div className=\"w-full h-full bg-white rounded-xl flex flex-col items-center justify-center p-2 border-4 border-[#007DFE]\">\r\n                      <div className=\"grid grid-cols-5 grid-rows-5 gap-1.5 w-full h-full\">\r\n                        {Array.from({ length: 25 }).map((_, i) => (\r\n                          <div key={i} className={`rounded-sm ${(i % 3 === 0 || i % 7 === 1 || i % 13 === 0) ? \"bg-[#007DFE]\" : \"bg-slate-100\"}`}></div>\r\n                        ))}\r\n                      </div>\r\n                      <div className=\"absolute inset-0 flex items-center justify-center pointer-events-none\">\r\n                        <div className=\"w-12 h-12 bg-[#007DFE] rounded-xl flex items-center justify-center shadow-2xl border-2 border-white\">\r\n                          <span className=\"text-white font-black text-[10px]\">GC</span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <p className=\"text-[10px] text-slate-300 mt-6 font-black uppercase tracking-[0.3em]\">Merchant ID: 1599302</p>\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <label className=\"text-[10px] font-black text-slate-400 uppercase tracking-widest pl-1\">Reference Number</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Enter receipt # from GCash\"\r\n                    className=\"w-full px-6 py-4 bg-slate-50 border-none rounded-2xl focus:ring-2 focus:ring-primary/20 transition-all font-black text-sm tracking-widest\"\r\n                    autoFocus\r\n                  />\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {paymentMethod === \"card\" && (\r\n              <div className=\"space-y-6\">\r\n                <div className=\"bg-gradient-to-br from-[#1e293b] to-[#0f172a] p-8 rounded-[2rem] text-white shadow-2xl relative overflow-hidden\">\r\n                  <div className=\"absolute top-0 right-0 w-32 h-32 bg-white/5 rounded-full -mr-16 -mt-16 blur-3xl\"></div>\r\n                  <div className=\"flex justify-between mb-12\">\r\n                    <div className=\"w-14 h-10 bg-gradient-to-br from-amber-400 to-amber-200 rounded-lg opacity-90 shadow-lg\"></div>\r\n                    <span className=\"font-black italic text-lg opacity-40\">SODAPAY</span>\r\n                  </div>\r\n                  <div className=\"font-mono text-2xl tracking-[0.2em] mb-6 drop-shadow-lg\">â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢</div>\r\n                  <div className=\"flex justify-between text-[10px] font-black uppercase opacity-40 tracking-widest\">\r\n                    <span>Terminal Verified</span>\r\n                    <span>No. {Math.random().toString().slice(2, 6)}</span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <label className=\"text-[10px] font-black text-slate-400 uppercase tracking-widest pl-1\">Swipe or Insert Card</label>\r\n                  <div className=\"relative\">\r\n                    <div className=\"absolute inset-y-0 right-4 flex items-center\">\r\n                      <div className=\"w-2 h-2 rounded-full bg-green-500 animate-pulse\"></div>\r\n                    </div>\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder=\"XXXX XXXX XXXX XXXX\"\r\n                      autoFocus\r\n                      className=\"w-full px-6 py-4 bg-slate-50 border-2 border-slate-100 rounded-2xl font-black text-sm tracking-[0.3em] focus:border-primary focus:bg-white focus:outline-none transition-all placeholder:text-slate-200\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"flex gap-4 mt-10\">\r\n              <button\r\n                onClick={() => setShowPaymentModal(false)}\r\n                className=\"flex-1 py-4 text-slate-400 font-black text-xs uppercase tracking-widest hover:text-slate-600 transition-all\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={processOrder}\r\n                className=\"flex-2 px-8 py-4 bg-primary text-white rounded-2xl font-black text-xs uppercase tracking-[0.2em] hover:opacity-90 transition-all shadow-xl shadow-primary/20\"\r\n              >\r\n                Authorize\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3584, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Downloads/sodalicious/components/login-panel.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport type React from \"react\"\r\n\r\nimport { useState } from \"react\"\r\nimport { CupSoda, Mail, Lock as LockIcon, ArrowRight, ShieldCheck, UserCircle2, AlertCircle } from \"lucide-react\"\r\n\r\ninterface LoginPanelProps {\r\n  onLogin: (role: \"cashier\" | \"manager\" | \"inventory\" | string, user: any) => void\r\n}\r\n\r\nexport default function LoginPanel({ onLogin }: LoginPanelProps) {\r\n  const [email, setEmail] = useState(\"\")\r\n  const [password, setPassword] = useState(\"\")\r\n  const [loading, setLoading] = useState(false)\r\n  const [error, setError] = useState(\"\")\r\n\r\n  const handleLogin = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    setLoading(true)\r\n    setError(\"\")\r\n\r\n    try {\r\n      const response = await fetch(\"/api/auth/login\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ email, password }),\r\n      })\r\n\r\n      if (!response.ok) {\r\n        const contentType = response.headers.get(\"content-type\")\r\n        let errorMessage = \"Login failed\"\r\n\r\n        if (contentType?.includes(\"application/json\")) {\r\n          try {\r\n            const data = await response.json()\r\n            errorMessage = data.error || errorMessage\r\n          } catch {\r\n            errorMessage = `Server error (${response.status})`\r\n          }\r\n        } else {\r\n          errorMessage = `Server error (${response.status})`\r\n        }\r\n\r\n        setError(errorMessage)\r\n        return\r\n      }\r\n\r\n      const data = await response.json()\r\n\r\n      // Map role names for compatibility\r\n      const roleMap: Record<string, string> = {\r\n        cashier: \"cashier\",\r\n        manager: \"manager\",\r\n      }\r\n\r\n      onLogin(roleMap[data.user.role] || \"cashier\", data.user)\r\n      setEmail(\"\")\r\n      setPassword(\"\")\r\n    } catch (err) {\r\n      setError(\"Network error. Please try again.\")\r\n      console.error(\"[v0] Login error:\", err)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen relative overflow-hidden flex items-center justify-center p-4 bg-[#0a0a0b]\">\r\n      {/* Dynamic Background Elements */}\r\n      <div className=\"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-primary/20 rounded-full blur-[120px] animate-pulse\"></div>\r\n      <div className=\"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-purple-500/20 rounded-full blur-[120px] animate-pulse delay-700\"></div>\r\n\r\n      <div className=\"relative z-10 w-full max-w-md\">\r\n        <div className=\"bg-white/[0.03] backdrop-blur-2xl border border-white/10 rounded-[2.5rem] shadow-2xl p-10 overflow-hidden relative\">\r\n\r\n          {/* Header */}\r\n          <div className=\"text-center mb-10 relative\">\r\n            <div className=\"inline-flex p-4 rounded-3xl bg-primary/10 mb-6 border border-primary/20 ring-4 ring-primary/5\">\r\n              <CupSoda className=\"w-10 h-10 text-primary\" />\r\n            </div>\r\n            <h1 className=\"text-4xl font-black text-white mb-2 tracking-tighter\">\r\n              SODALICIOUS<span className=\"text-primary\">.</span>CO\r\n            </h1>\r\n            <p className=\"text-gray-400 text-sm font-medium tracking-wide uppercase\">Premium Point of Sale</p>\r\n          </div>\r\n\r\n          <form onSubmit={handleLogin} className=\"space-y-5\">\r\n            <div className=\"space-y-1.5\">\r\n              <label className=\"text-[11px] font-bold text-gray-500 uppercase ml-1 tracking-widest\">Email Address</label>\r\n              <div className=\"relative group\">\r\n                <Mail className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500 group-focus-within:text-primary transition-colors\" />\r\n                <input\r\n                  type=\"email\"\r\n                  placeholder=\"name@sodalicious.com\"\r\n                  value={email}\r\n                  onChange={(e) => setEmail(e.target.value)}\r\n                  className=\"w-full pl-12 pr-4 py-4 bg-white/5 border border-white/5 rounded-2xl focus:outline-none focus:ring-2 focus:ring-primary/50 text-white placeholder:text-gray-600 transition-all font-medium\"\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-1.5\">\r\n              <label className=\"text-[11px] font-bold text-gray-500 uppercase ml-1 tracking-widest\">Security Code</label>\r\n              <div className=\"relative group\">\r\n                <LockIcon className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500 group-focus-within:text-primary transition-colors\" />\r\n                <input\r\n                  type=\"password\"\r\n                  placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\"\r\n                  value={password}\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n                  className=\"w-full pl-12 pr-4 py-4 bg-white/5 border border-white/5 rounded-2xl focus:outline-none focus:ring-2 focus:ring-primary/50 text-white placeholder:text-gray-600 transition-all font-medium\"\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {error && (\r\n              <div className=\"p-4 bg-rose-500/10 border border-rose-500/20 rounded-2xl text-rose-500 text-xs font-bold flex items-center gap-2 animate-in fade-in slide-in-from-top-1\">\r\n                <AlertCircle className=\"w-4 h-4\" />\r\n                {error}\r\n              </div>\r\n            )}\r\n\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              className=\"w-full relative group overflow-hidden py-4 bg-primary text-primary-foreground rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-primary/90 disabled:opacity-50 transition-all shadow-xl shadow-primary/20 active:scale-95\"\r\n            >\r\n              <span className=\"relative z-10 flex items-center justify-center gap-2\">\r\n                {loading ? \"Authenticating...\" : \"Establish Connection\"}\r\n                {!loading && <ArrowRight className=\"w-4 h-4 group-hover:translate-x-1 transition-transform\" />}\r\n              </span>\r\n            </button>\r\n          </form>\r\n\r\n          {/* Quick Access */}\r\n          <div className=\"mt-10 pt-8 border-t border-white/5\">\r\n            <p className=\"text-center text-[10px] text-gray-500 font-black uppercase tracking-[0.2em] mb-4\">Diagnostic Entry Points</p>\r\n            <div className=\"grid grid-cols-2 gap-3\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => {\r\n                  setEmail(\"cashier@sodalicious.com\")\r\n                  setPassword(\"123456\")\r\n                }}\r\n                className=\"flex items-center justify-center gap-2 px-4 py-3 bg-white/[0.02] border border-white/5 rounded-xl hover:bg-white/[0.05] hover:border-white/10 transition-all group\"\r\n              >\r\n                <UserCircle2 className=\"w-4 h-4 text-gray-500 group-hover:text-primary transition-colors\" />\r\n                <span className=\"text-[11px] font-bold text-gray-400 group-hover:text-white transition-colors\">CASHIER</span>\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => {\r\n                  setEmail(\"manager@sodalicious.com\")\r\n                  setPassword(\"123456\")\r\n                }}\r\n                className=\"flex items-center justify-center gap-2 px-4 py-3 bg-white/[0.02] border border-white/5 rounded-xl hover:bg-white/[0.05] hover:border-white/10 transition-all group\"\r\n              >\r\n                <ShieldCheck className=\"w-4 h-4 text-gray-500 group-hover:text-purple-400 transition-colors\" />\r\n                <span className=\"text-[11px] font-bold text-gray-400 group-hover:text-white transition-colors\">MANAGER</span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <p className=\"text-center mt-8 text-gray-600 text-[10px] font-medium tracking-widest uppercase\">\r\n          &copy; 2026 Sodalicious Advanced Agentic Coding Systems\r\n        </p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3993, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Downloads/sodalicious/components/manager/product-management.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport type { useProducts } from \"@/lib/hooks\"\r\nimport { useMenuSync as useMenuSyncHook, useIngredients } from \"@/lib/hooks\"\r\nimport { Plus, Search, Edit, Trash2, X, Save, AlertCircle, RefreshCw } from \"lucide-react\"\r\n\r\ninterface ProductManagementProps {\r\n  products: ReturnType<typeof useProducts>\r\n}\r\n\r\nexport default function ProductManagement({ products }: ProductManagementProps) {\r\n  const menuSync = useMenuSyncHook()\r\n  const { ingredients } = useIngredients()\r\n  const [showForm, setShowForm] = useState(false)\r\n  const [editingId, setEditingId] = useState<string | null>(null)\r\n  const [searchTerm, setSearchTerm] = useState(\"\")\r\n  const [loadingDetails, setLoadingDetails] = useState(false)\r\n  const [activeCategory, setActiveCategory] = useState(\"All\")\r\n\r\n  const [formData, setFormData] = useState<{\r\n    name: string\r\n    category: string\r\n    price: number\r\n    description: string\r\n    stock_quantity: number\r\n    min_threshold: number\r\n    size: string\r\n    ingredients: { ingredient_id: number; amount: number; name?: string; unit?: string }[]\r\n  }>({\r\n    name: \"\",\r\n    category: \"Hot Coffee\",\r\n    price: 0,\r\n    description: \"\",\r\n    stock_quantity: 0,\r\n    min_threshold: 10,\r\n    size: \"M\",\r\n    ingredients: []\r\n  })\r\n\r\n  // Derived from database products for display list\r\n  const filteredItems = (products.products || []).filter((item) => {\r\n    const matchesSearch = item.name.toLowerCase().includes(searchTerm.toLowerCase())\r\n    const matchesCategory = activeCategory === \"All\" || item.category === activeCategory\r\n    return matchesSearch && matchesCategory\r\n  })\r\n\r\n  const noRecipeCount = (products.products || []).filter(item => !item.ingredients_list || item.bottleneck_ingredient === 'Recipe Missing').length\r\n\r\n  const handleEdit = async (item: any) => {\r\n    setEditingId(String(item.id))\r\n    setLoadingDetails(true)\r\n    setShowForm(true)\r\n\r\n    try {\r\n      // Fetch detailed product info including recipes\r\n      console.log(\"Fetching details for:\", item.id)\r\n      const res = await fetch(`/api/products/${item.id}`)\r\n      if (!res.ok) {\r\n        console.error(\"Fetch failed:\", res.status, res.statusText)\r\n        throw new Error(\"Failed to fetch details\")\r\n      }\r\n      const details = await res.json()\r\n      console.log(\"Details fetched:\", details)\r\n\r\n      setFormData({\r\n        name: details.name,\r\n        category: details.category,\r\n        price: !isNaN(Number(details.price)) ? Number(details.price) : 0,\r\n        description: details.description || \"\",\r\n        stock_quantity: details.stock_quantity || 0,\r\n        min_threshold: details.min_threshold || 10,\r\n        size: \"M\", // Default or extract if stored\r\n        ingredients: details.ingredients || []\r\n      })\r\n    } catch (e) {\r\n      console.error(e)\r\n      alert(\"Failed to load product details\")\r\n      setShowForm(false)\r\n    } finally {\r\n      setLoadingDetails(false)\r\n    }\r\n  }\r\n\r\n  const handleDelete = async (id: string) => {\r\n    if (confirm(\"Are you sure you want to delete this product?\")) {\r\n      await products.deleteProduct(Number(id))\r\n      menuSync.refetch()\r\n    }\r\n  }\r\n\r\n  const handleSubmit = async () => {\r\n    try {\r\n      if (editingId) {\r\n        await products.updateProduct(Number(editingId), formData as any)\r\n      } else {\r\n        await products.addProduct(formData as any)\r\n      }\r\n      setShowForm(false)\r\n      menuSync.refetch()\r\n    } catch (e) {\r\n      alert(\"Failed to save product\")\r\n    }\r\n  }\r\n\r\n  const addIngredientToRecipe = () => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      ingredients: [...prev.ingredients, { ingredient_id: 0, amount: 0 }]\r\n    }))\r\n  }\r\n\r\n  const updateIngredientRow = (index: number, field: string, value: any) => {\r\n    const updated = [...formData.ingredients]\r\n    updated[index] = { ...updated[index], [field]: value }\r\n    setFormData(prev => ({ ...prev, ingredients: updated }))\r\n  }\r\n\r\n  const removeIngredientRow = (index: number) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      ingredients: prev.ingredients.filter((_, i) => i !== index)\r\n    }))\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-8 max-w-[1600px] mx-auto\">\r\n      <div className=\"flex justify-between items-center mb-8\">\r\n        <div>\r\n          <h2 className=\"text-3xl font-bold tracking-tight\">Products</h2>\r\n          <div className=\"flex items-center gap-3 mt-1\">\r\n            <p className=\"text-muted-foreground\">Manage your menu items, stock, and recipes</p>\r\n            {noRecipeCount > 0 && (\r\n              <span className=\"flex items-center gap-1.5 px-2 py-0.5 bg-rose-50 text-rose-600 text-[10px] font-black rounded border border-rose-100 animate-pulse\">\r\n                <AlertCircle className=\"w-3 h-3\" />\r\n                {noRecipeCount} ITEMS MISSING RECIPES\r\n              </span>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"flex gap-3\">\r\n          <button\r\n            onClick={async () => {\r\n              if (confirm(\"This will regenerate all recipes based on standard patterns. Continue?\")) {\r\n                try {\r\n                  const res = await fetch(\"/api/admin/fix-recipes\")\r\n                  const data = await res.json()\r\n                  if (data.success) {\r\n                    alert(\"Recipes repaired successfully!\")\r\n                    products.refetch()\r\n                  } else {\r\n                    alert(\"Failed: \" + data.error)\r\n                  }\r\n                } catch (e) {\r\n                  alert(\"Error repairing recipes\")\r\n                }\r\n              }\r\n            }}\r\n            className=\"flex items-center gap-2 px-5 py-2.5 bg-amber-500 text-white rounded-lg font-bold hover:bg-amber-600 transition-all shadow-lg shadow-amber-500/20\"\r\n          >\r\n            <RefreshCw className=\"w-5 h-5\" />\r\n            Repair Recipes\r\n          </button>\r\n          <button\r\n            onClick={() => {\r\n              setEditingId(null)\r\n              setFormData({\r\n                name: \"\",\r\n                category: \"Hot Coffee\",\r\n                price: 0,\r\n                description: \"\",\r\n                stock_quantity: 0,\r\n                min_threshold: 10,\r\n                size: \"M\",\r\n                ingredients: []\r\n              })\r\n              setShowForm(true)\r\n            }}\r\n            className=\"flex items-center gap-2 px-5 py-2.5 bg-primary text-primary-foreground rounded-lg font-bold hover:bg-primary/90 transition-all shadow-lg shadow-primary/20\"\r\n          >\r\n            <Plus className=\"w-5 h-5\" /> Add Product\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {showForm && (\r\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto\">\r\n          <div className=\"bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl animate-in zoom-in-95 duration-200\">\r\n            <div className=\"sticky top-0 bg-white border-b border-gray-100 p-6 flex justify-between items-center z-10\">\r\n              <h3 className=\"text-xl font-bold flex items-center gap-2\">\r\n                {editingId ? <Edit className=\"w-5 h-5 text-primary\" /> : <Plus className=\"w-5 h-5 text-primary\" />}\r\n                {editingId ? \"Edit Product\" : \"New Product\"}\r\n              </h3>\r\n              <button onClick={() => setShowForm(false)} className=\"p-2 hover:bg-gray-100 rounded-full\"><X className=\"w-5 h-5\" /></button>\r\n            </div>\r\n\r\n            <div className=\"p-8 space-y-8\">\r\n              {loadingDetails ? (\r\n                <div className=\"flex justify-center p-12\"><RefreshCw className=\"w-8 h-8 animate-spin text-primary\" /></div>\r\n              ) : (\r\n                <>\r\n                  {/* Basic Info */}\r\n                  <div className=\"grid grid-cols-2 gap-6\">\r\n                    <div className=\"space-y-2\">\r\n                      <label className=\"text-sm font-bold text-gray-700\">Product Name</label>\r\n                      <input type=\"text\" className=\"w-full px-4 py-3 border rounded-lg bg-gray-50 focus:bg-white transition-colors\" value={formData.name} onChange={(e) => setFormData({ ...formData, name: e.target.value })} />\r\n                    </div>\r\n                    <div className=\"space-y-2\">\r\n                      <label className=\"text-sm font-bold text-gray-700\">Category</label>\r\n                      <select className=\"w-full px-4 py-3 border rounded-lg bg-gray-50\" value={formData.category} onChange={(e) => setFormData({ ...formData, category: e.target.value })}>\r\n                        {menuSync.getAllCategories().filter(c => c !== \"All\").map(c => <option key={c} value={c}>{c}</option>)}\r\n                      </select>\r\n                    </div>\r\n                    <div className=\"space-y-2\">\r\n                      <label className=\"text-sm font-bold text-gray-700\">Price</label>\r\n                      <input type=\"number\" className=\"w-full px-4 py-3 border rounded-lg bg-gray-50\" value={formData.price} onChange={(e) => setFormData({ ...formData, price: Number(e.target.value) })} />\r\n                    </div>\r\n                    <div className=\"space-y-2\">\r\n                      <label className=\"text-sm font-bold text-gray-700\">Description</label>\r\n                      <input type=\"text\" className=\"w-full px-4 py-3 border rounded-lg bg-gray-50\" value={formData.description} onChange={(e) => setFormData({ ...formData, description: e.target.value })} />\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Stock Management */}\r\n                  <div className=\"bg-amber-50/50 p-6 rounded-xl border border-amber-100\">\r\n                    <h4 className=\"font-bold text-amber-800 mb-4 flex items-center gap-2\">ðŸ“¦ Stock Management</h4>\r\n                    <div className=\"grid grid-cols-2 gap-6\">\r\n                      <div className=\"space-y-2\">\r\n                        <label className=\"text-sm font-bold text-gray-700\">Current Stock</label>\r\n                        <input type=\"number\" className=\"w-full px-4 py-3 border rounded-lg bg-white\" value={formData.stock_quantity} onChange={(e) => setFormData({ ...formData, stock_quantity: Number(e.target.value) })} />\r\n                      </div>\r\n                      <div className=\"space-y-2\">\r\n                        <label className=\"text-sm font-bold text-gray-700\">Min. Threshold (Alert Level)</label>\r\n                        <input type=\"number\" className=\"w-full px-4 py-3 border rounded-lg bg-white\" value={formData.min_threshold} onChange={(e) => setFormData({ ...formData, min_threshold: Number(e.target.value) })} />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Recipe Editor */}\r\n                  <div className=\"bg-blue-50/50 p-6 rounded-xl border border-blue-100\">\r\n                    <div className=\"flex justify-between items-center mb-4\">\r\n                      <h4 className=\"font-bold text-blue-800 flex items-center gap-2\">ðŸ¥˜ Recipe / Ingredients</h4>\r\n                      <button onClick={addIngredientToRecipe} className=\"text-xs bg-blue-600 text-white px-3 py-1.5 rounded-lg font-bold hover:bg-blue-700\">+ Add Ingredient</button>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-3\">\r\n                      {formData.ingredients.length === 0 ? (\r\n                        <p className=\"text-sm text-center text-blue-400 py-4 italic\">No ingredients defined. Add one to create a recipe.</p>\r\n                      ) : (\r\n                        formData.ingredients.map((ing, idx) => (\r\n                          <div key={idx} className=\"flex gap-3 items-center\">\r\n                            <select\r\n                              className=\"flex-1 px-3 py-2 border rounded-lg text-sm\"\r\n                              value={ing.ingredient_id || \"\"}\r\n                              onChange={(e) => updateIngredientRow(idx, \"ingredient_id\", Number(e.target.value))}\r\n                            >\r\n                              <option value=\"\">Select Ingredient</option>\r\n                              {ingredients.map(i => <option key={i.id} value={i.id}>{i.name} ({i.unit})</option>)}\r\n                            </select>\r\n                            <input\r\n                              type=\"number\"\r\n                              placeholder=\"Amount\"\r\n                              className=\"w-24 px-3 py-2 border rounded-lg text-sm\"\r\n                              value={ing.amount}\r\n                              onChange={(e) => updateIngredientRow(idx, \"amount\", Number(e.target.value))}\r\n                            />\r\n                            <button onClick={() => removeIngredientRow(idx)} className=\"text-rose-500 hover:bg-rose-50 p-2 rounded-lg\"><Trash2 className=\"w-4 h-4\" /></button>\r\n                          </div>\r\n                        ))\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"p-6 border-t bg-gray-50 rounded-b-2xl flex justify-end gap-3 sticky bottom-0 z-10\">\r\n              <button onClick={() => setShowForm(false)} className=\"px-6 py-3 font-bold text-gray-500 hover:bg-gray-200 rounded-xl transition-colors\">Cancel</button>\r\n              <button onClick={handleSubmit} className=\"px-8 py-3 bg-primary text-white font-bold rounded-xl hover:opacity-90 shadow-lg\">{editingId ? \"Update Product\" : \"Create Product\"}</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Category Tabs */}\r\n      <div className=\"flex items-center gap-2 overflow-x-auto pb-4 mb-2 no-scrollbar\">\r\n        {[\"All\", \"Hot Coffee\", \"Iced Coffee\", \"Frappes\", \"Soda Series\", \"Yakult Series\", \"Matcha Series\", \"Combo Meals\", \"Snacks\"].map((cat) => (\r\n          <button\r\n            key={cat}\r\n            onClick={() => setActiveCategory(cat)}\r\n            className={`px-4 py-2 rounded-xl text-[10px] font-black whitespace-nowrap transition-all border-2 ${activeCategory === cat\r\n                ? \"bg-primary border-primary text-primary-foreground shadow-lg shadow-primary/20 scale-105\"\r\n                : \"bg-white border-gray-100 text-gray-400 hover:border-gray-200\"\r\n              }`}\r\n          >\r\n            {cat.toUpperCase()}\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Main List Table */}\r\n      <div className=\"bg-white border rounded-xl overflow-hidden shadow-sm\">\r\n        <div className=\"p-4 border-b bg-gray-50/50 flex gap-4\">\r\n          <div className=\"relative flex-1 max-w-sm\">\r\n            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search products...\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              className=\"w-full pl-9 pr-4 py-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary/50\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <table className=\"w-full text-sm\">\r\n          <thead className=\"bg-gray-50 border-b\">\r\n            <tr>\r\n              <th className=\"px-6 py-4 text-left font-bold text-gray-500 uppercase\">Name</th>\r\n              <th className=\"px-6 py-4 text-left font-bold text-gray-500 uppercase\">Information</th>\r\n              <th className=\"px-6 py-4 text-left font-bold text-gray-500 uppercase\">Stock</th>\r\n              <th className=\"px-6 py-4 text-left font-bold text-gray-500 uppercase\">Recipe</th>\r\n              <th className=\"px-6 py-4 text-right font-bold text-gray-500 uppercase\">Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody className=\"divide-y\">\r\n            {filteredItems.map((item: any) => (\r\n              <tr key={item.id} className=\"hover:bg-gray-50/50 transition-colors\">\r\n                <td className=\"px-6 py-4 font-bold text-gray-800\">{item.name}</td>\r\n                <td className=\"px-6 py-4\">\r\n                  <div className=\"flex flex-col\">\r\n                    <span className=\"text-xs font-bold text-gray-400 uppercase\">{item.category}</span>\r\n                    <span className=\"font-mono text-primary font-bold\">â‚±{(!isNaN(Number(item.price)) ? Number(item.price) : 0).toFixed(2)}</span>\r\n                  </div>\r\n                </td>\r\n                <td className=\"px-6 py-4\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <div className={`w-2 h-2 rounded-full ${item.stock < item.minThreshold ? \"bg-red-500 animate-pulse\" : \"bg-green-500\"}`}></div>\r\n                    <span className={`font-bold ${item.stock < item.minThreshold ? \"text-red-600\" : \"text-gray-700\"}`}>{item.stock} Units</span>\r\n                  </div>\r\n                </td>\r\n                <td className=\"px-6 py-4\">\r\n                  {item.ingredients_list ? (\r\n                    <div className=\"flex flex-wrap gap-1 max-w-[250px]\">\r\n                      {item.ingredients_list.split(', ').map((ing: string) => (\r\n                        <span key={ing} className=\"px-1.5 py-0.5 bg-gray-100 text-[10px] font-bold text-gray-500 rounded border\">\r\n                          {ing}\r\n                        </span>\r\n                      ))}\r\n                    </div>\r\n                  ) : (\r\n                    <span className=\"text-[10px] font-black text-rose-500 bg-rose-50 px-2 py-1 rounded border border-rose-100 flex items-center gap-1 w-fit\">\r\n                      <AlertCircle className=\"w-3 h-3\" /> NO RECIPE\r\n                    </span>\r\n                  )}\r\n                </td>\r\n                <td className=\"px-6 py-4 text-right space-x-2\">\r\n                  <button onClick={() => handleEdit(item)} className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg\"><Edit className=\"w-4 h-4\" /></button>\r\n                  <button onClick={() => handleDelete(item.id)} className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg\"><Trash2 className=\"w-4 h-4\" /></button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 5035, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Downloads/sodalicious/components/manager/inventory-management.tsx"],"sourcesContent":["\r\n\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport type { useProducts, useInventoryLogs, useMenuSync } from \"@/lib/hooks\"\r\nimport { useIngredients } from \"@/lib/hooks\"\r\n\r\ninterface InventoryManagementProps {\r\n  products: ReturnType<typeof useProducts>\r\n  inventoryLogs: ReturnType<typeof useInventoryLogs>\r\n}\r\n\r\nexport default function InventoryManagement({ products, inventoryLogs }: InventoryManagementProps) {\r\n  const { ingredients, refetch } = useIngredients()\r\n  const [showAdjustForm, setShowAdjustForm] = useState(false)\r\n  const [adjustingId, setAdjustingId] = useState<number | null>(null)\r\n  const [adjustmentData, setAdjustmentData] = useState({ quantity: 0, type: \"restock\", reason: \"\" })\r\n\r\n  const lowStockItems = ingredients.filter(i => Number(i.stock_quantity) < 18 || Number(i.stock_quantity) <= Number(i.reorder_level))\r\n\r\n  const handleAdjustment = async () => {\r\n    if (adjustingId) {\r\n      const item = ingredients.find((i) => i.id === adjustingId)\r\n      if (item) {\r\n        const change = adjustmentData.type === \"restock\" ? adjustmentData.quantity : -adjustmentData.quantity\r\n\r\n        try {\r\n          const response = await fetch(\"/api/inventory\", {\r\n            method: \"POST\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify({\r\n              ingredient_id: item.id,\r\n              user_id: 1, // Defaulting to 1 since we don't have user context here easily, typically passed down\r\n              log_type: adjustmentData.type,\r\n              quantity_changed: change,\r\n              reason: adjustmentData.reason,\r\n            }),\r\n          })\r\n\r\n          if (response.ok) {\r\n            refetch()\r\n            inventoryLogs.refetch()\r\n          } else {\r\n            console.error(\"Failed to update inventory\")\r\n          }\r\n        } catch (e) {\r\n          console.error(e)\r\n        }\r\n\r\n        setAdjustingId(null)\r\n        setShowAdjustForm(false)\r\n        setAdjustmentData({ quantity: 0, type: \"restock\", reason: \"\" })\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-8\">\r\n      <h2 className=\"text-3xl font-bold mb-8\">Ingredient Inventory Management</h2>\r\n\r\n      {lowStockItems.length > 0 && (\r\n        <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-8\">\r\n          <p className=\"text-sm font-bold text-yellow-800\">âš  Low Stock Alert</p>\r\n          <p className=\"text-sm text-yellow-700\">{lowStockItems.length} ingredients need restocking</p>\r\n        </div>\r\n      )}\r\n\r\n      {showAdjustForm && (\r\n        <div className=\"bg-card border border-border rounded-lg p-6 mb-8\">\r\n          <h3 className=\"text-xl font-bold mb-4\">Adjust Stock</h3>\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <select\r\n              value={adjustmentData.type}\r\n              onChange={(e) => setAdjustmentData({ ...adjustmentData, type: e.target.value })}\r\n              className=\"px-4 py-2 border border-border rounded bg-background\"\r\n            >\r\n              <option value=\"restock\">Restock</option>\r\n              <option value=\"damage\">Damage</option>\r\n              <option value=\"waste\">Waste</option>\r\n            </select>\r\n            <input\r\n              type=\"number\"\r\n              placeholder=\"Quantity\"\r\n              value={adjustmentData.quantity}\r\n              onChange={(e) => setAdjustmentData({ ...adjustmentData, quantity: Number.parseInt(e.target.value) })}\r\n              className=\"px-4 py-2 border border-border rounded bg-background\"\r\n            />\r\n            <textarea\r\n              placeholder=\"Reason\"\r\n              value={adjustmentData.reason}\r\n              onChange={(e) => setAdjustmentData({ ...adjustmentData, reason: e.target.value })}\r\n              className=\"px-4 py-2 border border-border rounded bg-background col-span-2\"\r\n            />\r\n          </div>\r\n          <div className=\"space-x-2 mt-4\">\r\n            <button\r\n              onClick={handleAdjustment}\r\n              className=\"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90\"\r\n            >\r\n              Apply\r\n            </button>\r\n            <button\r\n              onClick={() => {\r\n                setShowAdjustForm(false)\r\n                setAdjustingId(null)\r\n              }}\r\n              className=\"px-4 py-2 border border-border rounded-md hover:bg-accent\"\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"bg-card border border-border rounded-lg overflow-hidden\">\r\n        <table className=\"w-full\">\r\n          <thead className=\"bg-accent\">\r\n            <tr>\r\n              <th className=\"px-6 py-4 text-left font-bold\">Ingredient</th>\r\n              <th className=\"px-6 py-4 text-left font-bold\">Unit</th>\r\n              <th className=\"px-6 py-4 text-left font-bold\">Current Stock</th>\r\n              <th className=\"px-6 py-4 text-left font-bold\">Reorder Level</th>\r\n              <th className=\"px-6 py-4 text-left font-bold\">Status</th>\r\n              <th className=\"px-6 py-4 text-left font-bold\">Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody className=\"divide-y divide-border\">\r\n            {ingredients.map((item) => {\r\n              const isLow = Number(item.stock_quantity) < 18 || Number(item.stock_quantity) <= Number(item.reorder_level)\r\n              return (\r\n                <tr key={item.id} className={`hover:bg-accent/50 transition-colors ${isLow ? \"bg-red-50\" : \"\"}`}>\r\n                  <td className=\"px-6 py-4 font-medium\">{item.name}</td>\r\n                  <td className=\"px-6 py-4\">{item.unit}</td>\r\n                  <td className={`px-6 py-4 font-bold ${isLow ? \"text-red-600\" : \"text-foreground\"}`}>\r\n                    {item.stock_quantity}\r\n                  </td>\r\n                  <td className=\"px-6 py-4 font-medium text-muted-foreground\">{item.reorder_level}</td>\r\n                  <td className=\"px-6 py-4\">\r\n                    <span\r\n                      className={`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest ${isLow\r\n                        ? \"bg-red-600 text-white shadow-lg shadow-red-200\"\r\n                        : \"bg-green-100 text-green-700\"\r\n                        }`}\r\n                    >\r\n                      {isLow ? \"LOW STOCK\" : \"OK\"}\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"px-6 py-4\">\r\n                    <button\r\n                      onClick={() => {\r\n                        setAdjustingId(item.id)\r\n                        setShowAdjustForm(true)\r\n                      }}\r\n                      className=\"inline-flex items-center justify-center p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors font-bold\"\r\n                    >\r\n                      Adjust\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              )\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      {\r\n        inventoryLogs.logs.length > 0 && (\r\n          <div className=\"mt-8\">\r\n            <h3 className=\"text-xl font-bold mb-4\">Inventory History</h3>\r\n            <div className=\"bg-card border border-border rounded-lg overflow-hidden\">\r\n              <table className=\"w-full\">\r\n                <thead className=\"bg-accent\">\r\n                  <tr>\r\n                    <th className=\"px-6 py-4 text-left font-bold\">Ingredient</th>\r\n                    <th className=\"px-6 py-4 text-left font-bold\">Type</th>\r\n                    <th className=\"px-6 py-4 text-left font-bold\">Qty Changed</th>\r\n                    <th className=\"px-6 py-4 text-left font-bold\">Reason</th>\r\n                    <th className=\"px-6 py-4 text-left font-bold\">User</th>\r\n                    <th className=\"px-6 py-4 text-left font-bold\">Timestamp</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"divide-y divide-border\">\r\n                  {inventoryLogs.logs.map((log: any) => (\r\n                    <tr key={log.id} className=\"hover:bg-accent/50\">\r\n                      <td className=\"px-6 py-4\">{log.ingredient_name || log.productName || \"Unknown\"}</td>\r\n                      <td className=\"px-6 py-4 capitalize\">{log.log_type || log.type}</td>\r\n                      <td className=\"px-6 py-4\">{log.quantity_changed || log.quantity}</td>\r\n                      <td className=\"px-6 py-4\">{log.reason || \"-\"}</td>\r\n                      <td className=\"px-6 py-4\">{log.user_name || log.userName}</td>\r\n                      <td className=\"px-6 py-4\">{log.created_at ? new Date(log.created_at).toLocaleString() : log.timestamp}</td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        )\r\n      }\r\n    </div >\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 5602, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Downloads/sodalicious/components/manager/order-management.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport type { useDatabaseOrders } from \"@/lib/hooks\"\r\nimport { Eye, EyeOff, ClipboardList, CheckCircle } from \"lucide-react\"\r\n\r\ninterface OrderManagementProps {\r\n  orders: ReturnType<typeof useDatabaseOrders>\r\n}\r\n\r\nexport default function OrderManagement({ orders }: OrderManagementProps) {\r\n  const [expandedOrderId, setExpandedOrderId] = useState<string | null>(null)\r\n\r\n  // Filter to show only Completed orders by default if requested to \"remove pending/preparing\" view\r\n  // Or just filter out pending/preparing from the view.\r\n  const filteredOrders = orders.orders.filter((o: any) => {\r\n    const status = (o.order_status ?? o.status ?? \"\").toLowerCase()\r\n    return status === \"completed\"\r\n  })\r\n\r\n  return (\r\n    <div className=\"p-8 max-w-[1600px] mx-auto\">\r\n      <div className=\"flex justify-between items-center mb-8\">\r\n        <div>\r\n          <h2 className=\"text-3xl font-bold tracking-tight\">Order History</h2>\r\n          <p className=\"text-muted-foreground mt-1\">View past transactions</p>\r\n        </div>\r\n        <div className=\"px-4 py-2 bg-primary/10 text-primary font-medium rounded-lg flex items-center gap-2\">\r\n          <ClipboardList className=\"w-5 h-5\" />\r\n          {filteredOrders.length} Total Orders\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"bg-card border border-border rounded-xl overflow-hidden shadow-sm\">\r\n        <table className=\"w-full text-sm\">\r\n          <thead className=\"bg-muted/50 border-b border-border\">\r\n            <tr>\r\n              <th className=\"px-6 py-4 text-left font-bold text-muted-foreground uppercase tracking-wider\">Order ID</th>\r\n              <th className=\"px-6 py-4 text-left font-bold text-muted-foreground uppercase tracking-wider\">Customer</th>\r\n              <th className=\"px-6 py-4 text-left font-bold text-muted-foreground uppercase tracking-wider\">Total</th>\r\n              <th className=\"px-6 py-4 text-left font-bold text-muted-foreground uppercase tracking-wider\">Status</th>\r\n              <th className=\"px-6 py-4 text-left font-bold text-muted-foreground uppercase tracking-wider\">Date</th>\r\n              <th className=\"px-6 py-4 text-right font-bold text-muted-foreground uppercase tracking-wider\">Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody className=\"divide-y divide-border\">\r\n            {filteredOrders.map((order) => (\r\n              <tr key={order.id} className=\"hover:bg-muted/50 transition-colors\">\r\n                <td className=\"px-6 py-4 font-bold font-mono\">{order.id}</td>\r\n                <td className=\"px-6 py-4 font-medium\">{(order as any).customer_name ?? (order as any).customer ?? \"â€”\"}</td>\r\n                <td className=\"px-6 py-4 font-bold text-primary\">â‚±{Number((order as any).total_amount ?? (order as any).total ?? 0).toFixed(2)}</td>\r\n                <td className=\"px-6 py-4\">\r\n                  <span className=\"flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold bg-green-100 text-green-700 capitalize w-fit\">\r\n                    <CheckCircle className=\"w-3 h-3\" />\r\n                    {(order as any).order_status ?? (order as any).status ?? \"Completed\"}\r\n                  </span>\r\n                </td>\r\n                <td className=\"px-6 py-4 text-muted-foreground\">\r\n                  {(order as any).created_at ? new Date((order as any).created_at).toLocaleString() : \"-\"}\r\n                </td>\r\n                <td className=\"px-6 py-4 text-right\">\r\n                  <button\r\n                    onClick={() => setExpandedOrderId(expandedOrderId === String(order.id) ? null : String(order.id))}\r\n                    className=\"inline-flex items-center justify-center gap-2 px-4 py-2 bg-primary/10 hover:bg-primary/20 text-primary rounded-lg font-medium text-xs transition-colors\"\r\n                  >\r\n                    {expandedOrderId === String(order.id) ? <EyeOff className=\"w-4 h-4\" /> : <Eye className=\"w-4 h-4\" />}\r\n                    {expandedOrderId === String(order.id) ? \"Hide Details\" : \"View Details\"}\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      {expandedOrderId && (\r\n        <div className=\"mt-8 bg-card border border-border rounded-xl p-8 shadow-md animate-in fade-in slide-in-from-bottom-4 duration-300\">\r\n          {(() => {\r\n            const order = orders.orders.find((o) => String(o.id) === expandedOrderId)\r\n            return order ? (\r\n              <div>\r\n                <div className=\"flex justify-between items-start mb-6\">\r\n                  <h3 className=\"text-xl font-bold flex items-center gap-2\">\r\n                    Order Details\r\n                    <span className=\"text-muted-foreground font-normal\">#{order.id}</span>\r\n                  </h3>\r\n                  <div className=\"text-xs font-mono bg-muted px-3 py-1 rounded\">\r\n                    ID: {order.id}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-4 gap-8 mb-8 p-6 bg-muted/20 rounded-lg border border-border/50\">\r\n                  <div>\r\n                    <p className=\"text-xs font-bold text-muted-foreground uppercase tracking-wider mb-1\">Customer</p>\r\n                    <p className=\"font-bold text-lg\">{(order as any).customer_name ?? (order as any).customer ?? \"â€”\"}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-xs font-bold text-muted-foreground uppercase tracking-wider mb-1\">Cashier</p>\r\n                    <p className=\"font-bold text-lg\">{(order as any).cashier_name ?? (order as any).cashierName ?? \"N/A\"}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-xs font-bold text-muted-foreground uppercase tracking-wider mb-1\">Payment Method</p>\r\n                    <p className=\"font-bold text-lg capitalize flex items-center gap-2\">\r\n                      {(order as any).payment_method ?? (order as any).paymentMethod ?? \"â€”\"}\r\n                    </p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-xs font-bold text-muted-foreground uppercase tracking-wider mb-1\">Date Logged</p>\r\n                    <p className=\"font-bold text-lg\">{(order as any).created_at ? new Date((order as any).created_at).toLocaleDateString() : \"-\"}</p>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"border border-border rounded-lg overflow-hidden\">\r\n                  <div className=\"bg-muted/50 px-6 py-3 border-b border-border font-bold text-sm\">Items Purchased</div>\r\n                  <div className=\"divide-y divide-border\">\r\n                    {Array.isArray((order as any).items) && (order as any).items.length > 0 ? (\r\n                      (order as any).items.map((item: any) => (\r\n                        <div key={item.id ?? `${item.name}-${item.quantity}`} className=\"flex justify-between p-4 hover:bg-muted/20\">\r\n                          <span className=\"font-medium\">\r\n                            <span className=\"font-bold text-primary mr-2\">{item.quantity ?? item.qty}x</span>\r\n                            {item.name ?? item.product_name}\r\n                          </span>\r\n                          <span className=\"font-mono\">â‚±{Number((item.price ?? item.unit_price ?? 0) * (item.quantity ?? item.qty ?? 0)).toFixed(2)}</span>\r\n                        </div>\r\n                      ))\r\n                    ) : (\r\n                      <div className=\"p-4 text-sm text-muted-foreground text-center italic\">No item details available in history record.</div>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"bg-muted/20 p-4 border-t border-border space-y-1\">\r\n                    {(() => {\r\n                      const items = Array.isArray((order as any).items) ? (order as any).items : []\r\n                      const subtotal = items.reduce((s: number, it: any) => s + Number((it.price ?? it.unit_price ?? 0) * (it.quantity ?? it.qty ?? 0)), 0)\r\n                      const displaysubtotal = subtotal > 0 ? subtotal : Number((order as any).subtotal ?? (order as any).sub_total ?? 0)\r\n                      const tax = Number((order as any).tax ?? (order as any).tax_amount ?? 0)\r\n                      const total = Number((order as any).total_amount ?? (order as any).total ?? displaysubtotal + tax)\r\n\r\n                      return (\r\n                        <div className=\"flex flex-col items-end gap-1\">\r\n                          <div className=\"flex justify-between w-64 text-sm text-muted-foreground\">\r\n                            <span>Subtotal</span>\r\n                            <span>â‚±{displaysubtotal.toFixed(2)}</span>\r\n                          </div>\r\n                          <div className=\"flex justify-between w-64 text-sm text-muted-foreground\">\r\n                            <span>Tax (8%)</span>\r\n                            <span>â‚±{tax.toFixed(2)}</span>\r\n                          </div>\r\n                          <div className=\"flex justify-between w-64 text-xl font-black text-foreground border-t border-border pt-2 mt-2\">\r\n                            <span>TOTAL</span>\r\n                            <span>â‚±{total.toFixed(2)}</span>\r\n                          </div>\r\n                        </div>\r\n                      )\r\n                    })()}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ) : null\r\n          })()}\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 6220, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Downloads/sodalicious/components/manager/user-management.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport type { useUsers } from \"@/lib/hooks\"\r\n\r\ninterface UserManagementProps {\r\n  users: ReturnType<typeof useUsers>\r\n}\r\n\r\nexport default function UserManagement({ users }: UserManagementProps) {\r\n  const [showForm, setShowForm] = useState(false)\r\n  const [editingId, setEditingId] = useState<number | null>(null)\r\n  const [formData, setFormData] = useState({ name: \"\", username: \"\", password: \"\", role: \"cashier\", status: \"Active\" })\r\n\r\n  const handleSubmit = () => {\r\n    if (editingId) {\r\n      users.updateUser(editingId, formData as any)\r\n      setEditingId(null)\r\n    } else {\r\n      users.addUser(formData as any)\r\n    }\r\n    setShowForm(false)\r\n    setFormData({ name: \"\", username: \"\", password: \"\", role: \"cashier\", status: \"Active\" })\r\n  }\r\n\r\n  const handleEdit = (user: any) => {\r\n    setFormData({ name: user.name, username: user.username, password: \"\", role: user.role, status: user.status })\r\n    setEditingId(user.id)\r\n    setShowForm(true)\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-8\">\r\n      <div className=\"flex justify-between items-center mb-8\">\r\n        <h2 className=\"text-3xl font-bold\">User Management</h2>\r\n        <button\r\n          onClick={() => {\r\n            setShowForm(!showForm)\r\n            setEditingId(null)\r\n            setFormData({ name: \"\", username: \"\", password: \"\", role: \"cashier\", status: \"Active\" })\r\n          }}\r\n          className=\"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90\"\r\n        >\r\n          {showForm ? \"Cancel\" : \"Add User\"}\r\n        </button>\r\n      </div>\r\n\r\n      {showForm && (\r\n        <div className=\"bg-card border border-border rounded-lg p-6 mb-8\">\r\n          <h3 className=\"text-xl font-bold mb-4\">{editingId ? \"Edit User\" : \"Add New User\"}</h3>\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Full Name\"\r\n              value={formData.name}\r\n              onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n              className=\"px-4 py-2 border border-border rounded bg-background\"\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Username\"\r\n              value={formData.username}\r\n              onChange={(e) => setFormData({ ...formData, username: e.target.value })}\r\n              className=\"px-4 py-2 border border-border rounded bg-background\"\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n              value={formData.password}\r\n              onChange={(e) => setFormData({ ...formData, password: e.target.value })}\r\n              className=\"px-4 py-2 border border-border rounded bg-background\"\r\n            />\r\n            <select\r\n              value={formData.role}\r\n              onChange={(e) => setFormData({ ...formData, role: e.target.value })}\r\n              className=\"px-4 py-2 border border-border rounded bg-background\"\r\n            >\r\n              <option value=\"cashier\">Cashier</option>\r\n              <option value=\"manager\">Manager</option>\r\n              <option value=\"inventory\">Inventory Officer</option>\r\n            </select>\r\n            <select\r\n              value={formData.status}\r\n              onChange={(e) => setFormData({ ...formData, status: e.target.value })}\r\n              className=\"px-4 py-2 border border-border rounded bg-background col-span-2\"\r\n            >\r\n              <option value=\"Active\">Active</option>\r\n              <option value=\"Inactive\">Inactive</option>\r\n            </select>\r\n          </div>\r\n          <button\r\n            onClick={handleSubmit}\r\n            className=\"mt-4 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90\"\r\n          >\r\n            {editingId ? \"Update User\" : \"Add User\"}\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"bg-card border border-border rounded-lg overflow-hidden\">\r\n        <table className=\"w-full\">\r\n          <thead className=\"bg-accent\">\r\n            <tr>\r\n              <th className=\"px-6 py-4 text-left font-bold\">Name</th>\r\n              <th className=\"px-6 py-4 text-left font-bold\">Username</th>\r\n              <th className=\"px-6 py-4 text-left font-bold\">Role</th>\r\n              <th className=\"px-6 py-4 text-left font-bold\">Status</th>\r\n              <th className=\"px-6 py-4 text-left font-bold\">Last Login</th>\r\n              <th className=\"px-6 py-4 text-left font-bold\">Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody className=\"divide-y divide-border\">\r\n            {users.users.filter(u => u.role !== 'manager').map((user) => (\r\n              <tr key={user.id} className=\"hover:bg-accent/50\">\r\n                <td className=\"px-6 py-4\">{user.name}</td>\r\n                <td className=\"px-6 py-4\">{user.username}</td>\r\n                <td className=\"px-6 py-4 capitalize\">{user.role}</td>\r\n                <td className=\"px-6 py-4\">\r\n                  <span\r\n                    className={`px-3 py-1 rounded text-sm font-bold ${user.status === \"Active\" ? \"bg-green-100 text-green-700\" : \"bg-gray-100 text-gray-700\"}`}\r\n                  >\r\n                    {user.status}\r\n                  </span>\r\n                </td>\r\n                <td className=\"px-6 py-4\">{user.lastLogin || \"N/A\"}</td>\r\n                <td className=\"px-6 py-4 space-x-2\">\r\n                  <button\r\n                    onClick={() => handleEdit(user)}\r\n                    className=\"px-3 py-1 bg-blue-100 text-blue-700 rounded text-sm hover:bg-blue-200\"\r\n                  >\r\n                    Edit\r\n                  </button>\r\n                  <button\r\n                    onClick={() => users.deleteUser(user.id)}\r\n                    className=\"px-3 py-1 bg-red-100 text-red-700 rounded text-sm hover:bg-red-200\"\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 6639, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Downloads/sodalicious/components/manager/reports.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, useState, useCallback } from \"react\"\r\nimport { useMenuSync as useMenuSyncHook } from \"@/lib/hooks\"\r\nimport { Package, TrendingUp, BarChart3, PieChart, Activity } from \"lucide-react\"\r\n\r\ntype ApiReport = {\r\n  totals: { totalOrders: number; totalSales: number }\r\n  topProducts?: Array<{ id: number; name: string; qty_sold: number; revenue: number }>\r\n  breakdown?: Array<{ date: string; orders_count: number; total_sales: number }>\r\n  meta?: any\r\n}\r\n\r\nexport default function Reports() {\r\n  const menuSync = useMenuSyncHook()\r\n  const [reportType, setReportType] = useState<\"daily\" | \"weekly\" | \"monthly\" | \"payment\" | \"inventory\">(\"daily\")\r\n  const [dateRange, setDateRange] = useState({ start: \"\", end: \"\" })\r\n  const [apiReport, setApiReport] = useState<ApiReport | null>(null)\r\n  const [loading, setLoading] = useState(false)\r\n  const [error, setError] = useState<string | null>(null)\r\n\r\n  const fetchReport = useCallback(async () => {\r\n    setLoading(true)\r\n    setError(null)\r\n    try {\r\n      const params = new URLSearchParams()\r\n      params.set(\"type\", reportType)\r\n      if (dateRange.start && dateRange.end) {\r\n        params.set(\"start\", dateRange.start)\r\n        params.set(\"end\", dateRange.end)\r\n      }\r\n\r\n      const res = await fetch(`/api/reports?${params.toString()}`)\r\n      if (!res.ok) throw new Error(`Status ${res.status}`)\r\n      const json = await res.json()\r\n      // Coerce numeric fields to numbers to avoid toFixed issues\r\n      if (json?.totals) {\r\n        json.totals.totalOrders = Number(json.totals.totalOrders || 0)\r\n        json.totals.totalSales = Number(json.totals.totalSales || 0)\r\n      }\r\n      setApiReport(json)\r\n    } catch (err: any) {\r\n      console.error(\"[Reports] fetch error\", err)\r\n      setError(\"Failed to fetch report; showing local summary\")\r\n      setApiReport(null)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }, [reportType, dateRange.start, dateRange.end])\r\n\r\n  useEffect(() => {\r\n    // initial fetch\r\n    fetchReport()\r\n    // poll every 5 seconds to keep reports in sync with cashier actions\r\n    const id = setInterval(() => {\r\n      fetchReport()\r\n    }, 5000)\r\n    return () => clearInterval(id)\r\n  }, [fetchReport])\r\n\r\n  // Local fallback summary when API is unavailable â€” this keeps UI responsive\r\n  const fallback = {\r\n    title: reportType === \"inventory\" ? \"Inventory Report\" : \"Daily Sales Report\",\r\n    totalSales: apiReport?.totals?.totalSales ?? 0,\r\n    totalOrders: apiReport?.totals?.totalOrders ?? 0,\r\n    itemsSold: apiReport?.breakdown ? apiReport.breakdown.reduce((s: number, b: any) => s + Number(b.orders_count || 0), 0) : 0,\r\n    paymentMethods: {},\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-8\">\r\n      <h2 className=\"text-3xl font-bold mb-8\">Reports</h2>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\r\n        {[\r\n          { id: \"daily\", label: \"Daily Sales Report\" },\r\n          { id: \"weekly\", label: \"Weekly Sales Report\" },\r\n          { id: \"monthly\", label: \"Monthly Sales Report\" },\r\n          { id: \"payment\", label: \"Payment Summary\" },\r\n          { id: \"inventory\", label: \"Inventory Report\" },\r\n        ].map((r) => (\r\n          <button\r\n            key={r.id}\r\n            onClick={() => setReportType(r.id as any)}\r\n            className={`p-6 border rounded-lg hover:bg-accent transition-colors text-left ${reportType === r.id ? \"border-primary bg-primary/10\" : \"border-border\"\r\n              }`}\r\n          >\r\n            <h3 className=\"font-bold mb-2\">{r.label}</h3>\r\n            <p className=\"text-sm text-muted-foreground\">Generate and view report</p>\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      <div className=\"bg-card border border-border rounded-lg p-8\">\r\n        <div className=\"flex justify-between items-center mb-6\">\r\n          <h3 className=\"text-2xl font-bold\">{apiReport ? (apiReport.meta?.type || \"Report\") : fallback.title}</h3>\r\n          <div className=\"flex items-center gap-2\">\r\n            {loading && <span className=\"text-sm text-muted-foreground\">Refreshing...</span>}\r\n            <button onClick={() => fetchReport()} className=\"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90\">\r\n              Refresh\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {reportType !== \"inventory\" && (\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\r\n            <div className=\"space-y-6\">\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div className=\"p-5 bg-blue-50 rounded-2xl border border-blue-100 shadow-sm hover:shadow-md transition-all\">\r\n                  <p className=\"text-[10px] font-black text-blue-400 uppercase tracking-widest mb-1\">Total Sales</p>\r\n                  <p className=\"text-3xl font-black text-blue-600\">â‚±{Number(apiReport?.totals?.totalSales ?? fallback.totalSales).toFixed(2)}</p>\r\n                  <div className=\"mt-2 h-1 w-full bg-blue-200 rounded-full overflow-hidden\">\r\n                    <div className=\"h-full bg-blue-600 w-[70%]\"></div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"p-5 bg-green-50 rounded-2xl border border-green-100 shadow-sm hover:shadow-md transition-all\">\r\n                  <p className=\"text-[10px] font-black text-green-400 uppercase tracking-widest mb-1\">Total Orders</p>\r\n                  <p className=\"text-3xl font-black text-green-600\">{apiReport?.totals?.totalOrders ?? fallback.totalOrders}</p>\r\n                </div>\r\n                <div className=\"p-5 bg-purple-50 rounded-2xl border border-purple-100 shadow-sm hover:shadow-md transition-all\">\r\n                  <p className=\"text-[10px] font-black text-purple-400 uppercase tracking-widest mb-1\">Items Sold</p>\r\n                  <p className=\"text-3xl font-black text-purple-600\">{fallback.itemsSold}</p>\r\n                </div>\r\n                <div className=\"p-5 bg-orange-50 rounded-2xl border border-orange-100 shadow-sm hover:shadow-md transition-all\">\r\n                  <p className=\"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1\">Avg Ticket</p>\r\n                  <p className=\"text-3xl font-black text-orange-600\">â‚±{(Number(apiReport?.totals?.totalSales ?? fallback.totalSales) / Math.max(1, Number(apiReport?.totals?.totalOrders ?? fallback.totalOrders))).toFixed(2)}</p>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bg-slate-50 border border-slate-200 rounded-2xl p-6\">\r\n                <h4 className=\"font-black text-xs uppercase tracking-widest text-slate-400 mb-6 flex items-center gap-2\">\r\n                  <span className=\"w-2 h-2 rounded-full bg-primary animate-pulse\"></span>\r\n                  Sales Performance Trend\r\n                </h4>\r\n                <div className=\"space-y-5\">\r\n                  {[\r\n                    { label: \"Morning Rush (7am - 10am)\", value: 45, color: \"bg-blue-500\" },\r\n                    { label: \"Lunch Break (11am - 2pm)\", value: 85, color: \"bg-orange-500\" },\r\n                    { label: \"Afternoon Chill (3pm - 6pm)\", value: 65, color: \"bg-purple-500\" },\r\n                    { label: \"Evening Peak (7pm - 10pm)\", value: 92, color: \"bg-green-500\" },\r\n                  ].map((t) => (\r\n                    <div key={t.label} className=\"space-y-2\">\r\n                      <div className=\"flex justify-between text-[10px] font-bold text-slate-600 uppercase\">\r\n                        <span>{t.label}</span>\r\n                        <span>{t.value}% busy</span>\r\n                      </div>\r\n                      <div className=\"h-2 w-full bg-slate-200 rounded-full overflow-hidden shadow-inner\">\r\n                        <div className={`h-full ${t.color} transition-all duration-1000`} style={{ width: `${t.value}%` }}></div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"bg-white border border-slate-200 rounded-2xl p-6 shadow-sm flex flex-col\">\r\n              <h4 className=\"font-black text-xs uppercase tracking-widest text-slate-400 mb-6\">Popular Products Ranking</h4>\r\n              <div className=\"flex-1 space-y-4 overflow-y-auto pr-2\">\r\n                {(apiReport?.topProducts || []).map((p, idx) => (\r\n                  <div key={p.id} className=\"flex items-center gap-4 group\">\r\n                    <div className=\"w-8 h-8 rounded-lg bg-slate-50 flex items-center justify-center font-black text-xs text-slate-400 group-hover:bg-primary group-hover:text-white transition-all shadow-sm\">\r\n                      {idx + 1}\r\n                    </div>\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"flex justify-between items-end mb-1\">\r\n                        <span className=\"font-bold text-sm text-slate-700\">{p.name}</span>\r\n                        <span className=\"text-[10px] font-black text-primary uppercase\">â‚±{Number(p.revenue || 0).toFixed(0)}</span>\r\n                      </div>\r\n                      <div className=\"h-1.5 w-full bg-slate-100 rounded-full overflow-hidden\">\r\n                        <div\r\n                          className=\"h-full bg-primary/40 group-hover:bg-primary transition-all duration-700\"\r\n                          style={{ width: `${Math.min(100, (p.qty_sold / 20) * 100)}%` }}\r\n                        ></div>\r\n                      </div>\r\n                      <p className=\"text-[9px] text-slate-400 font-bold mt-1 uppercase tracking-tighter\">{p.qty_sold} Units Sold This period</p>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n                {(!apiReport?.topProducts || apiReport.topProducts.length === 0) && (\r\n                  <div className=\"h-full flex flex-col items-center justify-center text-slate-300 py-20\">\r\n                    <Package className=\"w-12 h-12 mb-3 opacity-20\" />\r\n                    <p className=\"text-xs font-black uppercase tracking-widest\">No Sales Data</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {reportType === \"inventory\" && (\r\n          <div className=\"grid grid-cols-2 gap-6\">\r\n            <div className=\"p-6 bg-blue-50 rounded-2xl border border-blue-100 shadow-sm\">\r\n              <p className=\"text-[10px] font-black text-blue-400 uppercase tracking-widest mb-1\">Total Catalog Items</p>\r\n              <p className=\"text-4xl font-black text-blue-600\">{apiReport?.topProducts?.length ?? 0}</p>\r\n            </div>\r\n            <div className=\"p-6 bg-green-50 rounded-2xl border border-green-100 shadow-sm\">\r\n              <p className=\"text-[10px] font-black text-green-400 uppercase tracking-widest mb-1\">Healthy Stock Level</p>\r\n              <p className=\"text-4xl font-black text-green-600\">80%</p>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {error && <p className=\"mt-6 p-4 bg-red-50 text-red-600 rounded-xl text-xs font-bold border border-red-100\">{error}</p>}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 7313, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Downloads/sodalicious/components/manager/dashboard.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport type { useProducts, useDatabaseOrders, useMenuSync } from \"@/lib/hooks\"\r\nimport { useMenuSync as useMenuSyncHook, useIngredients } from \"@/lib/hooks\"\r\nimport {\r\n  DollarSign, ShoppingBag, AlertTriangle, Package,\r\n  TrendingUp, Clock, CreditCard, ArrowUpRight,\r\n  ChevronRight,\r\n  Beer\r\n} from \"lucide-react\"\r\n\r\ninterface ManagerDashboardProps {\r\n  products: ReturnType<typeof useProducts>\r\n  orders: ReturnType<typeof useDatabaseOrders>\r\n  inventoryLogs: any\r\n}\r\n\r\nexport default function ManagerDashboard({ products, orders, inventoryLogs }: ManagerDashboardProps) {\r\n  const menuSync = useMenuSyncHook()\r\n  const { ingredients } = useIngredients()\r\n\r\n  // Calculate today's sales from database orders\r\n  const todaysSales = (orders.orders || [])\r\n    .filter((o) => {\r\n      const orderDate = new Date(o.created_at).toDateString()\r\n      const today = new Date().toDateString()\r\n      return orderDate === today\r\n    })\r\n    .reduce((sum, o) => sum + (Number(o.total_amount) || 0), 0)\r\n\r\n  const totalOrders = (orders.orders || []).filter((o) => {\r\n    const orderDate = new Date(o.created_at).toDateString()\r\n    const today = new Date().toDateString()\r\n    return orderDate === today\r\n  }).length\r\n\r\n  const lowStockMenu = menuSync.getLowStockItems()\r\n  const lowStockIngredients = (ingredients || []).filter(i => Number(i.stock_quantity) < 18 || Number(i.stock_quantity) <= Number(i.reorder_level))\r\n  const totalLowStock = lowStockMenu.length + lowStockIngredients.length\r\n\r\n  // Calculate Top Selling based on actual sales\r\n  const productSales = new Map<string, number>()\r\n\r\n  if (orders.orders) {\r\n    orders.orders.forEach((order: any) => {\r\n      if (order.items && Array.isArray(order.items)) {\r\n        order.items.forEach((item: any) => {\r\n          // Normalize name to handle variants if needed or just use product_id\r\n          const name = item.name || \"Unknown Product\"\r\n          const qty = Number(item.quantity) || 0\r\n          productSales.set(name, (productSales.get(name) || 0) + qty)\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  const topSelling = Array.from(productSales.entries())\r\n    .map(([name, count]) => {\r\n      // Find product details for image/stock info\r\n      const product = menuSync.menuItems.find(p => p.name === name) || { id: \"unknown\", name, stock: 0, sizes: [] }\r\n      return { ...product, salesCount: count }\r\n    })\r\n    .sort((a, b) => b.salesCount - a.salesCount)\r\n    .slice(0, 5)\r\n\r\n  return (\r\n    <div className=\"p-8 max-w-[1600px] mx-auto\">\r\n      <div className=\"flex justify-between items-center mb-8\">\r\n        <div>\r\n          <h2 className=\"text-3xl font-bold tracking-tight\">Dashboard Overview</h2>\r\n          <p className=\"text-muted-foreground mt-1\">Summary of today's performance</p>\r\n        </div>\r\n        <div className=\"px-4 py-2 bg-primary/10 text-primary font-bold rounded-lg flex items-center gap-2\">\r\n          <div className=\"w-2 h-2 rounded-full bg-green-500 animate-pulse\"></div>\r\n          Live Updates\r\n        </div>\r\n      </div>\r\n\r\n      {/* Stats Grid */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\r\n        <StatCard\r\n          label=\"Total Sales\"\r\n          value={`â‚±${Number(todaysSales || 0).toFixed(2)}`}\r\n          icon={<DollarSign className=\"w-6 h-6 text-blue-600\" />}\r\n          className=\"bg-blue-50 border-blue-100\"\r\n        />\r\n        <StatCard\r\n          label=\"Total Orders\"\r\n          value={totalOrders.toString()}\r\n          icon={<ShoppingBag className=\"w-6 h-6 text-green-600\" />}\r\n          className=\"bg-green-50 border-green-100\"\r\n        />\r\n        <StatCard\r\n          label=\"Low Stock Items\"\r\n          value={totalLowStock.toString()}\r\n          icon={<AlertTriangle className=\"w-6 h-6 text-yellow-600\" />}\r\n          className=\"bg-yellow-50 border-yellow-100\"\r\n        />\r\n        <StatCard\r\n          label=\"Total Products\"\r\n          value={menuSync.menuItems.length.toString()}\r\n          icon={<Package className=\"w-6 h-6 text-purple-600\" />}\r\n          className=\"bg-purple-50 border-purple-100\"\r\n        />\r\n      </div>\r\n\r\n      {/* Main Cards */}\r\n      <div className=\"grid grid-cols-2 gap-8\">\r\n        {/* Top Selling */}\r\n        <div className=\"bg-card border border-border rounded-xl p-6 shadow-sm\">\r\n          <h3 className=\"text-xl font-bold mb-6 flex items-center gap-2\">\r\n            <TrendingUp className=\"w-5 h-5 text-primary\" />\r\n            Top Selling Products\r\n          </h3>\r\n          <div className=\"space-y-4\">\r\n            {topSelling.map((item, idx) => (\r\n              <div\r\n                key={item.id}\r\n                className=\"flex justify-between items-center pb-4 border-b border-border last:border-b-0\"\r\n              >\r\n                <div className=\"flex items-center gap-4\">\r\n                  <div className=\"w-8 h-8 rounded-full bg-muted flex items-center justify-center font-bold text-muted-foreground\">\r\n                    #{idx + 1}\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"font-bold text-foreground\">{item.name}</p>\r\n                    <p className=\"text-xs text-muted-foreground mt-0.5\">Stock Remaining: {item.stock}</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"text-right\">\r\n                  <p className=\"text-sm font-bold text-primary\">{(item as any).salesCount} sold</p>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Recent Orders */}\r\n        <div className=\"bg-card border border-border rounded-xl p-6 shadow-sm\">\r\n          <h3 className=\"text-xl font-bold mb-6 flex items-center gap-2\">\r\n            <Clock className=\"w-5 h-5 text-primary\" />\r\n            Recent Orders\r\n          </h3>\r\n          <div className=\"space-y-4\">\r\n            {(orders.orders || []).slice(0, 3).map((order) => (\r\n              <div\r\n                key={order.id}\r\n                className=\"flex justify-between items-center pb-4 border-b border-border last:border-b-0 hover:bg-muted/50 transition-colors rounded-lg px-2 -mx-2\"\r\n              >\r\n                <div>\r\n                  <p className=\"font-bold text-foreground flex items-center gap-2\">\r\n                    {order.order_number}\r\n                    <span className=\"text-xs px-2 py-0.5 bg-green-100 text-green-700 rounded-full font-medium\">Completed</span>\r\n                  </p>\r\n                  <p className=\"text-xs text-muted-foreground mt-0.5\">{order.customer_name}</p>\r\n                </div>\r\n                <div className=\"text-right\">\r\n                  <p className=\"font-bold text-lg text-primary\">â‚±{Number(order.total_amount || 0).toFixed(2)}</p>\r\n                  <p className=\"text-xs text-muted-foreground capitalize\">{order.payment_method}</p>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Low Stock Alert */}\r\n        <div className=\"bg-card border border-border rounded-xl p-6 shadow-sm\">\r\n          <h3 className=\"text-xl font-bold mb-6 flex items-center gap-2\">\r\n            <AlertTriangle className=\"w-5 h-5 text-yellow-500\" />\r\n            Low Stock Alert\r\n          </h3>\r\n          {totalLowStock === 0 ? (\r\n            <div className=\"flex flex-col items-center justify-center py-12 text-muted-foreground opacity-50 bg-muted/20 rounded-xl border border-dashed\">\r\n              <Package className=\"w-12 h-12 mb-3\" />\r\n              <p className=\"font-bold\">All items are well-stocked</p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-4 max-h-[400px] overflow-y-auto pr-2\">\r\n              {/* Menu Items */}\r\n              {lowStockMenu.map((item) => (\r\n                <div key={`m-${item.id}`} className=\"p-4 bg-yellow-50/50 border border-yellow-200/50 rounded-xl flex justify-between items-center group hover:bg-yellow-50 transition-colors\">\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <div className=\"w-10 h-10 rounded-lg bg-orange-100 flex items-center justify-center text-orange-600 font-bold shrink-0 text-[10px]\">\r\n                      PROD\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"font-bold text-sm text-foreground\">{item.name}</p>\r\n                      <p className=\"text-[10px] text-muted-foreground mt-0.5 font-medium uppercase tracking-tighter\">Stock Level Low</p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"px-3 py-1.5 bg-white border border-yellow-200 rounded-lg text-xs font-black text-yellow-700 shadow-sm\">\r\n                    {item.stock} LEFT\r\n                  </div>\r\n                </div>\r\n              ))}\r\n\r\n              {/* Ingredients */}\r\n              {lowStockIngredients.map((item) => (\r\n                <div key={`i-${item.id}`} className=\"p-4 bg-red-50/50 border border-red-200/50 rounded-xl flex justify-between items-center group hover:bg-red-50 transition-colors\">\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <div className=\"w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center text-red-600 font-bold shrink-0 text-[10px]\">\r\n                      INGR\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"font-bold text-sm text-foreground\">{item.name}</p>\r\n                      <p className=\"text-[10px] text-muted-foreground mt-0.5 font-medium uppercase tracking-tighter\">Critical Resource</p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"px-3 py-1.5 bg-white border border-red-200 rounded-lg text-xs font-black text-red-700 shadow-sm animate-pulse\">\r\n                    {item.stock_quantity} {item.unit}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Sales Breakdown */}\r\n        <div className=\"bg-card border border-border rounded-xl p-6 shadow-sm\">\r\n          <h3 className=\"text-xl font-bold mb-6 flex items-center gap-2\">\r\n            <CreditCard className=\"w-5 h-5 text-primary\" />\r\n            Payment Methods\r\n          </h3>\r\n          <div className=\"space-y-3\">\r\n            {[\"Cash\", \"GCash\", \"Card\"].map((method) => {\r\n              const count = orders.orders.filter((o) => {\r\n                const pm = ((o as any).payment_method ?? (o as any).paymentMethod ?? \"\").toString().toLowerCase().replace(\"-\", \"\")\r\n                return pm === method.toLowerCase().replace(\"-\", \"\")\r\n              }).length\r\n              return (\r\n                <div key={method} className=\"flex justify-between items-center p-3 bg-muted/30 rounded-lg\">\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <div className=\"w-8 h-8 rounded-full bg-primary/5 flex items-center justify-center\">\r\n                      {method === \"Cash\" && <DollarSign className=\"w-4 h-4 text-primary\" />}\r\n                      {method === \"GCash\" && <CreditCard className=\"w-4 h-4 text-blue-500\" />}\r\n                      {method === \"Card\" && <CreditCard className=\"w-4 h-4 text-purple-500\" />}\r\n                    </div>\r\n                    <span className=\"font-bold text-foreground\">{method}</span>\r\n                  </div>\r\n                  <span className=\"font-medium text-muted-foreground\">{count} transactions</span>\r\n                </div>\r\n              )\r\n            })}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction StatCard({ label, value, icon, className }: { label: string; value: string; icon: any, className: string }) {\r\n  return (\r\n    <div className={`p-6 rounded-xl border flex items-start justify-between ${className}`}>\r\n      <div>\r\n        <p className=\"text-sm font-medium text-foreground/60\">{label}</p>\r\n        <p className=\"text-3xl font-black text-foreground mt-2 tracking-tight\">{value}</p>\r\n      </div>\r\n      <div className=\"p-3 bg-white/50 rounded-xl backdrop-blur-sm\">\r\n        {icon}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;AAJA;;;AAiBe,SAAS,iBAAiB,EAAE,QAAQ,EAAE,MAAM,EAAE,aAAa,EAAyB;;IACjG,MAAM,WAAW,IAAA,8HAAe;IAChC,MAAM,EAAE,WAAW,EAAE,GAAG,IAAA,iIAAc;IAEtC,+CAA+C;IAC/C,MAAM,cAAc,CAAC,OAAO,MAAM,IAAI,EAAE,EACrC,MAAM,CAAC,CAAC;QACP,MAAM,YAAY,IAAI,KAAK,EAAE,UAAU,EAAE,YAAY;QACrD,MAAM,QAAQ,IAAI,OAAO,YAAY;QACrC,OAAO,cAAc;IACvB,GACC,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,CAAC,OAAO,EAAE,YAAY,KAAK,CAAC,GAAG;IAE3D,MAAM,cAAc,CAAC,OAAO,MAAM,IAAI,EAAE,EAAE,MAAM,CAAC,CAAC;QAChD,MAAM,YAAY,IAAI,KAAK,EAAE,UAAU,EAAE,YAAY;QACrD,MAAM,QAAQ,IAAI,OAAO,YAAY;QACrC,OAAO,cAAc;IACvB,GAAG,MAAM;IAET,MAAM,eAAe,SAAS,gBAAgB;IAC9C,MAAM,sBAAsB,CAAC,eAAe,EAAE,EAAE,MAAM,CAAC,CAAA,IAAK,OAAO,EAAE,cAAc,IAAI,MAAM,OAAO,EAAE,cAAc,KAAK,OAAO,EAAE,aAAa;IAC/I,MAAM,gBAAgB,aAAa,MAAM,GAAG,oBAAoB,MAAM;IAEtE,8CAA8C;IAC9C,MAAM,eAAe,IAAI;IAEzB,IAAI,OAAO,MAAM,EAAE;QACjB,OAAO,MAAM,CAAC,OAAO,CAAC,CAAC;YACrB,IAAI,MAAM,KAAK,IAAI,MAAM,OAAO,CAAC,MAAM,KAAK,GAAG;gBAC7C,MAAM,KAAK,CAAC,OAAO,CAAC,CAAC;oBACnB,qEAAqE;oBACrE,MAAM,OAAO,KAAK,IAAI,IAAI;oBAC1B,MAAM,MAAM,OAAO,KAAK,QAAQ,KAAK;oBACrC,aAAa,GAAG,CAAC,MAAM,CAAC,aAAa,GAAG,CAAC,SAAS,CAAC,IAAI;gBACzD;YACF;QACF;IACF;IAEA,MAAM,aAAa,MAAM,IAAI,CAAC,aAAa,OAAO,IAC/C,GAAG,CAAC,CAAC,CAAC,MAAM,MAAM;QACjB,4CAA4C;QAC5C,MAAM,UAAU,SAAS,SAAS,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK,SAAS;YAAE,IAAI;YAAW;YAAM,OAAO;YAAG,OAAO,EAAE;QAAC;QAC5G,OAAO;YAAE,GAAG,OAAO;YAAE,YAAY;QAAM;IACzC,GACC,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,UAAU,GAAG,EAAE,UAAU,EAC1C,KAAK,CAAC,GAAG;IAEZ,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;;0CACC,6LAAC;gCAAG,WAAU;0CAAoC;;;;;;0CAClD,6LAAC;gCAAE,WAAU;0CAA6B;;;;;;;;;;;;kCAE5C,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;;;;;4BAAwD;;;;;;;;;;;;;0BAM3E,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBACC,OAAM;wBACN,OAAO,CAAC,CAAC,EAAE,OAAO,eAAe,GAAG,OAAO,CAAC,IAAI;wBAChD,oBAAM,6LAAC,mOAAU;4BAAC,WAAU;;;;;;wBAC5B,WAAU;;;;;;kCAEZ,6LAAC;wBACC,OAAM;wBACN,OAAO,YAAY,QAAQ;wBAC3B,oBAAM,6LAAC,sOAAW;4BAAC,WAAU;;;;;;wBAC7B,WAAU;;;;;;kCAEZ,6LAAC;wBACC,OAAM;wBACN,OAAO,cAAc,QAAQ;wBAC7B,oBAAM,6LAAC,4OAAa;4BAAC,WAAU;;;;;;wBAC/B,WAAU;;;;;;kCAEZ,6LAAC;wBACC,OAAM;wBACN,OAAO,SAAS,SAAS,CAAC,MAAM,CAAC,QAAQ;wBACzC,oBAAM,6LAAC,sNAAO;4BAAC,WAAU;;;;;;wBACzB,WAAU;;;;;;;;;;;;0BAKd,6LAAC;gBAAI,WAAU;;kCAEb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;;kDACZ,6LAAC,mOAAU;wCAAC,WAAU;;;;;;oCAAyB;;;;;;;0CAGjD,6LAAC;gCAAI,WAAU;0CACZ,WAAW,GAAG,CAAC,CAAC,MAAM,oBACrB,6LAAC;wCAEC,WAAU;;0DAEV,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;wDAAI,WAAU;;4DAAiG;4DAC5G,MAAM;;;;;;;kEAEV,6LAAC;;0EACC,6LAAC;gEAAE,WAAU;0EAA6B,KAAK,IAAI;;;;;;0EACnD,6LAAC;gEAAE,WAAU;;oEAAuC;oEAAkB,KAAK,KAAK;;;;;;;;;;;;;;;;;;;0DAGpF,6LAAC;gDAAI,WAAU;0DACb,cAAA,6LAAC;oDAAE,WAAU;;wDAAmC,KAAa,UAAU;wDAAC;;;;;;;;;;;;;uCAbrE,KAAK,EAAE;;;;;;;;;;;;;;;;kCAqBpB,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;;kDACZ,6LAAC,gNAAK;wCAAC,WAAU;;;;;;oCAAyB;;;;;;;0CAG5C,6LAAC;gCAAI,WAAU;0CACZ,CAAC,OAAO,MAAM,IAAI,EAAE,EAAE,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,sBACtC,6LAAC;wCAEC,WAAU;;0DAEV,6LAAC;;kEACC,6LAAC;wDAAE,WAAU;;4DACV,MAAM,YAAY;0EACnB,6LAAC;gEAAK,WAAU;0EAA2E;;;;;;;;;;;;kEAE7F,6LAAC;wDAAE,WAAU;kEAAwC,MAAM,aAAa;;;;;;;;;;;;0DAE1E,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;wDAAE,WAAU;;4DAAiC;4DAAE,OAAO,MAAM,YAAY,IAAI,GAAG,OAAO,CAAC;;;;;;;kEACxF,6LAAC;wDAAE,WAAU;kEAA4C,MAAM,cAAc;;;;;;;;;;;;;uCAZ1E,MAAM,EAAE;;;;;;;;;;;;;;;;kCAoBrB,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;;kDACZ,6LAAC,4OAAa;wCAAC,WAAU;;;;;;oCAA4B;;;;;;;4BAGtD,kBAAkB,kBACjB,6LAAC;gCAAI,WAAU;;kDACb,6LAAC,sNAAO;wCAAC,WAAU;;;;;;kDACnB,6LAAC;wCAAE,WAAU;kDAAY;;;;;;;;;;;qDAG3B,6LAAC;gCAAI,WAAU;;oCAEZ,aAAa,GAAG,CAAC,CAAC,qBACjB,6LAAC;4CAAyB,WAAU;;8DAClC,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAI,WAAU;sEAAqH;;;;;;sEAGpI,6LAAC;;8EACC,6LAAC;oEAAE,WAAU;8EAAqC,KAAK,IAAI;;;;;;8EAC3D,6LAAC;oEAAE,WAAU;8EAAkF;;;;;;;;;;;;;;;;;;8DAGnG,6LAAC;oDAAI,WAAU;;wDACZ,KAAK,KAAK;wDAAC;;;;;;;;2CAXN,CAAC,EAAE,EAAE,KAAK,EAAE,EAAE;;;;;oCAiBzB,oBAAoB,GAAG,CAAC,CAAC,qBACxB,6LAAC;4CAAyB,WAAU;;8DAClC,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAI,WAAU;sEAA+G;;;;;;sEAG9H,6LAAC;;8EACC,6LAAC;oEAAE,WAAU;8EAAqC,KAAK,IAAI;;;;;;8EAC3D,6LAAC;oEAAE,WAAU;8EAAkF;;;;;;;;;;;;;;;;;;8DAGnG,6LAAC;oDAAI,WAAU;;wDACZ,KAAK,cAAc;wDAAC;wDAAE,KAAK,IAAI;;;;;;;;2CAX1B,CAAC,EAAE,EAAE,KAAK,EAAE,EAAE;;;;;;;;;;;;;;;;;kCAoBhC,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;;kDACZ,6LAAC,mOAAU;wCAAC,WAAU;;;;;;oCAAyB;;;;;;;0CAGjD,6LAAC;gCAAI,WAAU;0CACZ;oCAAC;oCAAQ;oCAAS;iCAAO,CAAC,GAAG,CAAC,CAAC;oCAC9B,MAAM,QAAQ,OAAO,MAAM,CAAC,MAAM,CAAC,CAAC;wCAClC,MAAM,KAAK,CAAC,AAAC,EAAU,cAAc,IAAI,AAAC,EAAU,aAAa,IAAI,EAAE,EAAE,QAAQ,GAAG,WAAW,GAAG,OAAO,CAAC,KAAK;wCAC/G,OAAO,OAAO,OAAO,WAAW,GAAG,OAAO,CAAC,KAAK;oCAClD,GAAG,MAAM;oCACT,qBACE,6LAAC;wCAAiB,WAAU;;0DAC1B,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;wDAAI,WAAU;;4DACZ,WAAW,wBAAU,6LAAC,mOAAU;gEAAC,WAAU;;;;;;4DAC3C,WAAW,yBAAW,6LAAC,mOAAU;gEAAC,WAAU;;;;;;4DAC5C,WAAW,wBAAU,6LAAC,mOAAU;gEAAC,WAAU;;;;;;;;;;;;kEAE9C,6LAAC;wDAAK,WAAU;kEAA6B;;;;;;;;;;;;0DAE/C,6LAAC;gDAAK,WAAU;;oDAAqC;oDAAM;;;;;;;;uCATnD;;;;;gCAYd;;;;;;;;;;;;;;;;;;;;;;;;AAMZ;GAvOwB;;QACL,8HAAe;QACR,iIAAc;;;KAFhB;AAyOxB,SAAS,SAAS,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,SAAS,EAAkE;IACjH,qBACE,6LAAC;QAAI,WAAW,CAAC,uDAAuD,EAAE,WAAW;;0BACnF,6LAAC;;kCACC,6LAAC;wBAAE,WAAU;kCAA0C;;;;;;kCACvD,6LAAC;wBAAE,WAAU;kCAA2D;;;;;;;;;;;;0BAE1E,6LAAC;gBAAI,WAAU;0BACZ;;;;;;;;;;;;AAIT;MAZS","debugId":null}},
    {"offset": {"line": 8081, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Downloads/sodalicious/components/manager-dashboard.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { useProducts, useDatabaseOrders, useUsers, useInventoryLogs, useActivityLogs } from \"@/lib/hooks\"\r\nimport ProductManagement from \"./manager/product-management\"\r\nimport InventoryManagement from \"./manager/inventory-management\"\r\nimport OrderManagement from \"./manager/order-management\"\r\nimport UserManagement from \"./manager/user-management\"\r\nimport Reports from \"./manager/reports\"\r\nimport Dashboard from \"./manager/dashboard\"\r\nimport {\r\n  LayoutDashboard, Package, ClipboardList, ShoppingBag,\r\n  BarChart3, Users, ScrollText, LogOut, CupSoda\r\n} from \"lucide-react\"\r\n\r\ninterface ManagerPanelProps {\r\n  onLogout: () => void\r\n  currentUser?: any\r\n}\r\n\r\nexport default function ManagerPanel({ onLogout, currentUser }: ManagerPanelProps) {\r\n  const [activeTab, setActiveTab] = useState<\r\n    \"dashboard\" | \"products\" | \"inventory\" | \"orders\" | \"reports\" | \"users\" | \"logs\"\r\n  >(\"dashboard\")\r\n  const products = useProducts()\r\n  const orders = useDatabaseOrders()\r\n  const users = useUsers()\r\n  const inventoryLogs = useInventoryLogs()\r\n  const activityLogs = useActivityLogs()\r\n\r\n  const navItems = [\r\n    { id: \"dashboard\", label: \"Dashboard\", icon: <LayoutDashboard className=\"w-5 h-5\" /> },\r\n    { id: \"products\", label: \"Products\", icon: <Package className=\"w-5 h-5\" /> },\r\n    { id: \"inventory\", label: \"Inventory\", icon: <ClipboardList className=\"w-5 h-5\" /> },\r\n    { id: \"orders\", label: \"Orders\", icon: <ShoppingBag className=\"w-5 h-5\" /> },\r\n    { id: \"reports\", label: \"Reports\", icon: <BarChart3 className=\"w-5 h-5\" /> },\r\n    { id: \"users\", label: \"Users\", icon: <Users className=\"w-5 h-5\" /> },\r\n    { id: \"logs\", label: \"Activity Logs\", icon: <ScrollText className=\"w-5 h-5\" /> },\r\n  ]\r\n\r\n  return (\r\n    <div className=\"flex h-screen bg-background\">\r\n      <div className=\"w-64 bg-card border-r border-border flex flex-col shadow-xl z-20\">\r\n        <div className=\"p-6 border-b border-border bg-primary/5 flex items-center gap-3\">\r\n          <div className=\"p-2 bg-primary/10 rounded-lg text-primary\">\r\n            <CupSoda className=\"w-6 h-6\" />\r\n          </div>\r\n          <div>\r\n            <h1 className=\"text-xl font-bold text-foreground tracking-tight\">Sodalicious</h1>\r\n            <p className=\"text-xs text-muted-foreground font-medium\">Manager Portal</p>\r\n          </div>\r\n        </div>\r\n        <nav className=\"flex-1 p-4 space-y-1 overflow-y-auto\">\r\n          {navItems.map((tab) => (\r\n            <button\r\n              key={tab.id}\r\n              onClick={() => setActiveTab(tab.id as any)}\r\n              className={`w-full text-left px-4 py-3 rounded-xl transition-all font-medium flex items-center gap-3 ${activeTab === tab.id\r\n                ? \"bg-primary text-primary-foreground shadow-lg shadow-primary/20 scale-[1.02]\"\r\n                : \"text-muted-foreground hover:bg-muted hover:text-foreground\"\r\n                }`}\r\n            >\r\n              {tab.icon}\r\n              {tab.label}\r\n            </button>\r\n          ))}\r\n        </nav>\r\n        <div className=\"p-4 border-t border-border\">\r\n          <button\r\n            onClick={onLogout}\r\n            className=\"w-full px-4 py-3 bg-destructive/10 text-destructive hover:bg-destructive hover:text-destructive-foreground rounded-xl font-semibold transition-all flex items-center justify-center gap-2\"\r\n          >\r\n            <LogOut className=\"w-5 h-5\" />\r\n            Logout\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"flex-1 overflow-auto bg-background\">\r\n        {activeTab === \"dashboard\" && <Dashboard products={products} orders={orders} inventoryLogs={inventoryLogs} />}\r\n        {activeTab === \"products\" && <ProductManagement products={products} />}\r\n        {activeTab === \"inventory\" && <InventoryManagement products={products} inventoryLogs={inventoryLogs} />}\r\n        {activeTab === \"orders\" && <OrderManagement orders={orders} />}\r\n        {activeTab === \"reports\" && <Reports />}\r\n        {activeTab === \"users\" && <UserManagement users={users} />}\r\n        {activeTab === \"logs\" && <ActivityLogs logs={activityLogs.logs} />}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction ActivityLogs({ logs }: { logs: any[] }) {\r\n  if (!logs || logs.length === 0) {\r\n    return (\r\n      <div className=\"p-8 max-w-[1600px] mx-auto flex flex-col items-center justify-center min-h-[400px] text-center\">\r\n        <div className=\"w-20 h-20 bg-muted rounded-full flex items-center justify-center mb-4\">\r\n          <ScrollText className=\"w-10 h-10 text-muted-foreground\" />\r\n        </div>\r\n        <h3 className=\"text-xl font-bold\">No activity logs found</h3>\r\n        <p className=\"text-muted-foreground mt-2\">Actions like new orders and inventory changes will appear here.</p>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-8 max-w-[1600px] mx-auto\">\r\n      <div className=\"flex justify-between items-center mb-8\">\r\n        <h2 className=\"text-3xl font-bold text-foreground flex items-center gap-3\">\r\n          <ScrollText className=\"w-8 h-8 text-primary\" />\r\n          Activity Logs\r\n        </h2>\r\n        <div className=\"px-4 py-2 bg-primary/10 text-primary rounded-lg text-xs font-bold animate-pulse\">\r\n          Monitoring Live Events\r\n        </div>\r\n      </div>\r\n      <div className=\"bg-card border border-border rounded-xl overflow-hidden shadow-xl\">\r\n        <table className=\"w-full\">\r\n          <thead className=\"bg-muted/50 border-b border-border\">\r\n            <tr>\r\n              <th className=\"px-6 py-4 text-left font-bold text-muted-foreground text-xs uppercase tracking-widest\">Type</th>\r\n              <th className=\"px-6 py-4 text-left font-bold text-muted-foreground text-xs uppercase tracking-widest\">Action</th>\r\n              <th className=\"px-6 py-4 text-left font-bold text-muted-foreground text-xs uppercase tracking-widest\">Details</th>\r\n              <th className=\"px-6 py-4 text-left font-bold text-muted-foreground text-xs uppercase tracking-widest\">User</th>\r\n              <th className=\"px-6 py-4 text-left font-bold text-muted-foreground text-xs uppercase tracking-widest\">Timestamp</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody className=\"divide-y divide-border\">\r\n            {logs.map((log) => (\r\n              <tr key={log.id} className=\"hover:bg-muted/50 transition-colors\">\r\n                <td className=\"px-6 py-4 font-semibold text-foreground capitalize\">\r\n                  <span className=\"px-2 py-1 bg-primary/10 text-primary rounded-md text-[10px] font-black uppercase\">\r\n                    {log.entity_type || \"Event\"}\r\n                  </span>\r\n                </td>\r\n                <td className=\"px-6 py-4 text-foreground font-bold text-sm\">{log.action_type?.replace('_', ' ') || log.action}</td>\r\n                <td className=\"px-6 py-4 text-muted-foreground text-xs font-mono max-w-md truncate\">\r\n                  {typeof log.details === 'string' ? log.details : JSON.stringify(log.details)}\r\n                </td>\r\n                <td className=\"px-6 py-4 text-foreground font-medium text-sm\">{log.user_name || \"System\"}</td>\r\n                <td className=\"px-6 py-4 text-muted-foreground text-sm font-medium\">\r\n                  {log.created_at ? new Date(log.created_at).toLocaleString() : \"Just now\"}\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 8612, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Downloads/sodalicious/components/inventory-panel.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { useProducts, useInventoryLogs, useMenuSync, useIngredients } from \"@/lib/hooks\"\r\nimport { updateProductStock } from \"@/lib/menu-data\"\r\n\r\ninterface InventoryPanelProps {\r\n  onLogout: () => void\r\n  currentUser?: any\r\n}\r\n\r\nexport default function InventoryPanel({ onLogout, currentUser }: InventoryPanelProps) {\r\n  const products = useProducts()\r\n  const inventoryLogs = useInventoryLogs()\r\n  const menuSync = useMenuSync()\r\n  const [activeTab, setActiveTab] = useState<\"inventory\" | \"logs\">(\"inventory\")\r\n\r\n  return (\r\n    <div className=\"flex h-screen bg-background\">\r\n      <div className=\"w-64 bg-sidebar border-r border-sidebar-border flex flex-col shadow-lg\">\r\n        <div className=\"p-6 border-b border-sidebar-border bg-sidebar-primary/10\">\r\n          <h1 className=\"text-2xl font-bold text-sidebar-foreground tracking-tight\">Sodalicious</h1>\r\n          <p className=\"text-sm text-sidebar-foreground/70 font-medium\">Inventory Officer</p>\r\n        </div>\r\n        <nav className=\"flex-1 p-4 space-y-1\">\r\n          {[\r\n            { id: \"inventory\", label: \"Stock Management\", icon: \"ðŸ“¦\" },\r\n            { id: \"logs\", label: \"Stock History\", icon: \"ðŸ“‹\" },\r\n          ].map((tab) => (\r\n            <button\r\n              key={tab.id}\r\n              onClick={() => setActiveTab(tab.id as any)}\r\n              className={`w-full text-left px-4 py-3 rounded-lg transition-all font-semibold flex items-center gap-3 ${activeTab === tab.id\r\n                ? \"bg-sidebar-primary text-sidebar-primary-foreground shadow-md\"\r\n                : \"text-sidebar-foreground hover:bg-sidebar-accent\"\r\n                }`}\r\n            >\r\n              <span className=\"text-lg\">{tab.icon}</span>\r\n              {tab.label}\r\n            </button>\r\n          ))}\r\n        </nav>\r\n        <button\r\n          onClick={onLogout}\r\n          className=\"m-4 px-4 py-3 bg-destructive text-destructive-foreground rounded-lg hover:bg-destructive/90 font-semibold transition-all shadow-md\"\r\n        >\r\n          Logout\r\n        </button>\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"flex-1 overflow-auto\">\r\n        {activeTab === \"inventory\" && <InventoryView menuSync={menuSync} inventoryLogs={inventoryLogs} currentUser={currentUser} />}\r\n        {activeTab === \"logs\" && <StockHistoryView inventoryLogs={inventoryLogs} />}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction InventoryView({\r\n  menuSync,\r\n  inventoryLogs,\r\n  currentUser,\r\n}: { menuSync: ReturnType<typeof useMenuSync>; inventoryLogs: ReturnType<typeof useInventoryLogs>; currentUser?: any }) {\r\n  const { ingredients, refetch } = useIngredients()\r\n  const [adjustingId, setAdjustingId] = useState<number | null>(null)\r\n  const [adjustmentData, setAdjustmentData] = useState({ quantity: 0, type: \"restock\", reason: \"\" })\r\n\r\n  const lowStockItems = ingredients.filter((item) => item.stock_quantity <= item.reorder_level)\r\n\r\n  const handleAdjustment = async () => {\r\n    if (adjustingId) {\r\n      const item = ingredients.find((i) => i.id === adjustingId)\r\n      if (item) {\r\n        const change = adjustmentData.type === \"restock\" ? adjustmentData.quantity : -adjustmentData.quantity\r\n\r\n        // Call API to update SQL and log the inventory change\r\n        try {\r\n          const response = await fetch(\"/api/inventory\", {\r\n            method: \"POST\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify({\r\n              ingredient_id: item.id,\r\n              user_id: currentUser?.id || 1,\r\n              log_type: adjustmentData.type,\r\n              quantity_changed: change,\r\n              reason: adjustmentData.reason,\r\n            }),\r\n          })\r\n\r\n          if (response.ok) {\r\n            console.log(\"[Inventory] API sync successful\")\r\n            refetch()\r\n            inventoryLogs.refetch()\r\n          } else {\r\n            console.error(\"[Inventory] API sync failed:\", await response.text())\r\n          }\r\n        } catch (e) {\r\n          console.error(\"[Inventory] API error:\", e)\r\n        }\r\n\r\n        setAdjustingId(null)\r\n        setAdjustmentData({ quantity: 0, type: \"restock\", reason: \"\" })\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-8\">\r\n      <h2 className=\"text-3xl font-bold mb-8 text-foreground\">Ingredient Stock Management</h2>\r\n\r\n      {lowStockItems.length > 0 && (\r\n        <div className=\"bg-yellow-50 border border-yellow-200 rounded-xl p-5 mb-8\">\r\n          <p className=\"text-sm font-bold text-yellow-800\">âš  Low Stock Ingredients: {lowStockItems.length}</p>\r\n          <div className=\"mt-3 grid grid-cols-1 md:grid-cols-3 gap-3\">\r\n            {lowStockItems.map((item) => (\r\n              <p key={item.id} className=\"text-sm text-yellow-700 font-medium\">\r\n                {item.name} ({item.stock_quantity} {item.unit})\r\n              </p>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {adjustingId && (\r\n        <div className=\"bg-card border border-border rounded-xl p-6 mb-8 shadow-lg\">\r\n          <h3 className=\"text-xl font-bold mb-4 text-foreground\">Adjust Stock</h3>\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <select\r\n              value={adjustmentData.type}\r\n              onChange={(e) => setAdjustmentData({ ...adjustmentData, type: e.target.value })}\r\n              className=\"px-4 py-2 border border-border rounded-lg bg-card text-foreground focus:outline-none focus:ring-2 focus:ring-primary\"\r\n            >\r\n              <option value=\"restock\">Restock</option>\r\n              <option value=\"damage\">Damage</option>\r\n              <option value=\"waste\">Waste</option>\r\n            </select>\r\n            <input\r\n              type=\"number\"\r\n              placeholder=\"Quantity\"\r\n              value={adjustmentData.quantity}\r\n              onChange={(e) => setAdjustmentData({ ...adjustmentData, quantity: Number.parseInt(e.target.value) })}\r\n              className=\"px-4 py-2 border border-border rounded-lg bg-card text-foreground focus:outline-none focus:ring-2 focus:ring-primary\"\r\n            />\r\n            <textarea\r\n              placeholder=\"Reason\"\r\n              value={adjustmentData.reason}\r\n              onChange={(e) => setAdjustmentData({ ...adjustmentData, reason: e.target.value })}\r\n              className=\"px-4 py-2 border border-border rounded-lg bg-card text-foreground col-span-2 focus:outline-none focus:ring-2 focus:ring-primary\"\r\n            />\r\n          </div>\r\n          <div className=\"space-x-2 mt-4\">\r\n            <button\r\n              onClick={handleAdjustment}\r\n              className=\"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 font-semibold transition-all\"\r\n            >\r\n              Apply\r\n            </button>\r\n            <button\r\n              onClick={() => setAdjustingId(null)}\r\n              className=\"px-4 py-2 border border-border rounded-lg hover:bg-muted font-semibold transition-all text-foreground\"\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"bg-card border border-border rounded-xl overflow-hidden shadow-lg\">\r\n        <table className=\"w-full\">\r\n          <thead className=\"bg-primary/5 border-b border-border\">\r\n            <tr>\r\n              <th className=\"px-6 py-4 text-left font-bold text-foreground\">Ingredient</th>\r\n              <th className=\"px-6 py-4 text-left font-bold text-foreground\">Unit</th>\r\n              <th className=\"px-6 py-4 text-left font-bold text-foreground\">Stock</th>\r\n              <th className=\"px-6 py-4 text-left font-bold text-foreground\">Reorder Level</th>\r\n              <th className=\"px-6 py-4 text-left font-bold text-foreground\">Status</th>\r\n              <th className=\"px-6 py-4 text-left font-bold text-foreground\">Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody className=\"divide-y divide-border\">\r\n            {ingredients.map((item) => (\r\n              <tr key={item.id} className=\"hover:bg-primary/5 transition-colors\">\r\n                <td className=\"px-6 py-4 font-medium text-foreground\">{item.name}</td>\r\n                <td className=\"px-6 py-4 text-foreground\">{item.unit}</td>\r\n                <td className=\"px-6 py-4 text-foreground\">{item.stock_quantity}</td>\r\n                <td className=\"px-6 py-4 text-foreground\">{item.reorder_level}</td>\r\n                <td className=\"px-6 py-4\">\r\n                  <span\r\n                    className={`px-3 py-1 rounded-lg text-sm font-bold ${item.stock_quantity <= item.reorder_level\r\n                      ? \"bg-yellow-100 text-yellow-700 border border-yellow-200\"\r\n                      : \"bg-green-100 text-green-700 border border-green-200\"\r\n                      }`}\r\n                  >\r\n                    {item.stock_quantity <= item.reorder_level ? \"Low\" : \"OK\"}\r\n                  </span>\r\n                </td>\r\n                <td className=\"px-6 py-4\">\r\n                  <button\r\n                    onClick={() => setAdjustingId(item.id)}\r\n                    className=\"px-3 py-1 bg-primary/10 text-primary rounded-lg text-sm hover:bg-primary/20 font-semibold transition-colors border border-primary/20\"\r\n                  >\r\n                    Adjust\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction StockHistoryView({ inventoryLogs }: { inventoryLogs: ReturnType<typeof useInventoryLogs> }) {\r\n  return (\r\n    <div className=\"p-8\">\r\n      <h2 className=\"text-3xl font-bold mb-8 text-foreground\">Stock History</h2>\r\n      <div className=\"bg-card border border-border rounded-xl overflow-hidden shadow-lg\">\r\n        <table className=\"w-full\">\r\n          <thead className=\"bg-primary/5 border-b border-border\">\r\n            <tr>\r\n              <th className=\"px-6 py-4 text-left font-bold text-foreground\">Product</th>\r\n              <th className=\"px-6 py-4 text-left font-bold text-foreground\">Type</th>\r\n              <th className=\"px-6 py-4 text-left font-bold text-foreground\">Quantity</th>\r\n              <th className=\"px-6 py-4 text-left font-bold text-foreground\">Reason</th>\r\n              <th className=\"px-6 py-4 text-left font-bold text-foreground\">Officer</th>\r\n              <th className=\"px-6 py-4 text-left font-bold text-foreground\">Timestamp</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody className=\"divide-y divide-border\">\r\n            {inventoryLogs.logs.map((log: any) => (\r\n              <tr key={log.id} className=\"hover:bg-primary/5 transition-colors\">\r\n                <td className=\"px-6 py-4 text-foreground\">{log.ingredient_name || log.productName || \"Unknown\"}</td>\r\n                <td className=\"px-6 py-4 capitalize font-semibold text-foreground\">{log.log_type || log.type}</td>\r\n                <td className=\"px-6 py-4 font-bold text-foreground\">{log.quantity_changed || log.quantity}</td>\r\n                <td className=\"px-6 py-4 text-foreground\">{log.reason || \"-\"}</td>\r\n                <td className=\"px-6 py-4 text-foreground\">{log.user_name || log.userName}</td>\r\n                <td className=\"px-6 py-4 text-muted-foreground text-sm\">\r\n                  {log.created_at ? new Date(log.created_at).toLocaleString() : log.timestamp}\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 9318, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Downloads/sodalicious/app/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport CashierPanel from \"@/components/cashier-panel\"\r\nimport LoginPanel from \"@/components/login-panel\"\r\nimport ManagerDashboard from \"@/components/manager-dashboard\"\r\nimport InventoryPanel from \"@/components/inventory-panel\"\r\n\r\nexport default function Home() {\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false)\r\n  const [userRole, setUserRole] = useState<\"cashier\" | \"manager\" | \"inventory\">(\"cashier\")\r\n  const [currentUser, setCurrentUser] = useState<any>(null)\r\n\r\n  const handleLogin = (role: \"cashier\" | \"manager\" | \"inventory\" | string, user: any) => {\r\n    setUserRole(role as \"cashier\" | \"manager\" | \"inventory\")\r\n    setCurrentUser(user)\r\n    setIsLoggedIn(true)\r\n  }\r\n\r\n  const handleLogout = () => {\r\n    if (currentUser?.id) {\r\n      fetch(\"/api/auth/logout\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ user_id: currentUser.id })\r\n      }).catch(console.error)\r\n    }\r\n    setIsLoggedIn(false)\r\n    setCurrentUser(null)\r\n  }\r\n\r\n  if (!isLoggedIn) {\r\n    return <LoginPanel onLogin={handleLogin} />\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-background\">\r\n      {userRole === \"cashier\" && <CashierPanel onLogout={handleLogout} currentUser={currentUser} />}\r\n      {userRole === \"manager\" && <ManagerDashboard onLogout={handleLogout} currentUser={currentUser} />}\r\n      {userRole === \"inventory\" && <InventoryPanel onLogout={handleLogout} currentUser={currentUser} />}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;;;AANA;;;;;;AAQe,SAAS;;IACtB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAC7C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAsC;IAC9E,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAM;IAEpD,MAAM,cAAc,CAAC,MAAoD;QACvE,YAAY;QACZ,eAAe;QACf,cAAc;IAChB;IAEA,MAAM,eAAe;QACnB,IAAI,aAAa,IAAI;YACnB,MAAM,oBAAoB;gBACxB,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE,SAAS,YAAY,EAAE;gBAAC;YACjD,GAAG,KAAK,CAAC,QAAQ,KAAK;QACxB;QACA,cAAc;QACd,eAAe;IACjB;IAEA,IAAI,CAAC,YAAY;QACf,qBAAO,6LAAC,2IAAU;YAAC,SAAS;;;;;;IAC9B;IAEA,qBACE,6LAAC;QAAI,WAAU;;YACZ,aAAa,2BAAa,6LAAC,6IAAY;gBAAC,UAAU;gBAAc,aAAa;;;;;;YAC7E,aAAa,2BAAa,6LAAC,iJAAgB;gBAAC,UAAU;gBAAc,aAAa;;;;;;YACjF,aAAa,6BAAe,6LAAC,+IAAc;gBAAC,UAAU;gBAAc,aAAa;;;;;;;;;;;;AAGxF;GAlCwB;KAAA","debugId":null}}]
}