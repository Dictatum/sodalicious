[00:00:00.935] Server  LOG      ✓ Ready in 609ms
[00:00:02.226] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:00:02.229] Server  LOG     [DB] Values: [50]
[00:00:02.240] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:00:02.241] Server  LOG     [DB] Values: ["2,1"]
[00:00:02.242] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:00:02.243] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:00:02.245] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:00:03.984] Server  LOG      ○ Compiling /api/orders ...
[00:00:06.300] Browser INFO    %cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools font-weight:bold
[00:00:06.611] Browser LOG     %c[Vercel Web Analytics]%c Debug mode is enabled by default in development. No requests will be sent to the server. color: rgb(120, 120, 120) color: inherit
[00:00:06.611] Browser LOG     %c[Vercel Web Analytics]%c Running queued event color: rgb(120, 120, 120) color: inherit pageview {"path":"/","route":"/"}
[00:00:06.611] Browser LOG     %c[Vercel Web Analytics]%c [pageview] http://localhost:3000/ color: rgb(120, 120, 120) color: inherit {"dp":"/","o":"http://localhost:3000/","sdkn":"@vercel/analytics/next","sdkv":"1.5.0","sv":"0.1.3","ts":1767352179986}
[00:00:21.231] Browser INFO    %cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools font-weight:bold
[00:00:21.352] Browser LOG     %c[Vercel Web Analytics]%c Debug mode is enabled by default in development. No requests will be sent to the server. color: rgb(120, 120, 120) color: inherit
[00:00:21.352] Browser LOG     %c[Vercel Web Analytics]%c Running queued event color: rgb(120, 120, 120) color: inherit pageview {"path":"/","route":"/"}
[00:00:21.352] Browser LOG     %c[Vercel Web Analytics]%c [pageview] http://localhost:3000/ color: rgb(120, 120, 120) color: inherit {"dp":"/","o":"http://localhost:3000/","sdkn":"@vercel/analytics/next","sdkv":"1.5.0","sv":"0.1.3","ts":1767352194861}
[00:00:21.626] Browser INFO    %cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools font-weight:bold
[00:00:21.751] Browser LOG     %c[Vercel Web Analytics]%c Debug mode is enabled by default in development. No requests will be sent to the server. color: rgb(120, 120, 120) color: inherit
[00:00:21.751] Browser LOG     %c[Vercel Web Analytics]%c Running queued event color: rgb(120, 120, 120) color: inherit pageview {"path":"/","route":"/"}
[00:00:21.751] Browser LOG     %c[Vercel Web Analytics]%c [pageview] http://localhost:3000/ color: rgb(120, 120, 120) color: inherit {"dp":"/","o":"http://localhost:3000/","sdkn":"@vercel/analytics/next","sdkv":"1.5.0","sv":"0.1.3","ts":1767352195259}
[00:00:22.061] Browser INFO    %cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools font-weight:bold
[00:00:22.188] Browser LOG     %c[Vercel Web Analytics]%c Debug mode is enabled by default in development. No requests will be sent to the server. color: rgb(120, 120, 120) color: inherit
[00:00:22.188] Browser LOG     %c[Vercel Web Analytics]%c Running queued event color: rgb(120, 120, 120) color: inherit pageview {"path":"/","route":"/"}
[00:00:22.188] Browser LOG     %c[Vercel Web Analytics]%c [pageview] http://localhost:3000/ color: rgb(120, 120, 120) color: inherit {"dp":"/","o":"http://localhost:3000/","sdkn":"@vercel/analytics/next","sdkv":"1.5.0","sv":"0.1.3","ts":1767352195692}
[00:00:22.362] Browser INFO    %cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools font-weight:bold
[00:00:22.396] Browser LOG     %c[Vercel Web Analytics]%c Debug mode is enabled by default in development. No requests will be sent to the server. color: rgb(120, 120, 120) color: inherit
[00:00:22.396] Browser LOG     %c[Vercel Web Analytics]%c Running queued event color: rgb(120, 120, 120) color: inherit pageview {"path":"/","route":"/"}
[00:00:22.396] Browser LOG     %c[Vercel Web Analytics]%c [pageview] http://localhost:3000/ color: rgb(120, 120, 120) color: inherit {"dp":"/","o":"http://localhost:3000/","sdkn":"@vercel/analytics/next","sdkv":"1.5.0","sv":"0.1.3","ts":1767352195988}
[00:00:22.530] Browser INFO    %cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools font-weight:bold
[00:00:22.654] Browser LOG     %c[Vercel Web Analytics]%c Debug mode is enabled by default in development. No requests will be sent to the server. color: rgb(120, 120, 120) color: inherit
[00:00:22.654] Browser LOG     %c[Vercel Web Analytics]%c Running queued event color: rgb(120, 120, 120) color: inherit pageview {"path":"/","route":"/"}
[00:00:22.654] Browser LOG     %c[Vercel Web Analytics]%c [pageview] http://localhost:3000/ color: rgb(120, 120, 120) color: inherit {"dp":"/","o":"http://localhost:3000/","sdkn":"@vercel/analytics/next","sdkv":"1.5.0","sv":"0.1.3","ts":1767352196162}
[00:00:24.581] Server  LOG     [DB] Query: SELECT id, email, name, role, is_active FROM users WHERE email = ?
[00:00:24.582] Server  LOG     [DB] Values: ["cashier@sodalicious.com"]
[00:00:24.583] Server  LOG     [DB] Query: INSERT INTO activity_logs (user_id, action, action_type, entity_type, entity_id, details) VALUES (?, 'Logged in', 'login', 'User', ?, 'User logged into the system')
[00:00:24.583] Server  LOG     [DB] Values: [1,1]
[00:00:24.743] Server  ERROR   [DB ERROR] Query failed: Error: CONSTRAINT `activity_logs.details` failed for `sodalicious_db`.`activity_logs`
[00:00:24.811] Server  ERROR   Failed to log login activity Error: CONSTRAINT `activity_logs.details` failed for `sodalicious_db`.`activity_logs`
[00:00:24.906] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:00:24.915] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:00:24.927] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:00:24.930] Server  LOG     [DB] Values: [50]
[00:00:24.941] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:00:24.942] Server  LOG     [DB] Values: ["2,1"]
[00:00:24.958] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:00:24.958] Server  LOG     [DB] Values: [50]
[00:00:24.961] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:00:24.962] Server  LOG     [DB] Values: ["2,1"]
[00:00:26.909] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:00:26.910] Server  LOG     [DB] Values: [50]
[00:00:26.911] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:00:26.911] Server  LOG     [DB] Values: ["2,1"]
[00:00:28.911] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:00:28.911] Server  LOG     [DB] Values: [50]
[00:00:28.913] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:00:28.913] Server  LOG     [DB] Values: ["2,1"]
[00:00:29.905] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:00:30.213] Server  LOG     [Order API] Incoming POST request
[00:00:30.214] Server  LOG     [Order API] Processing order with 1 items
[00:00:30.215] Server  LOG     [DB] Query: SELECT id FROM users WHERE role = 'cashier' LIMIT 1
[00:00:30.216] Server  LOG     [Order API] Using Cashier ID: 1
[00:00:30.216] Server  LOG     [DB] Query: INSERT INTO orders (order_number, cashier_id, customer_name, total_amount, payment_method, order_status) VALUES (?, ?, ?, ?, ?, 'completed')
[00:00:30.217] Server  LOG     [DB] Values: ["ORD-1767352203822",1,"Walk-in",59.4,"cash"]
[00:00:30.218] Server  LOG     [DB] Query: SELECT id FROM orders WHERE order_number = ? LIMIT 1
[00:00:30.219] Server  LOG     [DB] Values: ["ORD-1767352203822"]
[00:00:30.220] Server  LOG     [Order API] Created DB Order ID: 3
[00:00:30.220] Server  LOG     [Order API] Mapping item: "Americano" (Base: "Americano")
[00:00:30.222] Server  LOG     [DB] Query: SELECT id FROM products WHERE name = ? LIMIT 1
[00:00:30.223] Server  LOG     [DB] Values: ["Americano"]
[00:00:30.224] Server  LOG     [Order API] Found DB Product: Americano (ID: 1)
[00:00:30.224] Server  LOG     [DB] Query: INSERT INTO order_items (order_id, product_id, quantity, unit_price, subtotal) VALUES (?, ?, ?, ?, ?)
[00:00:30.225] Server  LOG     [DB] Values: [3,1,1,55,55]
[00:00:30.226] Server  LOG     [DB] Query: UPDATE products SET stock_quantity = stock_quantity - ? WHERE id = ?
[00:00:30.227] Server  LOG     [DB] Values: [1,1]
[00:00:30.228] Server  LOG     [Order API] Deducted 1 from product stock (ID: 1)
[00:00:30.229] Server  LOG     [DB] Query: SELECT pi.ingredient_id, pi.amount, i.stock_quantity, i.name as ing_name FROM product_ingredients pi JOIN ingredients i ON pi.ingredient_id = i.id WHERE pi.product_id = ?
[00:00:30.229] Server  LOG     [DB] Values: [1]
[00:00:30.230] Server  LOG     [Order API] Found 1 ingredients for Americano
[00:00:30.230] Server  LOG     [Order API] Deducting 18 from Espresso Beans. Prev: 5000, New: 4982
[00:00:30.231] Server  LOG     [DB] Query: UPDATE ingredients SET stock_quantity = ? WHERE id = ?
[00:00:30.231] Server  LOG     [DB] Values: [4982,1]
[00:00:30.233] Server  LOG     [DB] Query: INSERT INTO inventory_logs (ingredient_id, user_id, log_type, quantity_changed, reason) VALUES (?, ?, 'sale', ?, ?)
[00:00:30.233] Server  LOG     [DB] Values: [1,1,-18,"Order ORD-1767352203822"]
[00:00:30.234] Server  LOG     [Order API] ✓ Order ORD-1767352203822 fully processed and synced.
[00:00:30.267] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:00:30.902] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:00:30.903] Server  LOG     [DB] Values: [50]
[00:00:30.904] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:00:30.905] Server  LOG     [DB] Values: ["3,2,1"]
[00:00:32.911] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:00:32.912] Server  LOG     [DB] Values: [50]
[00:00:32.913] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:00:32.913] Server  LOG     [DB] Values: ["3,2,1"]
[00:00:34.903] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:00:34.908] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:00:34.909] Server  LOG     [DB] Values: [50]
[00:00:34.913] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:00:34.913] Server  LOG     [DB] Values: ["3,2,1"]
[00:00:36.911] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:00:36.911] Server  LOG     [DB] Values: [50]
[00:00:36.913] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:00:36.913] Server  LOG     [DB] Values: ["3,2,1"]
[00:00:38.911] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:00:38.912] Server  LOG     [DB] Values: [50]
[00:00:38.913] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:00:38.913] Server  LOG     [DB] Values: ["3,2,1"]
[00:00:40.619] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:00:41.617] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:00:41.618] Server  LOG     [DB] Values: [50]
[00:00:41.619] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:00:41.619] Server  LOG     [DB] Values: ["3,2,1"]
[00:00:43.617] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:00:43.618] Server  LOG     [DB] Values: [50]
[00:00:43.619] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:00:43.619] Server  LOG     [DB] Values: ["3,2,1"]
[00:00:45.615] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:00:45.620] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:00:45.620] Server  LOG     [DB] Values: [50]
[00:00:45.623] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:00:45.624] Server  LOG     [DB] Values: ["3,2,1"]
[00:00:47.623] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:00:47.624] Server  LOG     [DB] Values: [50]
[00:00:47.625] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:00:47.626] Server  LOG     [DB] Values: ["3,2,1"]
[00:00:49.620] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:00:49.621] Server  LOG     [DB] Values: [50]
[00:00:49.622] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:00:49.622] Server  LOG     [DB] Values: ["3,2,1"]
[00:00:50.621] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:00:51.619] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:00:51.619] Server  LOG     [DB] Values: [50]
[00:00:51.620] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:00:51.621] Server  LOG     [DB] Values: ["3,2,1"]
[00:00:53.623] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:00:53.624] Server  LOG     [DB] Values: [50]
[00:00:53.625] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:00:53.625] Server  LOG     [DB] Values: ["3,2,1"]
[00:00:55.621] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:00:55.625] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:00:55.626] Server  LOG     [DB] Values: [50]
[00:00:55.629] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:00:55.630] Server  LOG     [DB] Values: ["3,2,1"]
[00:00:57.620] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:00:57.620] Server  LOG     [DB] Values: [50]
[00:00:57.622] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:00:57.622] Server  LOG     [DB] Values: ["3,2,1"]
[00:00:59.624] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:00:59.625] Server  LOG     [DB] Values: [50]
[00:00:59.626] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:00:59.626] Server  LOG     [DB] Values: ["3,2,1"]
[00:01:00.611] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:01:01.619] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:01:01.620] Server  LOG     [DB] Values: [50]
[00:01:01.622] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:01:01.622] Server  LOG     [DB] Values: ["3,2,1"]
[00:01:03.612] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:01:03.612] Server  LOG     [DB] Values: [50]
[00:01:03.613] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:01:03.613] Server  LOG     [DB] Values: ["3,2,1"]
[00:01:05.623] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:01:05.628] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:01:05.629] Server  LOG     [DB] Values: [50]
[00:01:05.649] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:01:05.650] Server  LOG     [DB] Values: ["3,2,1"]
[00:01:07.622] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:01:07.623] Server  LOG     [DB] Values: [50]
[00:01:07.624] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:01:07.625] Server  LOG     [DB] Values: ["3,2,1"]
[00:01:09.619] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:01:09.619] Server  LOG     [DB] Values: [50]
[00:01:09.620] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:01:09.621] Server  LOG     [DB] Values: ["3,2,1"]
[00:01:10.620] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:01:11.624] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:01:11.625] Server  LOG     [DB] Values: [50]
[00:01:11.626] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:01:11.626] Server  LOG     [DB] Values: ["3,2,1"]
[00:01:13.624] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:01:13.624] Server  LOG     [DB] Values: [50]
[00:01:13.625] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:01:13.626] Server  LOG     [DB] Values: ["3,2,1"]
[00:01:15.614] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:01:15.618] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:01:15.619] Server  LOG     [DB] Values: [50]
[00:01:15.622] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:01:15.622] Server  LOG     [DB] Values: ["3,2,1"]
[00:01:17.621] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:01:17.622] Server  LOG     [DB] Values: [50]
[00:01:17.623] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:01:17.623] Server  LOG     [DB] Values: ["3,2,1"]
[00:01:19.618] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:01:19.619] Server  LOG     [DB] Values: [50]
[00:01:19.619] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:01:19.620] Server  LOG     [DB] Values: ["3,2,1"]
[00:01:20.617] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:01:21.616] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:01:21.617] Server  LOG     [DB] Values: [50]
[00:01:21.618] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:01:21.618] Server  LOG     [DB] Values: ["3,2,1"]
[00:01:23.614] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:01:23.615] Server  LOG     [DB] Values: [50]
[00:01:23.616] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:01:23.616] Server  LOG     [DB] Values: ["3,2,1"]
[00:01:25.626] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:01:25.631] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:01:25.631] Server  LOG     [DB] Values: [50]
[00:01:25.634] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:01:25.635] Server  LOG     [DB] Values: ["3,2,1"]
[00:01:27.614] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:01:27.614] Server  LOG     [DB] Values: [50]
[00:01:27.615] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:01:27.616] Server  LOG     [DB] Values: ["3,2,1"]
[00:01:29.624] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:01:29.624] Server  LOG     [DB] Values: [50]
[00:01:29.625] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:01:29.626] Server  LOG     [DB] Values: ["3,2,1"]
[00:01:30.621] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:01:31.622] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:01:31.623] Server  LOG     [DB] Values: [50]
[00:01:31.623] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:01:31.624] Server  LOG     [DB] Values: ["3,2,1"]
[00:01:33.622] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:01:33.622] Server  LOG     [DB] Values: [50]
[00:01:33.623] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:01:33.624] Server  LOG     [DB] Values: ["3,2,1"]
[00:01:35.621] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:01:35.627] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:01:35.627] Server  LOG     [DB] Values: [50]
[00:01:35.631] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:01:35.631] Server  LOG     [DB] Values: ["3,2,1"]
[00:01:37.613] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:01:37.614] Server  LOG     [DB] Values: [50]
[00:01:37.615] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:01:37.615] Server  LOG     [DB] Values: ["3,2,1"]
[00:01:54.220] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:01:54.221] Server  LOG     [DB] Values: [50]
[00:01:54.231] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:01:54.232] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:01:54.233] Server  LOG     [DB] Values: ["3,2,1"]
[00:01:54.904] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:01:54.908] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:01:54.909] Server  LOG     [DB] Values: [50]
[00:01:54.940] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:01:54.941] Server  LOG     [DB] Values: ["3,2,1"]
[00:01:56.902] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:01:56.903] Server  LOG     [DB] Values: [50]
[00:01:56.904] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:01:56.904] Server  LOG     [DB] Values: ["3,2,1"]
[00:01:58.917] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:01:58.918] Server  LOG     [DB] Values: [50]
[00:01:58.919] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:01:58.920] Server  LOG     [DB] Values: ["3,2,1"]
[00:01:59.916] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:02:00.902] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:02:00.902] Server  LOG     [DB] Values: [50]
[00:02:00.903] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:02:00.904] Server  LOG     [DB] Values: ["3,2,1"]
[00:02:02.909] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:02:02.909] Server  LOG     [DB] Values: [50]
[00:02:02.911] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:02:02.911] Server  LOG     [DB] Values: ["3,2,1"]
[00:02:04.905] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:02:04.911] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:02:04.912] Server  LOG     [DB] Values: [50]
[00:02:04.915] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:02:04.916] Server  LOG     [DB] Values: ["3,2,1"]
[00:02:06.929] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:02:06.929] Server  LOG     [DB] Values: [50]
[00:02:06.930] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:02:06.931] Server  LOG     [DB] Values: ["3,2,1"]
[00:02:08.902] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:02:08.903] Server  LOG     [DB] Values: [50]
[00:02:08.904] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:02:08.905] Server  LOG     [DB] Values: ["3,2,1"]
[00:02:09.902] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:02:10.903] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:02:10.903] Server  LOG     [DB] Values: [50]
[00:02:10.904] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:02:10.905] Server  LOG     [DB] Values: ["3,2,1"]
[00:02:12.903] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:02:12.903] Server  LOG     [DB] Values: [50]
[00:02:12.904] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:02:12.905] Server  LOG     [DB] Values: ["3,2,1"]
[00:02:15.620] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:02:15.624] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:02:15.625] Server  LOG     [DB] Values: [50]
[00:02:15.628] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:02:15.628] Server  LOG     [DB] Values: ["3,2,1"]
[00:02:17.623] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:02:17.623] Server  LOG     [DB] Values: [50]
[00:02:17.624] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:02:17.625] Server  LOG     [DB] Values: ["3,2,1"]
[00:02:19.621] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:02:19.622] Server  LOG     [DB] Values: [50]
[00:02:19.623] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:02:19.623] Server  LOG     [DB] Values: ["3,2,1"]
[00:02:20.615] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:02:21.611] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:02:21.611] Server  LOG     [DB] Values: [50]
[00:02:21.612] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:02:21.613] Server  LOG     [DB] Values: ["3,2,1"]
[00:02:23.610] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:02:23.610] Server  LOG     [DB] Values: [50]
[00:02:23.612] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:02:23.612] Server  LOG     [DB] Values: ["3,2,1"]
[00:02:25.615] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:02:25.620] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:02:25.620] Server  LOG     [DB] Values: [50]
[00:02:25.623] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:02:25.623] Server  LOG     [DB] Values: ["3,2,1"]
[00:02:27.623] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:02:27.624] Server  LOG     [DB] Values: [50]
[00:02:27.625] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:02:27.626] Server  LOG     [DB] Values: ["3,2,1"]
[00:02:29.610] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:02:29.610] Server  LOG     [DB] Values: [50]
[00:02:29.613] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:02:29.613] Server  LOG     [DB] Values: ["3,2,1"]
[00:02:30.610] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:02:31.619] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:02:31.619] Server  LOG     [DB] Values: [50]
[00:02:31.620] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:02:31.621] Server  LOG     [DB] Values: ["3,2,1"]
[00:02:33.623] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:02:33.623] Server  LOG     [DB] Values: [50]
[00:02:33.624] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:02:33.624] Server  LOG     [DB] Values: ["3,2,1"]
[00:02:35.614] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:02:35.619] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:02:35.619] Server  LOG     [DB] Values: [50]
[00:02:35.622] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:02:35.622] Server  LOG     [DB] Values: ["3,2,1"]
[00:02:37.612] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:02:37.613] Server  LOG     [DB] Values: [50]
[00:02:37.614] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:02:37.614] Server  LOG     [DB] Values: ["3,2,1"]
[00:02:39.610] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:02:39.610] Server  LOG     [DB] Values: [50]
[00:02:39.611] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:02:39.612] Server  LOG     [DB] Values: ["3,2,1"]
[00:02:40.619] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:02:41.617] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:02:41.617] Server  LOG     [DB] Values: [50]
[00:02:41.618] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:02:41.618] Server  LOG     [DB] Values: ["3,2,1"]
[00:02:42.904] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:02:42.904] Server  LOG     [DB] Values: [50]
[00:02:42.905] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:02:42.906] Server  LOG     [DB] Values: ["3,2,1"]
[00:02:44.903] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:02:44.907] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:02:44.908] Server  LOG     [DB] Values: [50]
[00:02:44.911] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:02:44.911] Server  LOG     [DB] Values: ["3,2,1"]
[00:02:46.908] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:02:46.908] Server  LOG     [DB] Values: [50]
[00:02:46.910] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:02:46.910] Server  LOG     [DB] Values: ["3,2,1"]
[00:02:48.122] Server  LOG     [Order API] Incoming POST request
[00:02:48.122] Server  LOG     [Order API] Processing order with 1 items
[00:02:48.123] Server  LOG     [DB] Query: SELECT id FROM users WHERE role = 'cashier' LIMIT 1
[00:02:48.124] Server  LOG     [Order API] Using Cashier ID: 1
[00:02:48.125] Server  LOG     [DB] Query: INSERT INTO orders (order_number, cashier_id, customer_name, total_amount, payment_method, order_status) VALUES (?, ?, ?, ?, ?, 'completed')
[00:02:48.125] Server  LOG     [DB] Values: ["ORD-1767352341731",1,"Walk-in",2667.6,"cash"]
[00:02:48.126] Server  LOG     [DB] Query: SELECT id FROM orders WHERE order_number = ? LIMIT 1
[00:02:48.127] Server  LOG     [DB] Values: ["ORD-1767352341731"]
[00:02:48.128] Server  LOG     [Order API] Created DB Order ID: 4
[00:02:48.129] Server  LOG     [Order API] Mapping item: "Americano" (Base: "Americano")
[00:02:48.130] Server  LOG     [DB] Query: SELECT id FROM products WHERE name = ? LIMIT 1
[00:02:48.130] Server  LOG     [DB] Values: ["Americano"]
[00:02:48.131] Server  LOG     [Order API] Found DB Product: Americano (ID: 1)
[00:02:48.132] Server  LOG     [DB] Query: INSERT INTO order_items (order_id, product_id, quantity, unit_price, subtotal) VALUES (?, ?, ?, ?, ?)
[00:02:48.132] Server  LOG     [DB] Values: [4,1,38,65,2470]
[00:02:48.133] Server  LOG     [DB] Query: UPDATE products SET stock_quantity = stock_quantity - ? WHERE id = ?
[00:02:48.134] Server  LOG     [DB] Values: [38,1]
[00:02:48.136] Server  LOG     [Order API] Deducted 38 from product stock (ID: 1)
[00:02:48.136] Server  LOG     [DB] Query: SELECT pi.ingredient_id, pi.amount, i.stock_quantity, i.name as ing_name FROM product_ingredients pi JOIN ingredients i ON pi.ingredient_id = i.id WHERE pi.product_id = ?
[00:02:48.136] Server  LOG     [DB] Values: [1]
[00:02:48.137] Server  LOG     [Order API] Found 1 ingredients for Americano
[00:02:48.138] Server  LOG     [Order API] Deducting 684 from Espresso Beans. Prev: 4982, New: 4298
[00:02:48.138] Server  LOG     [DB] Query: UPDATE ingredients SET stock_quantity = ? WHERE id = ?
[00:02:48.138] Server  LOG     [DB] Values: [4298,1]
[00:02:48.139] Server  LOG     [DB] Query: INSERT INTO inventory_logs (ingredient_id, user_id, log_type, quantity_changed, reason) VALUES (?, ?, 'sale', ?, ?)
[00:02:48.140] Server  LOG     [DB] Values: [1,1,-684,"Order ORD-1767352341731"]
[00:02:48.142] Server  LOG     [Order API] ✓ Order ORD-1767352341731 fully processed and synced.
[00:02:48.174] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:02:48.901] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:02:48.902] Server  LOG     [DB] Values: [50]
[00:02:48.903] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:02:48.903] Server  LOG     [DB] Values: ["4,3,2,1"]
[00:02:49.902] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:02:50.903] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:02:50.903] Server  LOG     [DB] Values: [50]
[00:02:50.904] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:02:50.905] Server  LOG     [DB] Values: ["4,3,2,1"]
[00:02:52.903] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:02:52.903] Server  LOG     [DB] Values: [50]
[00:02:52.904] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:02:52.905] Server  LOG     [DB] Values: ["4,3,2,1"]
[00:02:54.904] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:02:54.908] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:02:54.909] Server  LOG     [DB] Values: [50]
[00:02:54.934] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:02:54.934] Server  LOG     [DB] Values: ["4,3,2,1"]
[00:02:56.903] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:02:56.903] Server  LOG     [DB] Values: [50]
[00:02:56.904] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:02:56.904] Server  LOG     [DB] Values: ["4,3,2,1"]
[00:02:56.991] Server  LOG     [Order API] Incoming POST request
[00:02:56.992] Server  LOG     [Order API] Processing order with 1 items
[00:02:56.993] Server  LOG     [DB] Query: SELECT id FROM users WHERE role = 'cashier' LIMIT 1
[00:02:56.994] Server  LOG     [Order API] Using Cashier ID: 1
[00:02:56.995] Server  LOG     [DB] Query: INSERT INTO orders (order_number, cashier_id, customer_name, total_amount, payment_method, order_status) VALUES (?, ?, ?, ?, ?, 'completed')
[00:02:56.995] Server  LOG     [DB] Values: ["ORD-1767352350602",1,"Walk-in",70.2,"cash"]
[00:02:56.997] Server  LOG     [DB] Query: SELECT id FROM orders WHERE order_number = ? LIMIT 1
[00:02:56.997] Server  LOG     [DB] Values: ["ORD-1767352350602"]
[00:02:56.999] Server  LOG     [Order API] Created DB Order ID: 5
[00:02:56.999] Server  LOG     [Order API] Mapping item: "Americano" (Base: "Americano")
[00:02:57.000] Server  LOG     [DB] Query: SELECT id FROM products WHERE name = ? LIMIT 1
[00:02:57.000] Server  LOG     [DB] Values: ["Americano"]
[00:02:57.001] Server  LOG     [Order API] Found DB Product: Americano (ID: 1)
[00:02:57.001] Server  LOG     [DB] Query: INSERT INTO order_items (order_id, product_id, quantity, unit_price, subtotal) VALUES (?, ?, ?, ?, ?)
[00:02:57.002] Server  LOG     [DB] Values: [5,1,1,65,65]
[00:02:57.003] Server  LOG     [DB] Query: UPDATE products SET stock_quantity = stock_quantity - ? WHERE id = ?
[00:02:57.004] Server  LOG     [DB] Values: [1,1]
[00:02:57.005] Server  LOG     [Order API] Deducted 1 from product stock (ID: 1)
[00:02:57.005] Server  LOG     [DB] Query: SELECT pi.ingredient_id, pi.amount, i.stock_quantity, i.name as ing_name FROM product_ingredients pi JOIN ingredients i ON pi.ingredient_id = i.id WHERE pi.product_id = ?
[00:02:57.006] Server  LOG     [DB] Values: [1]
[00:02:57.006] Server  LOG     [Order API] Found 1 ingredients for Americano
[00:02:57.007] Server  LOG     [Order API] Deducting 18 from Espresso Beans. Prev: 4298, New: 4280
[00:02:57.007] Server  LOG     [DB] Query: UPDATE ingredients SET stock_quantity = ? WHERE id = ?
[00:02:57.007] Server  LOG     [DB] Values: [4280,1]
[00:02:57.008] Server  LOG     [DB] Query: INSERT INTO inventory_logs (ingredient_id, user_id, log_type, quantity_changed, reason) VALUES (?, ?, 'sale', ?, ?)
[00:02:57.009] Server  LOG     [DB] Values: [1,1,-18,"Order ORD-1767352350602"]
[00:02:57.010] Server  LOG     [Order API] ✓ Order ORD-1767352350602 fully processed and synced.
[00:02:57.043] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:02:58.919] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:02:58.930] Server  LOG     [DB] Values: [50]
[00:02:58.938] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:02:58.939] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:02:59.903] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:03:00.903] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:03:00.904] Server  LOG     [DB] Values: [50]
[00:03:00.905] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:03:00.905] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:03:02.902] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:03:02.903] Server  LOG     [DB] Values: [50]
[00:03:02.904] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:03:02.904] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:03:04.903] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:03:04.908] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:03:04.908] Server  LOG     [DB] Values: [50]
[00:03:04.912] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:03:04.913] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:03:07.641] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:03:07.643] Server  LOG     [DB] Values: [50]
[00:03:07.644] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:03:07.645] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:03:09.621] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:03:09.621] Server  LOG     [DB] Values: [50]
[00:03:09.622] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:03:09.623] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:03:10.613] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:03:11.611] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:03:11.612] Server  LOG     [DB] Values: [50]
[00:03:11.613] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:03:11.613] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:03:13.618] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:03:13.619] Server  LOG     [DB] Values: [50]
[00:03:13.619] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:03:13.620] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:03:15.624] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:03:15.627] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:03:15.628] Server  LOG     [DB] Values: [50]
[00:03:15.632] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:03:15.632] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:03:17.614] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:03:17.615] Server  LOG     [DB] Values: [50]
[00:03:17.616] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:03:17.616] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:03:19.621] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:03:19.622] Server  LOG     [DB] Values: [50]
[00:03:19.623] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:03:19.623] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:03:20.611] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:03:21.618] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:03:21.618] Server  LOG     [DB] Values: [50]
[00:03:21.619] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:03:21.620] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:03:23.624] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:03:23.625] Server  LOG     [DB] Values: [50]
[00:03:23.626] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:03:23.626] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:03:25.613] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:03:25.617] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:03:25.617] Server  LOG     [DB] Values: [50]
[00:03:25.634] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:03:25.634] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:03:27.614] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:03:27.615] Server  LOG     [DB] Values: [50]
[00:03:27.616] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:03:27.617] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:03:29.615] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:03:29.616] Server  LOG     [DB] Values: [50]
[00:03:29.617] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:03:29.617] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:03:30.613] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:03:31.610] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:03:31.611] Server  LOG     [DB] Values: [50]
[00:03:31.612] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:03:31.612] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:03:33.621] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:03:33.622] Server  LOG     [DB] Values: [50]
[00:03:33.623] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:03:33.623] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:03:35.616] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:03:35.617] Server  LOG     [DB] Values: [50]
[00:03:35.622] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:03:35.623] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:03:35.624] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:03:37.616] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:03:37.616] Server  LOG     [DB] Values: [50]
[00:03:37.617] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:03:37.618] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:03:39.612] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:03:39.613] Server  LOG     [DB] Values: [50]
[00:03:39.614] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:03:39.614] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:03:40.623] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:03:41.611] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:03:41.611] Server  LOG     [DB] Values: [50]
[00:03:41.613] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:03:41.613] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:03:43.623] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:03:43.623] Server  LOG     [DB] Values: [50]
[00:03:43.624] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:03:43.625] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:03:45.622] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:03:45.625] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:03:45.626] Server  LOG     [DB] Values: [50]
[00:03:45.630] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:03:45.630] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:03:46.905] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:03:46.906] Server  LOG     [DB] Values: [50]
[00:03:46.907] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:03:46.907] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:03:48.756] Server  LOG     [DB] Query: INSERT INTO activity_logs (user_id, action, action_type, entity_type, entity_id, details) VALUES (?, 'Logged out', 'logout', 'User', ?, ?)
[00:03:48.757] Server  LOG     [DB] Values: [1,1,"{\"message\":\"User logged out\"}"]
[00:03:50.883] Server  LOG     [DB] Query: SELECT id, email, name, role, is_active FROM users WHERE email = ?
[00:03:50.883] Server  LOG     [DB] Values: ["manager@sodalicious.com"]
[00:03:50.885] Server  LOG     [DB] Query: INSERT INTO activity_logs (user_id, action, action_type, entity_type, entity_id, details) VALUES (?, 'Logged in', 'login', 'User', ?, 'User logged into the system')
[00:03:50.885] Server  LOG     [DB] Values: [2,2]
[00:03:50.971] Server  ERROR   [DB ERROR] Query failed: Error: CONSTRAINT `activity_logs.details` failed for `sodalicious_db`.`activity_logs`
[00:03:51.049] Server  ERROR   Failed to log login activity Error: CONSTRAINT `activity_logs.details` failed for `sodalicious_db`.`activity_logs`
[00:03:51.087] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:03:51.093] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:03:51.108] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:03:51.109] Server  LOG     [DB] Values: [50]
[00:03:51.113] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:03:51.115] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:03:51.116] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:03:51.129] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:03:51.140] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:03:51.148] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:03:51.155] Server  LOG     [DB] Values: [50]
[00:03:51.159] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:03:51.160] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:03:51.171] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:03:51.234] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:03:51.261] Server  LOG     [DB] Query: SELECT id, name, email as username, role, is_active FROM users ORDER BY id ASC
[00:03:51.276] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:03:51.281] Server  LOG     [DB] Query: SELECT id, name, email as username, role, is_active FROM users ORDER BY id ASC
[00:03:53.096] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:03:53.099] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:03:53.101] Server  LOG     [DB] Values: [50]
[00:03:53.104] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:03:53.105] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:03:53.562] Server  LOG      ✓ Compiled in 141ms
[00:03:55.087] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:03:55.087] Server  LOG     [DB] Values: [50]
[00:03:55.091] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:03:55.091] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:03:55.092] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:03:56.085] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:03:56.089] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:03:56.099] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:03:57.090] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:03:57.091] Server  LOG     [DB] Values: [50]
[00:03:57.095] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:03:57.096] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:03:57.097] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:03:59.090] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:03:59.095] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:03:59.096] Server  LOG     [DB] Values: [50]
[00:03:59.103] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:03:59.104] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:04:00.511] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:04:00.515] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:04:01.092] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:04:01.093] Server  LOG     [DB] Values: [50]
[00:04:01.096] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:04:01.099] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:04:01.101] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:04:01.102] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:04:03.085] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:04:03.086] Server  LOG     [DB] Values: [50]
[00:04:03.090] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:04:03.091] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:04:03.091] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:04:05.090] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:04:05.091] Server  LOG     [DB] Values: [50]
[00:04:05.092] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:04:05.093] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:04:05.096] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:04:05.511] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:04:06.087] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:04:07.091] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:04:07.092] Server  LOG     [DB] Values: [50]
[00:04:07.095] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:04:07.096] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:04:07.097] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:04:09.093] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:04:09.094] Server  LOG     [DB] Values: [50]
[00:04:09.097] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:04:09.098] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:04:09.098] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:04:10.511] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:04:11.094] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:04:11.094] Server  LOG     [DB] Values: [50]
[00:04:11.098] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:04:11.103] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:04:11.103] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:04:11.104] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:04:13.086] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:04:13.087] Server  LOG     [DB] Values: [50]
[00:04:13.090] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:04:13.091] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:04:13.092] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:04:15.086] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:04:15.086] Server  LOG     [DB] Values: [50]
[00:04:15.090] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:04:15.091] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:04:15.091] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:04:15.521] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:04:16.089] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:04:17.086] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:04:17.087] Server  LOG     [DB] Values: [50]
[00:04:17.094] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:04:17.094] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:04:17.095] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:04:19.086] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:04:19.086] Server  LOG     [DB] Values: [50]
[00:04:19.090] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:04:19.091] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:04:19.092] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:04:20.513] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:04:21.093] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:04:21.093] Server  LOG     [DB] Values: [50]
[00:04:21.097] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:04:21.101] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:04:21.106] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:04:21.107] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:04:23.093] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:04:23.093] Server  LOG     [DB] Values: [50]
[00:04:23.097] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:04:23.097] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:04:23.098] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:04:24.415] Server  LOG      ✓ Compiled in 109ms
[00:04:25.091] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:04:25.091] Server  LOG     [DB] Values: [50]
[00:04:25.094] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:04:25.095] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:04:25.095] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:04:25.526] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:04:26.089] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:04:27.087] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:04:27.087] Server  LOG     [DB] Values: [50]
[00:04:27.090] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:04:27.091] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:04:27.092] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:04:29.085] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:04:29.086] Server  LOG     [DB] Values: [50]
[00:04:29.090] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:04:29.091] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:04:29.091] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:04:30.515] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:04:31.090] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:04:31.090] Server  LOG     [DB] Values: [50]
[00:04:31.093] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:04:31.097] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:04:31.098] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:04:31.099] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:04:33.101] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:04:33.106] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:04:33.107] Server  LOG     [DB] Values: [50]
[00:04:33.109] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:04:33.110] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:04:35.086] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:04:35.087] Server  LOG     [DB] Values: [50]
[00:04:35.090] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:04:35.091] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:04:35.092] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:04:35.511] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:04:36.092] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:04:37.094] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:04:37.094] Server  LOG     [DB] Values: [50]
[00:04:37.098] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:04:37.099] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:04:37.099] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:04:39.084] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:04:39.085] Server  LOG     [DB] Values: [50]
[00:04:39.089] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:04:39.090] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:04:39.090] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:04:40.511] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:04:41.085] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:04:41.086] Server  LOG     [DB] Values: [50]
[00:04:41.090] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:04:41.094] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:04:41.095] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:04:41.095] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:04:43.089] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:04:43.090] Server  LOG     [DB] Values: [50]
[00:04:43.093] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:04:43.095] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:04:43.095] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:04:45.084] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:04:45.085] Server  LOG     [DB] Values: [50]
[00:04:45.089] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:04:45.090] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:04:45.091] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:04:45.511] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:04:46.087] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:04:47.083] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:04:47.083] Server  LOG     [DB] Values: [50]
[00:04:47.084] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:04:47.085] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:04:47.132] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:04:49.132] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:04:49.132] Server  LOG     [DB] Values: [50]
[00:04:49.136] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:04:49.137] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:04:49.138] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:04:50.512] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:04:51.094] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:04:51.094] Server  LOG     [DB] Values: [50]
[00:04:51.098] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:04:51.099] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:04:51.099] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:04:51.103] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:04:53.094] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:04:53.095] Server  LOG     [DB] Values: [50]
[00:04:53.098] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:04:53.099] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:04:53.099] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:04:55.095] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:04:55.095] Server  LOG     [DB] Values: [50]
[00:04:55.099] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:04:55.100] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:04:55.100] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:04:55.513] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:04:56.096] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:04:57.618] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:04:57.618] Server  LOG     [DB] Values: [50]
[00:04:57.622] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:04:57.637] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:04:57.637] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:04:59.624] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:04:59.624] Server  LOG     [DB] Values: [50]
[00:04:59.628] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:04:59.629] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:04:59.629] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:05:00.624] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:05:01.623] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:05:01.626] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:05:01.627] Server  LOG     [DB] Values: [50]
[00:05:01.630] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:05:01.633] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:05:01.634] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:05:03.620] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:05:03.621] Server  LOG     [DB] Values: [50]
[00:05:03.624] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:05:03.625] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:05:03.625] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:05:05.612] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:05:05.613] Server  LOG     [DB] Values: [50]
[00:05:05.616] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:05:05.620] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:05:05.621] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:05:05.621] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:05:06.620] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:05:07.613] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:05:07.613] Server  LOG     [DB] Values: [50]
[00:05:07.617] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:05:07.618] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:05:07.618] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:05:09.611] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:05:09.611] Server  LOG     [DB] Values: [50]
[00:05:09.614] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:05:09.615] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:05:09.616] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:05:10.614] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:05:11.622] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:05:11.622] Server  LOG     [DB] Values: [50]
[00:05:11.626] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:05:11.629] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:05:11.630] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:05:11.630] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:05:13.614] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:05:13.615] Server  LOG     [DB] Values: [50]
[00:05:13.618] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:05:13.619] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:05:13.619] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:05:15.620] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:05:15.620] Server  LOG     [DB] Values: [50]
[00:05:15.624] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:05:15.627] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:05:15.628] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:05:15.629] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:05:16.621] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:05:17.611] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:05:17.612] Server  LOG     [DB] Values: [50]
[00:05:17.615] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:05:17.616] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:05:17.617] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:05:19.616] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:05:19.617] Server  LOG     [DB] Values: [50]
[00:05:19.620] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:05:19.621] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:05:19.622] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:05:20.610] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:05:21.628] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:05:21.628] Server  LOG     [DB] Values: [50]
[00:05:21.632] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:05:21.635] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:05:21.636] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:05:21.637] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:05:23.615] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:05:23.615] Server  LOG     [DB] Values: [50]
[00:05:23.619] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:05:23.619] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:05:23.620] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:05:25.617] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:05:25.617] Server  LOG     [DB] Values: [50]
[00:05:25.621] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:05:25.625] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:05:25.626] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:05:25.626] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:05:26.619] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:05:27.614] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:05:27.615] Server  LOG     [DB] Values: [50]
[00:05:27.618] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:05:27.633] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:05:27.634] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:05:29.615] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:05:29.616] Server  LOG     [DB] Values: [50]
[00:05:29.619] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:05:29.620] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:05:29.620] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:05:30.511] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:05:31.620] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:05:31.620] Server  LOG     [DB] Values: [50]
[00:05:31.624] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:05:31.627] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:05:31.628] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:05:31.628] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:05:33.621] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:05:33.621] Server  LOG     [DB] Values: [50]
[00:05:33.625] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:05:33.626] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:05:33.626] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:05:35.624] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:05:35.625] Server  LOG     [DB] Values: [50]
[00:05:35.626] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:05:35.627] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:05:35.630] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:05:35.637] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:05:36.612] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:05:37.622] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:05:37.622] Server  LOG     [DB] Values: [50]
[00:05:37.623] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:05:37.624] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:05:37.629] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:05:39.624] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:05:39.624] Server  LOG     [DB] Values: [50]
[00:05:39.628] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:05:39.628] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:05:39.629] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:05:40.623] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:05:41.615] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:05:41.615] Server  LOG     [DB] Values: [50]
[00:05:41.618] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:05:41.622] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:05:41.622] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:05:41.623] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:05:43.623] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:05:43.623] Server  LOG     [DB] Values: [50]
[00:05:43.627] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:05:43.627] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:05:43.628] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:05:45.611] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:05:45.611] Server  LOG     [DB] Values: [50]
[00:05:45.615] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:05:45.618] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:05:45.619] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:05:45.620] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:05:46.615] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:05:47.620] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:05:47.621] Server  LOG     [DB] Values: [50]
[00:05:47.624] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:05:47.626] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:05:47.626] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:05:49.617] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:05:49.617] Server  LOG     [DB] Values: [50]
[00:05:49.621] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:05:49.622] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:05:49.622] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:05:50.621] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:05:51.616] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:05:51.616] Server  LOG     [DB] Values: [50]
[00:05:51.620] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:05:51.623] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:05:51.624] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:05:51.625] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:05:53.611] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:05:53.612] Server  LOG     [DB] Values: [50]
[00:05:53.615] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:05:53.616] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:05:53.616] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:05:55.431] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:05:55.431] Server  LOG     [DB] Values: [50]
[00:05:55.432] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:05:55.432] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:05:55.438] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:05:55.552] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:05:56.433] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:05:57.085] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:05:57.086] Server  LOG     [DB] Values: [50]
[00:05:57.089] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:05:57.090] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:05:57.091] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:05:59.086] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:05:59.086] Server  LOG     [DB] Values: [50]
[00:05:59.089] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:05:59.091] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:05:59.092] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:06:00.512] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:06:01.098] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:06:01.098] Server  LOG     [DB] Values: [50]
[00:06:01.100] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:06:01.100] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:06:01.104] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:06:01.110] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:06:03.097] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:06:03.097] Server  LOG     [DB] Values: [50]
[00:06:03.100] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:06:03.101] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:06:03.102] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:06:05.084] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:06:05.085] Server  LOG     [DB] Values: [50]
[00:06:05.088] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:06:05.089] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:06:05.090] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:06:05.516] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:06:06.098] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:06:07.086] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:06:07.087] Server  LOG     [DB] Values: [50]
[00:06:07.090] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:06:07.091] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:06:07.092] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:06:09.088] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:06:09.089] Server  LOG     [DB] Values: [50]
[00:06:09.092] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:06:09.093] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:06:09.094] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:06:10.514] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:06:11.098] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:06:11.099] Server  LOG     [DB] Values: [50]
[00:06:11.102] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:06:11.105] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:06:11.106] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:06:11.107] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:06:13.096] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:06:13.097] Server  LOG     [DB] Values: [50]
[00:06:13.100] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:06:13.101] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:06:13.101] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:06:15.085] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:06:15.085] Server  LOG     [DB] Values: [50]
[00:06:15.089] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:06:15.090] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:06:15.090] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:06:15.511] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:06:16.085] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:06:17.090] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:06:17.090] Server  LOG     [DB] Values: [50]
[00:06:17.094] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:06:17.095] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:06:17.095] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:06:17.312] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:06:17.321] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:06:19.083] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:06:19.084] Server  LOG     [DB] Values: [50]
[00:06:19.085] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:06:19.085] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:06:19.096] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:06:21.096] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:06:21.099] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:06:21.100] Server  LOG     [DB] Values: [50]
[00:06:21.103] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:06:21.106] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:06:21.106] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:06:22.314] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:06:23.099] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:06:23.105] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:06:23.106] Server  LOG     [DB] Values: [50]
[00:06:23.135] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:06:23.138] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:06:25.083] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:06:25.084] Server  LOG     [DB] Values: [50]
[00:06:25.085] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:06:25.085] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:06:25.098] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:06:26.085] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:06:27.085] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:06:27.086] Server  LOG     [DB] Values: [50]
[00:06:27.089] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:06:27.090] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:06:27.090] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:06:27.321] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:06:29.088] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:06:29.089] Server  LOG     [DB] Values: [50]
[00:06:29.092] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:06:29.093] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:06:29.093] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:06:31.084] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:06:31.084] Server  LOG     [DB] Values: [50]
[00:06:31.085] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:06:31.086] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:06:31.110] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:06:31.114] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:06:32.314] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:06:33.086] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:06:33.086] Server  LOG     [DB] Values: [50]
[00:06:33.089] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:06:33.090] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:06:33.091] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:06:35.084] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:06:35.084] Server  LOG     [DB] Values: [50]
[00:06:35.085] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:06:35.085] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:06:35.099] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:06:35.973] Server  LOG     [Inventory API] Incoming adjustment request
[00:06:35.975] Server  LOG     [DB] Query: SELECT id, name, stock_quantity FROM ingredients WHERE id = ? OR name = ? LIMIT 1
[00:06:35.975] Server  LOG     [DB] Values: [18,"18"]
[00:06:35.977] Server  LOG     [DB] Query: SELECT id FROM users WHERE id = ? LIMIT 1
[00:06:35.977] Server  LOG     [DB] Values: [1]
[00:06:35.978] Server  LOG     [Inventory API] Updating Chocolate Cake: 10 -> 210
[00:06:35.978] Server  LOG     [DB] Query: UPDATE ingredients SET stock_quantity = ? WHERE id = ?
[00:06:35.979] Server  LOG     [DB] Values: [210,18]
[00:06:35.980] Server  LOG     [DB] Query: INSERT INTO inventory_logs (ingredient_id, user_id, log_type, quantity_changed, reason, previous_quantity, new_quantity) VALUES (?, ?, ?, ?, ?, ?, ?)
[00:06:35.981] Server  LOG     [DB] Values: [18,1,"restock",200,"Manual Adjustment",10,210]
[00:06:36.079] Server  ERROR   [DB ERROR] Query failed: Error: Unknown column 'previous_quantity' in 'field list'
[00:06:36.145] Server  ERROR   [Inventory API] ❌ POST error: Error: Unknown column 'previous_quantity' in 'field list'
[00:06:36.203] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:06:36.259] Browser ERROR   Failed to update inventory
[00:06:37.096] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:06:37.096] Server  LOG     [DB] Values: [50]
[00:06:37.100] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:06:37.100] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:06:37.101] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:06:37.312] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:06:39.084] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:06:39.085] Server  LOG     [DB] Values: [50]
[00:06:39.088] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:06:39.089] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:06:39.089] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:06:41.094] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:06:41.099] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:06:41.103] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:06:41.104] Server  LOG     [DB] Values: [50]
[00:06:41.108] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:06:41.109] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:06:42.611] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:06:43.615] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:06:43.615] Server  LOG     [DB] Values: [50]
[00:06:43.618] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:06:43.619] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:06:43.620] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:06:45.610] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:06:45.610] Server  LOG     [DB] Values: [50]
[00:06:45.614] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:06:45.615] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:06:45.615] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:06:46.619] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:06:47.618] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:06:47.618] Server  LOG     [DB] Values: [50]
[00:06:47.622] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:06:47.626] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:06:47.627] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:06:47.628] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:06:49.624] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:06:49.625] Server  LOG     [DB] Values: [50]
[00:06:49.629] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:06:49.629] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:06:49.630] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:06:51.625] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:06:51.625] Server  LOG     [DB] Values: [50]
[00:06:51.633] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:06:51.633] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:06:51.671] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:06:51.675] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:06:52.614] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:06:53.622] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:06:53.622] Server  LOG     [DB] Values: [50]
[00:06:53.626] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:06:53.627] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:06:53.627] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:06:55.624] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:06:55.624] Server  LOG     [DB] Values: [50]
[00:06:55.628] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:06:55.629] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:06:55.629] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:06:56.615] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:06:57.616] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:06:57.617] Server  LOG     [DB] Values: [50]
[00:06:57.621] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:06:57.621] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:06:57.622] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:06:57.625] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:06:59.618] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:06:59.619] Server  LOG     [DB] Values: [50]
[00:06:59.622] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:06:59.623] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:06:59.624] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:07:01.625] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:07:01.626] Server  LOG     [DB] Values: [50]
[00:07:01.630] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:07:01.633] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:07:01.634] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:07:01.634] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:07:02.621] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:07:03.611] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:07:03.611] Server  LOG     [DB] Values: [50]
[00:07:03.615] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:07:03.615] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:07:03.616] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:07:05.620] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:07:05.621] Server  LOG     [DB] Values: [50]
[00:07:05.624] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:07:05.625] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:07:05.625] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:07:06.623] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:07:07.614] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:07:07.615] Server  LOG     [DB] Values: [50]
[00:07:07.619] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:07:07.622] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:07:07.624] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:07:07.624] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:07:09.611] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:07:09.612] Server  LOG     [DB] Values: [50]
[00:07:09.615] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:07:09.616] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:07:09.616] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:07:11.623] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:07:11.623] Server  LOG     [DB] Values: [50]
[00:07:11.626] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:07:11.627] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:07:11.631] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:07:11.634] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:07:12.617] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:07:13.614] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:07:13.615] Server  LOG     [DB] Values: [50]
[00:07:13.618] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:07:13.619] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:07:13.619] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:07:15.624] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:07:15.624] Server  LOG     [DB] Values: [50]
[00:07:15.628] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:07:15.630] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:07:15.630] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:07:16.611] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:07:17.617] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:07:17.617] Server  LOG     [DB] Values: [50]
[00:07:17.621] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:07:17.625] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:07:17.626] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:07:17.627] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:07:19.613] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:07:19.613] Server  LOG     [DB] Values: [50]
[00:07:19.617] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:07:19.618] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:07:19.618] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:07:21.654] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:07:21.658] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:07:21.658] Server  LOG     [DB] Values: [50]
[00:07:21.662] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:07:21.665] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:07:21.665] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:07:22.617] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:07:23.620] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:07:23.621] Server  LOG     [DB] Values: [50]
[00:07:23.624] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:07:23.625] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:07:23.625] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:07:25.643] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:07:25.644] Server  LOG     [DB] Values: [50]
[00:07:25.664] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:07:25.665] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:07:25.694] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:07:26.614] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:07:27.613] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:07:27.613] Server  LOG     [DB] Values: [50]
[00:07:27.617] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:07:27.620] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:07:27.621] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:07:27.622] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:07:29.622] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:07:29.623] Server  LOG     [DB] Values: [50]
[00:07:29.626] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:07:29.627] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:07:29.628] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:07:31.616] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:07:31.616] Server  LOG     [DB] Values: [50]
[00:07:31.620] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:07:31.623] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:07:31.624] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:07:31.625] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:07:32.611] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:07:33.614] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:07:33.615] Server  LOG     [DB] Values: [50]
[00:07:33.618] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:07:33.619] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:07:33.619] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:07:35.615] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:07:35.615] Server  LOG     [DB] Values: [50]
[00:07:35.619] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:07:35.619] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:07:35.620] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:07:36.616] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:07:37.623] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:07:37.624] Server  LOG     [DB] Values: [50]
[00:07:37.627] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:07:37.630] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:07:37.631] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:07:37.632] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:07:39.611] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:07:39.611] Server  LOG     [DB] Values: [50]
[00:07:39.612] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:07:39.613] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:07:39.619] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:07:58.625] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:07:58.625] Server  LOG     [DB] Values: [50]
[00:07:58.627] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:07:58.627] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:07:58.717] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:07:58.722] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:07:58.756] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:08:58.614] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:08:58.615] Server  LOG     [DB] Values: [50]
[00:08:58.619] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:08:58.624] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:08:58.626] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:08:58.626] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:08:58.634] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:09:25.059] Server  LOG      ✓ Compiled in 70ms
[00:09:25.062] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:09:25.066] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:09:25.067] Server  LOG     [DB] Values: [50]
[00:09:25.072] Server  LOG     [DB] Query: SELECT id, name, email as username, role, is_active FROM users ORDER BY id ASC
[00:09:25.162] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:09:25.182] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:09:25.183] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:09:25.188] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:09:25.206] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:09:27.616] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:09:27.617] Server  LOG     [DB] Values: [50]
[00:09:27.620] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:09:27.621] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:09:27.622] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:09:29.619] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:09:29.619] Server  LOG     [DB] Values: [50]
[00:09:29.623] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:09:29.624] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:09:29.625] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:09:30.613] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:09:30.617] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:09:30.621] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:09:31.612] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:09:31.612] Server  LOG     [DB] Values: [50]
[00:09:31.616] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:09:31.617] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:09:31.618] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:09:33.625] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:09:33.625] Server  LOG     [DB] Values: [50]
[00:09:33.630] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:09:33.631] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:09:33.632] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:09:35.614] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:09:35.619] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:09:35.623] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:09:40.613] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:09:40.617] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:09:40.621] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:09:45.625] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:09:45.630] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:09:45.634] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:09:58.631] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:09:58.631] Server  LOG     [DB] Values: [50]
[00:09:58.636] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:09:58.641] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:09:58.641] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:09:58.643] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:09:58.653] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:09:58.658] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:10:27.311] Server  LOG      ✓ Compiled in 76ms
[00:10:27.613] Browser ERROR   ./components/manager/product-management.tsx:44:3
Parsing ecmascript source code failed
  42 |     item.name.toLowerCase().includes(searchTerm.toLowerCase())
  43 |   )
> 44 | } else {
     |   ^^^^
  45 |   products.addProduct(formData)
  46 | }
  47 | setShowForm(false)

Expression expected

Import traces:
  Client Component Browser:
    ./components/manager/product-management.tsx [Client Component Browser]
    ./components/manager-dashboard.tsx [Client Component Browser]
    ./app/page.tsx [Client Component Browser]
    ./app/page.tsx [Server Component]

  Client Component SSR:
    ./components/manager/product-management.tsx [Client Component SSR]
    ./components/manager-dashboard.tsx [Client Component SSR]
    ./app/page.tsx [Client Component SSR]
    ./app/page.tsx [Server Component]
[00:10:58.625] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:10:58.626] Server  LOG     [DB] Values: [50]
[00:10:58.631] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:10:58.632] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:10:58.632] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:10:58.644] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:10:58.648] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:10:58.652] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:10:59.610] Browser ERROR   ./components/manager/product-management.tsx:44:3
Parsing ecmascript source code failed
  42 |     item.name.toLowerCase().includes(searchTerm.toLowerCase())
  43 |   )
> 44 | } else {
     |   ^^^^
  45 |   products.addProduct(formData)
  46 | }
  47 | setShowForm(false)

Expression expected

Import traces:
  Client Component Browser:
    ./components/manager/product-management.tsx [Client Component Browser]
    ./components/manager-dashboard.tsx [Client Component Browser]
    ./app/page.tsx [Client Component Browser]
    ./app/page.tsx [Server Component]

  Client Component SSR:
    ./components/manager/product-management.tsx [Client Component SSR]
    ./components/manager-dashboard.tsx [Client Component SSR]
    ./app/page.tsx [Client Component SSR]
    ./app/page.tsx [Server Component]
[00:11:26.630] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:11:26.630] Server  LOG     [DB] Values: [50]
[00:11:26.633] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:11:26.633] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:11:26.641] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:11:26.646] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:11:26.650] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:11:26.662] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:11:27.620] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:11:27.624] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:11:27.625] Server  LOG     [DB] Values: [50]
[00:11:27.629] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:11:27.630] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:11:58.613] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:11:58.614] Server  LOG     [DB] Values: [50]
[00:11:58.617] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:11:58.617] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:11:58.625] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:11:58.632] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:11:58.636] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:11:58.639] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:12:58.620] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:12:58.621] Server  LOG     [DB] Values: [50]
[00:12:58.624] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:12:58.628] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:12:58.632] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:12:58.635] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:12:58.637] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:12:58.637] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:13:58.616] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:13:58.617] Server  LOG     [DB] Values: [50]
[00:13:58.621] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:13:58.626] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:13:58.627] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:13:58.627] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:13:58.632] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:13:58.639] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:14:58.622] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:14:58.626] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:14:58.626] Server  LOG     [DB] Values: [50]
[00:14:58.631] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:14:58.636] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:14:58.639] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:14:58.639] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:14:58.649] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:15:58.615] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:15:58.616] Server  LOG     [DB] Values: [50]
[00:15:58.620] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:15:58.625] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:15:58.630] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:15:58.631] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:15:58.631] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:15:58.657] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:16:58.626] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:16:58.631] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:16:58.632] Server  LOG     [DB] Values: [50]
[00:16:58.636] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:16:58.640] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:16:58.644] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:16:58.644] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:16:58.654] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:17:07.602] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:17:07.602] Server  LOG     [DB] Values: [50]
[00:17:07.606] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:17:07.610] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:17:07.614] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:17:07.616] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:17:07.617] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:17:07.658] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:17:09.056] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:17:09.057] Server  LOG     [DB] Values: [50]
[00:17:09.058] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:17:09.059] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:17:09.073] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:17:09.401] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:17:09.409] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:17:10.060] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:17:11.057] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:17:11.057] Server  LOG     [DB] Values: [50]
[00:17:11.061] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:17:11.061] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:17:11.062] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:17:11.238] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:17:11.242] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:17:11.251] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:17:11.257] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:17:13.057] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:17:13.058] Server  LOG     [DB] Values: [50]
[00:17:13.063] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:17:13.064] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:17:13.064] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:17:15.064] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:17:15.065] Server  LOG     [DB] Values: [50]
[00:17:15.068] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:17:15.069] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:17:15.070] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:17:15.102] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:17:16.616] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:17:16.620] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:17:17.632] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:17:17.633] Server  LOG     [DB] Values: [50]
[00:17:17.637] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:17:17.646] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:17:17.646] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:17:19.620] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:17:19.620] Server  LOG     [DB] Values: [50]
[00:17:19.624] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:17:19.624] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:17:19.625] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:17:20.619] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:17:21.616] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:17:21.617] Server  LOG     [DB] Values: [50]
[00:17:21.621] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:17:21.625] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:17:21.626] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:17:21.626] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:17:21.669] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:17:23.624] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:17:23.624] Server  LOG     [DB] Values: [50]
[00:17:23.628] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:17:23.628] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:17:23.629] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:17:25.625] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:17:25.626] Server  LOG     [DB] Values: [50]
[00:17:25.629] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:17:25.632] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:17:25.633] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:17:25.634] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:17:26.243] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:17:26.247] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:17:27.055] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:17:27.056] Server  LOG     [DB] Values: [50]
[00:17:27.057] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:17:27.058] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:17:27.107] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:17:29.056] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:17:29.056] Server  LOG     [DB] Values: [50]
[00:17:29.058] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:17:29.058] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:17:29.103] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:17:30.066] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:17:30.429] Server  LOG     [DB] Query: SELECT * FROM products WHERE id = ?
[00:17:30.431] Server  LOG     [DB] Values: ["HC001"]
[00:17:42.333] Browser ERROR   {}
[00:17:42.349] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:17:42.355] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:17:42.356] Server  LOG     [DB] Values: [50]
[00:17:42.360] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:17:42.365] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:17:42.369] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:17:42.369] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:17:42.381] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:17:43.057] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:17:43.057] Server  LOG     [DB] Values: [50]
[00:17:43.058] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:17:43.059] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:17:43.102] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:17:45.056] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:17:45.057] Server  LOG     [DB] Values: [50]
[00:17:45.058] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:17:45.058] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:17:45.107] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:17:45.160] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:17:46.625] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:17:46.628] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:17:47.619] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:17:47.619] Server  LOG     [DB] Values: [50]
[00:17:47.623] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:17:47.623] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:17:47.624] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:17:49.622] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:17:49.623] Server  LOG     [DB] Values: [50]
[00:17:49.626] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:17:49.627] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:17:49.628] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:17:50.615] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:17:51.615] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:17:51.619] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:17:51.622] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:17:51.623] Server  LOG     [DB] Values: [50]
[00:17:51.629] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:17:51.629] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:17:51.668] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:17:53.611] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:17:53.611] Server  LOG     [DB] Values: [50]
[00:17:53.615] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:17:53.616] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:17:53.616] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:17:55.620] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:17:55.620] Server  LOG     [DB] Values: [50]
[00:17:55.624] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:17:55.627] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:17:55.628] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:17:55.629] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:17:56.612] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:17:56.616] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:17:57.611] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:17:57.612] Server  LOG     [DB] Values: [50]
[00:17:57.615] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:17:57.616] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:17:57.617] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:17:59.623] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:17:59.623] Server  LOG     [DB] Values: [50]
[00:17:59.626] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:17:59.627] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:17:59.628] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:18:00.612] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:18:01.059] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:18:01.059] Server  LOG     [DB] Values: [50]
[00:18:01.063] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:18:01.065] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:18:01.065] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:18:01.241] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:18:01.245] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:18:03.058] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:18:03.059] Server  LOG     [DB] Values: [50]
[00:18:03.062] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:18:03.063] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:18:03.063] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:18:03.591] Server  LOG     [DB] Query: INSERT INTO activity_logs (user_id, action, action_type, entity_type, entity_id, details) VALUES (?, 'Logged out', 'logout', 'User', ?, ?)
[00:18:03.591] Server  LOG     [DB] Values: [2,2,"{\"message\":\"User logged out\"}"]
[00:18:05.972] Server  LOG     [DB] Query: SELECT id, email, name, role, is_active FROM users WHERE email = ?
[00:18:05.972] Server  LOG     [DB] Values: ["manager@sodalicious.com"]
[00:18:05.974] Server  LOG     [DB] Query: INSERT INTO activity_logs (user_id, action, action_type, entity_type, entity_id, details) VALUES (?, 'Logged in', 'login', 'User', ?, 'User logged into the system')
[00:18:05.974] Server  LOG     [DB] Values: [2,2]
[00:18:06.074] Server  ERROR   [DB ERROR] Query failed: Error: CONSTRAINT `activity_logs.details` failed for `sodalicious_db`.`activity_logs`
[00:18:06.165] Server  ERROR   Failed to log login activity Error: CONSTRAINT `activity_logs.details` failed for `sodalicious_db`.`activity_logs`
[00:18:06.200] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:18:06.209] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:18:06.213] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:18:06.213] Server  LOG     [DB] Values: [50]
[00:18:06.217] Server  LOG     [DB] Query: SELECT id, name, email as username, role, is_active FROM users ORDER BY id ASC
[00:18:06.223] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:18:06.223] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:18:06.229] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:18:06.237] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:18:06.247] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:18:06.255] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:18:06.259] Server  LOG     [DB] Query: SELECT id, name, email as username, role, is_active FROM users ORDER BY id ASC
[00:18:06.270] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:18:06.270] Server  LOG     [DB] Values: [50]
[00:18:06.276] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:18:06.278] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:18:06.278] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:18:06.287] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:18:08.194] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:18:08.194] Server  LOG     [DB] Values: [50]
[00:18:08.198] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:18:08.199] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:18:08.199] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:18:09.773] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:18:09.781] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:18:10.202] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:18:10.202] Server  LOG     [DB] Values: [50]
[00:18:10.205] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:18:10.206] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:18:10.207] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:18:11.193] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:18:12.193] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:18:12.193] Server  LOG     [DB] Values: [50]
[00:18:12.194] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:18:12.195] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:18:12.208] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:18:14.198] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:18:14.199] Server  LOG     [DB] Values: [50]
[00:18:14.202] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:18:14.203] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:18:14.204] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:18:14.776] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:18:15.567] Server  LOG     [Inventory API] Incoming adjustment request
[00:18:15.568] Server  LOG     [DB] Query: SELECT id, name, stock_quantity FROM ingredients WHERE id = ? OR name = ? LIMIT 1
[00:18:15.569] Server  LOG     [DB] Values: [19,"19"]
[00:18:15.571] Server  LOG     [DB] Query: SELECT id FROM users WHERE id = ? LIMIT 1
[00:18:15.571] Server  LOG     [DB] Values: [1]
[00:18:15.572] Server  LOG     [Inventory API] Updating Blueberry Muffin: 15 -> 170
[00:18:15.572] Server  LOG     [DB] Query: UPDATE ingredients SET stock_quantity = ? WHERE id = ?
[00:18:15.573] Server  LOG     [DB] Values: [170,19]
[00:18:15.575] Server  LOG     [DB] Query: INSERT INTO inventory_logs (ingredient_id, user_id, log_type, quantity_changed, reason) VALUES (?, ?, ?, ?, ?)
[00:18:15.575] Server  LOG     [DB] Values: [19,1,"restock",155,"Manual Adjustment"]
[00:18:15.576] Server  LOG     [Inventory API] ✓ Stock updated and logged.
[00:18:15.585] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:18:15.590] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:18:16.200] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:18:16.200] Server  LOG     [DB] Values: [50]
[00:18:16.204] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:18:16.207] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:18:16.208] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:18:16.209] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:18:18.194] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:18:18.194] Server  LOG     [DB] Values: [50]
[00:18:18.197] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:18:18.198] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:18:18.199] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:18:19.776] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:18:20.193] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:18:20.193] Server  LOG     [DB] Values: [50]
[00:18:20.194] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:18:20.194] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:18:20.207] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:18:21.194] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:18:22.208] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:18:22.209] Server  LOG     [DB] Values: [50]
[00:18:22.212] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:18:22.214] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:18:22.214] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:18:24.205] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:18:24.205] Server  LOG     [DB] Values: [50]
[00:18:24.209] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:18:24.211] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:18:24.211] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:18:24.773] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:18:26.203] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:18:26.207] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:18:26.207] Server  LOG     [DB] Values: [50]
[00:18:26.211] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:18:26.215] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:18:26.215] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:18:26.599] Server  LOG     [Inventory API] Incoming adjustment request
[00:18:26.600] Server  LOG     [DB] Query: SELECT id, name, stock_quantity FROM ingredients WHERE id = ? OR name = ? LIMIT 1
[00:18:26.601] Server  LOG     [DB] Values: [20,"20"]
[00:18:26.602] Server  LOG     [DB] Query: SELECT id FROM users WHERE id = ? LIMIT 1
[00:18:26.603] Server  LOG     [DB] Values: [1]
[00:18:26.604] Server  LOG     [Inventory API] Updating Cheese Danish: 12 -> 24
[00:18:26.604] Server  LOG     [DB] Query: UPDATE ingredients SET stock_quantity = ? WHERE id = ?
[00:18:26.605] Server  LOG     [DB] Values: [24,20]
[00:18:26.606] Server  LOG     [DB] Query: INSERT INTO inventory_logs (ingredient_id, user_id, log_type, quantity_changed, reason) VALUES (?, ?, ?, ?, ?)
[00:18:26.607] Server  LOG     [DB] Values: [20,1,"restock",12,"Manual Adjustment"]
[00:18:26.608] Server  LOG     [Inventory API] ✓ Stock updated and logged.
[00:18:26.616] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:18:26.620] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:18:28.195] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:18:28.195] Server  LOG     [DB] Values: [50]
[00:18:28.199] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:18:28.199] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:18:28.200] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:18:29.776] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:18:30.194] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:18:30.195] Server  LOG     [DB] Values: [50]
[00:18:30.201] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:18:30.202] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:18:30.202] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:18:30.718] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:18:30.723] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:18:30.729] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:18:30.748] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:18:31.195] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:18:32.001] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:18:32.005] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:18:32.016] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:18:32.022] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:18:32.207] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:18:32.207] Server  LOG     [DB] Values: [50]
[00:18:32.211] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:18:32.213] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:18:32.213] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:18:34.197] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:18:34.197] Server  LOG     [DB] Values: [50]
[00:18:34.201] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:18:34.202] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:18:34.202] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:18:36.617] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:18:36.618] Server  LOG     [DB] Values: [50]
[00:18:36.621] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:18:36.624] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:18:36.625] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:18:36.626] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:18:37.618] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:18:37.622] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:18:38.617] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:18:38.617] Server  LOG     [DB] Values: [50]
[00:18:38.621] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:18:38.623] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:18:38.623] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:18:40.612] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:18:40.612] Server  LOG     [DB] Values: [50]
[00:18:40.616] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:18:40.616] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:18:40.617] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:18:41.614] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:18:42.620] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:18:42.624] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:18:42.627] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:18:42.628] Server  LOG     [DB] Values: [50]
[00:18:42.632] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:18:42.636] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:18:42.637] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:18:44.621] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:18:44.622] Server  LOG     [DB] Values: [50]
[00:18:44.625] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:18:44.626] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:18:44.626] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:18:46.625] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:18:46.626] Server  LOG     [DB] Values: [50]
[00:18:46.629] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:18:46.632] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:18:46.633] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:18:46.634] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:18:47.618] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:18:47.622] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:18:48.615] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:18:48.615] Server  LOG     [DB] Values: [50]
[00:18:48.619] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:18:48.620] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:18:48.621] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:18:50.194] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:18:50.194] Server  LOG     [DB] Values: [50]
[00:18:50.196] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:18:50.196] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:18:50.248] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:18:50.919] Server  LOG     [DB] Query: SELECT * FROM products WHERE id = ?
[00:18:50.920] Server  LOG     [DB] Values: ["HC001"]
[00:18:52.451] Browser ERROR   {}
[00:18:52.461] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:18:52.465] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:18:52.471] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:18:52.475] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:18:52.475] Server  LOG     [DB] Values: [50]
[00:18:52.482] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:18:52.482] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:18:52.486] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:18:54.611] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:18:54.611] Server  LOG     [DB] Values: [50]
[00:18:54.613] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:18:54.613] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:18:54.617] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:18:56.611] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:18:56.611] Server  LOG     [DB] Values: [50]
[00:18:56.614] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:18:56.618] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:18:56.619] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:18:56.619] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:18:57.616] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:18:57.620] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:18:58.615] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:18:58.615] Server  LOG     [DB] Values: [50]
[00:18:58.616] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:18:58.617] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:18:58.623] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:19:00.694] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:19:00.694] Server  LOG     [DB] Values: [50]
[00:19:00.696] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:19:00.696] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:19:00.700] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:19:01.621] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:19:02.613] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:19:02.623] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:19:02.627] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:19:02.627] Server  LOG     [DB] Values: [50]
[00:19:02.631] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:19:02.634] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:19:02.634] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:19:04.621] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:19:04.622] Server  LOG     [DB] Values: [50]
[00:19:04.625] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:19:04.626] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:19:04.627] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:19:06.611] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:19:06.612] Server  LOG     [DB] Values: [50]
[00:19:06.615] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:19:06.619] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:19:06.620] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:19:06.620] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:19:07.617] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:19:07.621] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:19:08.612] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:19:08.612] Server  LOG     [DB] Values: [50]
[00:19:08.615] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:19:08.616] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:19:08.617] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:19:10.611] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:19:10.611] Server  LOG     [DB] Values: [50]
[00:19:10.615] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:19:10.616] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:19:10.616] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:19:11.618] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:19:12.614] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:19:12.617] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:19:12.621] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:19:12.622] Server  LOG     [DB] Values: [50]
[00:19:12.627] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:19:12.627] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:19:12.632] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:19:14.622] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:19:14.623] Server  LOG     [DB] Values: [50]
[00:19:14.626] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:19:14.627] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:19:14.628] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:19:16.616] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:19:16.616] Server  LOG     [DB] Values: [50]
[00:19:16.620] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:19:16.623] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:19:16.624] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:19:16.624] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:19:17.622] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:19:17.626] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:19:18.614] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:19:18.614] Server  LOG     [DB] Values: [50]
[00:19:18.617] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:19:18.618] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:19:18.619] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:19:20.621] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:19:20.622] Server  LOG     [DB] Values: [50]
[00:19:20.626] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:19:20.627] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:19:20.627] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:19:21.610] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:19:22.611] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:19:22.615] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:19:22.619] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:19:22.619] Server  LOG     [DB] Values: [50]
[00:19:22.624] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:19:22.629] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:19:22.630] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:19:24.615] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:19:24.615] Server  LOG     [DB] Values: [50]
[00:19:24.618] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:19:24.619] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:19:24.620] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:19:26.625] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:19:26.626] Server  LOG     [DB] Values: [50]
[00:19:26.629] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:19:26.633] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:19:26.634] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:19:26.634] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:19:27.614] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:19:27.618] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:19:28.618] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:19:28.619] Server  LOG     [DB] Values: [50]
[00:19:28.622] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:19:28.623] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:19:28.624] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:19:30.624] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:19:30.625] Server  LOG     [DB] Values: [50]
[00:19:30.628] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:19:30.629] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:19:30.629] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:19:31.621] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:19:32.616] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:19:32.620] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:19:32.623] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:19:32.624] Server  LOG     [DB] Values: [50]
[00:19:32.631] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:19:32.632] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:19:32.633] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:19:34.619] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:19:34.619] Server  LOG     [DB] Values: [50]
[00:19:34.623] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:19:34.623] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:19:34.624] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:19:36.618] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:19:36.619] Server  LOG     [DB] Values: [50]
[00:19:36.622] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:19:36.626] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:19:36.626] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:19:36.627] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:19:37.623] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:19:37.627] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:19:38.625] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:19:38.626] Server  LOG     [DB] Values: [50]
[00:19:38.629] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:19:38.630] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:19:38.631] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:19:40.648] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:19:40.649] Server  LOG     [DB] Values: [50]
[00:19:40.651] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:19:40.651] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:19:40.661] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:19:41.196] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:19:42.003] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:19:42.008] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:19:42.195] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:19:42.196] Server  LOG     [DB] Values: [50]
[00:19:42.199] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:19:42.201] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:19:42.201] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:19:44.198] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:19:44.198] Server  LOG     [DB] Values: [50]
[00:19:44.202] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:19:44.204] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:19:44.204] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:19:46.199] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:19:46.199] Server  LOG     [DB] Values: [50]
[00:19:46.203] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:19:46.206] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:19:46.207] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:19:46.208] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:19:47.014] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:19:47.018] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:19:48.195] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:19:48.196] Server  LOG     [DB] Values: [50]
[00:19:48.199] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:19:48.200] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:19:48.201] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:19:48.427] Server  LOG     [DB] Query: INSERT INTO activity_logs (user_id, action, action_type, entity_type, entity_id, details) VALUES (?, 'Logged out', 'logout', 'User', ?, ?)
[00:19:48.428] Server  LOG     [DB] Values: [2,2,"{\"message\":\"User logged out\"}"]
[00:19:49.607] Server  LOG     [DB] Query: SELECT id, email, name, role, is_active FROM users WHERE email = ?
[00:19:49.608] Server  LOG     [DB] Values: ["cashier@sodalicious.com"]
[00:19:49.611] Server  LOG     [DB] Query: INSERT INTO activity_logs (user_id, action, action_type, entity_type, entity_id, details) VALUES (?, 'Logged in', 'login', 'User', ?, 'User logged into the system')
[00:19:49.611] Server  LOG     [DB] Values: [1,1]
[00:19:49.720] Server  ERROR   [DB ERROR] Query failed: Error: CONSTRAINT `activity_logs.details` failed for `sodalicious_db`.`activity_logs`
[00:19:49.800] Server  ERROR   Failed to log login activity Error: CONSTRAINT `activity_logs.details` failed for `sodalicious_db`.`activity_logs`
[00:19:49.890] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:19:49.905] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:19:49.910] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:19:49.910] Server  LOG     [DB] Values: [50]
[00:19:49.918] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:19:49.918] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:19:49.927] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:19:49.928] Server  LOG     [DB] Values: [50]
[00:19:49.930] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:19:49.934] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:19:51.879] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:19:51.879] Server  LOG     [DB] Values: [50]
[00:19:51.880] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:19:51.880] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:19:53.881] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:19:53.882] Server  LOG     [DB] Values: [50]
[00:19:53.883] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:19:53.883] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:19:54.882] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:19:55.877] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:19:55.877] Server  LOG     [DB] Values: [50]
[00:19:55.881] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:19:55.882] Server  LOG     [DB] Values: ["5,4,3,2,1"]
[00:19:56.717] Server  LOG     [Order API] Incoming POST request
[00:19:56.718] Server  LOG     [Order API] Processing order with 1 items
[00:19:56.719] Server  LOG     [DB] Query: SELECT id FROM users WHERE role = 'cashier' LIMIT 1
[00:19:56.719] Server  LOG     [Order API] Using Cashier ID: 1
[00:19:56.720] Server  LOG     [DB] Query: INSERT INTO orders (order_number, cashier_id, customer_name, total_amount, payment_method, order_status) VALUES (?, ?, ?, ?, ?, 'completed')
[00:19:56.720] Server  LOG     [DB] Values: ["ORD-1767353370326",1,"Walk-in",59.4,"cash"]
[00:19:56.722] Server  LOG     [DB] Query: SELECT id FROM orders WHERE order_number = ? LIMIT 1
[00:19:56.722] Server  LOG     [DB] Values: ["ORD-1767353370326"]
[00:19:56.724] Server  LOG     [Order API] Created DB Order ID: 6
[00:19:56.724] Server  LOG     [Order API] Mapping item: "Café Latte" (Base: "Café Latte")
[00:19:56.726] Server  LOG     [DB] Query: SELECT id FROM products WHERE name = ? LIMIT 1
[00:19:56.727] Server  LOG     [DB] Values: ["Café Latte"]
[00:19:56.728] Server  LOG     [Order API] Found DB Product: Café Latte (ID: 2)
[00:19:56.728] Server  LOG     [DB] Query: INSERT INTO order_items (order_id, product_id, quantity, unit_price, subtotal) VALUES (?, ?, ?, ?, ?)
[00:19:56.729] Server  LOG     [DB] Values: [6,2,1,55,55]
[00:19:56.730] Server  LOG     [DB] Query: UPDATE products SET stock_quantity = stock_quantity - ? WHERE id = ?
[00:19:56.731] Server  LOG     [DB] Values: [1,2]
[00:19:56.732] Server  LOG     [Order API] Deducted 1 from product stock (ID: 2)
[00:19:56.733] Server  LOG     [DB] Query: SELECT pi.ingredient_id, pi.amount, i.stock_quantity, i.name as ing_name FROM product_ingredients pi JOIN ingredients i ON pi.ingredient_id = i.id WHERE pi.product_id = ?
[00:19:56.734] Server  LOG     [DB] Values: [2]
[00:19:56.735] Server  LOG     [Order API] Found 2 ingredients for Café Latte
[00:19:56.735] Server  LOG     [Order API] Deducting 18 from Espresso Beans. Prev: 4280, New: 4262
[00:19:56.735] Server  LOG     [DB] Query: UPDATE ingredients SET stock_quantity = ? WHERE id = ?
[00:19:56.736] Server  LOG     [DB] Values: [4262,1]
[00:19:56.737] Server  LOG     [DB] Query: INSERT INTO inventory_logs (ingredient_id, user_id, log_type, quantity_changed, reason) VALUES (?, ?, 'sale', ?, ?)
[00:19:56.737] Server  LOG     [DB] Values: [1,1,-18,"Order ORD-1767353370326"]
[00:19:56.738] Server  LOG     [Order API] Deducting 200 from Milk. Prev: 10000, New: 9800
[00:19:56.739] Server  LOG     [DB] Query: UPDATE ingredients SET stock_quantity = ? WHERE id = ?
[00:19:56.739] Server  LOG     [DB] Values: [9800,2]
[00:19:56.740] Server  LOG     [DB] Query: INSERT INTO inventory_logs (ingredient_id, user_id, log_type, quantity_changed, reason) VALUES (?, ?, 'sale', ?, ?)
[00:19:56.741] Server  LOG     [DB] Values: [2,1,-200,"Order ORD-1767353370326"]
[00:19:56.743] Server  LOG     [Order API] ✓ Order ORD-1767353370326 fully processed and synced.
[00:19:56.769] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:19:57.881] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:19:57.881] Server  LOG     [DB] Values: [50]
[00:19:57.883] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:19:57.884] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:19:59.883] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:19:59.888] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:19:59.888] Server  LOG     [DB] Values: [50]
[00:19:59.892] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:19:59.893] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:20:01.878] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:20:01.878] Server  LOG     [DB] Values: [50]
[00:20:01.880] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:20:01.880] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:20:04.613] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:20:04.613] Server  LOG     [DB] Values: [50]
[00:20:04.614] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:20:04.615] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:20:05.615] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:20:06.624] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:20:06.625] Server  LOG     [DB] Values: [50]
[00:20:06.626] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:20:06.626] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:20:08.612] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:20:08.613] Server  LOG     [DB] Values: [50]
[00:20:08.614] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:20:08.614] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:20:10.625] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:20:10.629] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:20:10.630] Server  LOG     [DB] Values: [50]
[00:20:10.633] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:20:10.633] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:20:12.619] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:20:12.619] Server  LOG     [DB] Values: [50]
[00:20:12.620] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:20:12.621] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:20:14.611] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:20:14.611] Server  LOG     [DB] Values: [50]
[00:20:14.612] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:20:14.613] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:20:15.617] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:20:16.611] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:20:16.612] Server  LOG     [DB] Values: [50]
[00:20:16.613] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:20:16.613] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:20:18.622] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:20:18.622] Server  LOG     [DB] Values: [50]
[00:20:18.624] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:20:18.624] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:20:20.624] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:20:20.629] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:20:20.629] Server  LOG     [DB] Values: [50]
[00:20:20.632] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:20:20.633] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:20:22.614] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:20:22.615] Server  LOG     [DB] Values: [50]
[00:20:22.616] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:20:22.616] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:20:24.623] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:20:24.623] Server  LOG     [DB] Values: [50]
[00:20:24.624] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:20:24.625] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:20:25.610] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:20:26.619] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:20:26.620] Server  LOG     [DB] Values: [50]
[00:20:26.621] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:20:26.621] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:20:28.622] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:20:28.623] Server  LOG     [DB] Values: [50]
[00:20:28.624] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:20:28.624] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:20:30.612] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:20:30.616] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:20:30.617] Server  LOG     [DB] Values: [50]
[00:20:30.619] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:20:30.620] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:20:32.615] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:20:32.615] Server  LOG     [DB] Values: [50]
[00:20:32.616] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:20:32.617] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:20:34.610] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:20:34.611] Server  LOG     [DB] Values: [50]
[00:20:34.613] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:20:34.613] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:20:35.617] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:20:36.670] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:20:36.671] Server  LOG     [DB] Values: [50]
[00:20:36.672] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:20:36.672] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:20:38.614] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:20:38.615] Server  LOG     [DB] Values: [50]
[00:20:38.616] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:20:38.617] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:20:40.625] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:20:40.629] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:20:40.630] Server  LOG     [DB] Values: [50]
[00:20:40.632] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:20:40.633] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:20:42.612] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:20:42.612] Server  LOG     [DB] Values: [50]
[00:20:42.613] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:20:42.613] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:20:44.610] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:20:44.610] Server  LOG     [DB] Values: [50]
[00:20:44.612] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:20:44.612] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:20:45.624] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:20:46.613] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:20:46.613] Server  LOG     [DB] Values: [50]
[00:20:46.635] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:20:46.636] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:20:48.615] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:20:48.616] Server  LOG     [DB] Values: [50]
[00:20:48.617] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:20:48.617] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:20:50.624] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:20:50.629] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:20:50.630] Server  LOG     [DB] Values: [50]
[00:20:50.633] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:20:50.634] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:20:52.613] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:20:52.613] Server  LOG     [DB] Values: [50]
[00:20:52.615] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:20:52.615] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:20:54.622] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:20:54.623] Server  LOG     [DB] Values: [50]
[00:20:54.624] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:20:54.624] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:20:55.617] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:20:56.614] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:20:56.615] Server  LOG     [DB] Values: [50]
[00:20:56.616] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:20:56.616] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:20:58.614] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:20:58.614] Server  LOG     [DB] Values: [50]
[00:20:58.615] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:20:58.616] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:21:00.612] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:21:00.616] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:21:00.617] Server  LOG     [DB] Values: [50]
[00:21:00.620] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:21:00.620] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:21:02.618] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:21:02.619] Server  LOG     [DB] Values: [50]
[00:21:02.619] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:21:02.620] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:21:58.621] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:21:58.625] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:21:58.625] Server  LOG     [DB] Values: [50]
[00:21:58.629] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:21:58.629] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:22:58.618] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:22:58.622] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:22:58.623] Server  LOG     [DB] Values: [50]
[00:22:58.625] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:22:58.626] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:23:58.623] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:23:58.628] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:23:58.629] Server  LOG     [DB] Values: [50]
[00:23:58.632] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:23:58.632] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:24:34.601] Server  LOG      ✓ Compiled in 223ms
[00:24:58.624] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:24:58.628] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:24:58.629] Server  LOG     [DB] Values: [50]
[00:24:58.632] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:24:58.633] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:25:11.096] Server  LOG      ✓ Compiled in 66ms
[00:25:11.134] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:25:11.138] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:25:11.139] Server  LOG     [DB] Values: [50]
[00:25:11.141] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:25:11.141] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:25:13.609] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:25:13.610] Server  LOG     [DB] Values: [50]
[00:25:13.611] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:25:13.612] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:25:15.622] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:25:15.623] Server  LOG     [DB] Values: [50]
[00:25:15.624] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:25:15.624] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:25:16.614] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:25:17.623] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:25:17.623] Server  LOG     [DB] Values: [50]
[00:25:17.624] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:25:17.624] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:25:19.617] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:25:19.617] Server  LOG     [DB] Values: [50]
[00:25:19.618] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:25:19.619] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:25:21.138] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:25:21.139] Server  LOG     [DB] Values: [50]
[00:25:21.143] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:25:21.144] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:25:21.145] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:25:23.137] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:25:23.137] Server  LOG     [DB] Values: [50]
[00:25:23.138] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:25:23.139] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:25:23.477] Server  LOG     [DB] Query: INSERT INTO activity_logs (user_id, action, action_type, entity_type, entity_id, details) VALUES (?, 'Logged out', 'logout', 'User', ?, ?)
[00:25:23.477] Server  LOG     [DB] Values: [1,1,"{\"message\":\"User logged out\"}"]
[00:25:26.269] Server  LOG     [DB] Query: SELECT id, email, name, role, is_active FROM users WHERE email = ?
[00:25:26.269] Server  LOG     [DB] Values: ["manager@sodalicious.com"]
[00:25:26.288] Server  LOG     [DB] Query: INSERT INTO activity_logs (user_id, action, action_type, entity_type, entity_id, details) VALUES (?, 'Logged in', 'login', 'User', ?, 'User logged into the system')
[00:25:26.289] Server  LOG     [DB] Values: [2,2]
[00:25:26.383] Server  ERROR   [DB ERROR] Query failed: Error: CONSTRAINT `activity_logs.details` failed for `sodalicious_db`.`activity_logs`
[00:25:26.448] Server  ERROR   Failed to log login activity Error: CONSTRAINT `activity_logs.details` failed for `sodalicious_db`.`activity_logs`
[00:25:26.504] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:25:26.508] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:25:26.518] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:25:26.521] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:25:26.522] Server  LOG     [DB] Values: [50]
[00:25:26.525] Server  LOG     [DB] Query: SELECT id, name, email as username, role, is_active FROM users ORDER BY id ASC
[00:25:26.532] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:25:26.537] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:25:26.537] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:25:26.552] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:25:26.557] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:25:26.562] Server  LOG     [DB] Query: SELECT id, name, email as username, role, is_active FROM users ORDER BY id ASC
[00:25:26.566] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:25:26.576] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:25:26.576] Server  LOG     [DB] Values: [50]
[00:25:26.583] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:25:26.583] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:25:26.590] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:25:28.484] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:25:28.484] Server  LOG     [DB] Values: [50]
[00:25:28.486] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:25:28.486] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:25:28.490] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:25:30.483] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:25:30.488] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:25:30.488] Server  LOG     [DB] Values: [50]
[00:25:30.491] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:25:30.492] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:25:31.484] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:25:31.489] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:25:31.493] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:25:32.483] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:25:32.484] Server  LOG     [DB] Values: [50]
[00:25:32.488] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:25:32.489] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:25:32.489] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:25:33.060] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:25:33.069] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:25:34.484] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:25:34.484] Server  LOG     [DB] Values: [50]
[00:25:34.488] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:25:34.488] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:25:34.489] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:25:35.493] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:25:35.497] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:25:35.505] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:25:35.510] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:25:36.477] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:25:36.477] Server  LOG     [DB] Values: [50]
[00:25:36.482] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:25:36.482] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:25:36.515] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:25:36.556] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:25:38.476] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:25:38.477] Server  LOG     [DB] Values: [50]
[00:25:38.478] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:25:38.478] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:25:38.524] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:25:40.480] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:25:40.480] Server  LOG     [DB] Values: [50]
[00:25:40.484] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:25:40.485] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:25:40.485] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:25:40.537] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:25:40.541] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:25:41.614] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:25:42.696] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:25:42.697] Server  LOG     [DB] Values: [50]
[00:25:42.702] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:25:42.703] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:25:42.703] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:25:44.616] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:25:44.617] Server  LOG     [DB] Values: [50]
[00:25:44.620] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:25:44.621] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:25:44.622] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:25:45.615] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:25:45.619] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:25:46.481] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:25:46.482] Server  LOG     [DB] Values: [50]
[00:25:46.485] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:25:46.489] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:25:46.490] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:25:46.490] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:25:48.611] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:25:48.612] Server  LOG     [DB] Values: [50]
[00:25:48.616] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:25:48.617] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:25:48.617] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:25:50.624] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:25:50.628] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:25:50.628] Server  LOG     [DB] Values: [50]
[00:25:50.632] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:25:50.635] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:25:50.638] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:25:50.639] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:25:51.626] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:25:52.613] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:25:52.613] Server  LOG     [DB] Values: [50]
[00:25:52.616] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:25:52.617] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:25:52.618] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:25:54.617] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:25:54.617] Server  LOG     [DB] Values: [50]
[00:25:54.621] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:25:54.621] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:25:54.622] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:25:55.621] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:25:55.625] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:25:56.615] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:25:56.615] Server  LOG     [DB] Values: [50]
[00:25:56.619] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:25:56.622] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:25:56.623] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:25:56.623] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:25:58.613] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:25:58.614] Server  LOG     [DB] Values: [50]
[00:25:58.618] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:25:58.619] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:25:58.619] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:26:00.613] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:26:00.613] Server  LOG     [DB] Values: [50]
[00:26:00.617] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:26:00.621] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:26:00.625] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:26:00.626] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:26:00.626] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:26:01.614] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:26:02.623] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:26:02.624] Server  LOG     [DB] Values: [50]
[00:26:02.628] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:26:02.629] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:26:02.629] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:26:04.625] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:26:04.625] Server  LOG     [DB] Values: [50]
[00:26:04.629] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:26:04.630] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:26:04.630] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:26:05.623] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:26:05.628] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:26:06.486] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:26:06.486] Server  LOG     [DB] Values: [50]
[00:26:06.491] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:26:06.495] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:26:06.496] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:26:06.497] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:26:08.480] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:26:08.481] Server  LOG     [DB] Values: [50]
[00:26:08.484] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:26:08.485] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:26:08.485] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:26:10.487] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:26:10.487] Server  LOG     [DB] Values: [50]
[00:26:10.490] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:26:10.492] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:26:10.493] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:26:10.544] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:26:10.548] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:26:11.478] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:26:12.478] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:26:12.479] Server  LOG     [DB] Values: [50]
[00:26:12.483] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:26:12.485] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:26:12.485] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:26:14.478] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:26:14.478] Server  LOG     [DB] Values: [50]
[00:26:14.483] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:26:14.484] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:26:14.484] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:26:15.505] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:26:15.509] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:26:16.479] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:26:16.484] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:26:16.484] Server  LOG     [DB] Values: [50]
[00:26:16.490] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:26:16.492] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:26:16.493] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:26:18.477] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:26:18.478] Server  LOG     [DB] Values: [50]
[00:26:18.479] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:26:18.479] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:26:18.530] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:26:20.479] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:26:20.480] Server  LOG     [DB] Values: [50]
[00:26:20.484] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:26:20.485] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:26:20.485] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:26:20.533] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:26:20.536] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:26:21.487] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:26:22.484] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:26:22.484] Server  LOG     [DB] Values: [50]
[00:26:22.488] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:26:22.488] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:26:22.489] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:26:24.488] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:26:24.488] Server  LOG     [DB] Values: [50]
[00:26:24.492] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:26:24.493] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:26:24.494] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:26:25.494] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:26:25.498] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:26:26.292] Server  LOG     [DB] Query: SELECT * FROM products WHERE id = ?
[00:26:26.293] Server  LOG     [DB] Values: ["HC002"]
[00:26:41.539] Browser LOG     Fetching details for: HC002
[00:26:41.539] Browser ERROR   Fetch failed: 404 Not Found
[00:26:41.539] Browser ERROR   {}
[00:26:41.549] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:26:41.550] Server  LOG     [DB] Values: [50]
[00:26:41.553] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:26:41.557] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:26:41.561] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:26:41.566] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:26:41.567] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:26:41.567] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:26:42.482] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:26:42.482] Server  LOG     [DB] Values: [50]
[00:26:42.486] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:26:42.487] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:26:42.488] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:26:44.487] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:26:44.488] Server  LOG     [DB] Values: [50]
[00:26:44.491] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:26:44.492] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:26:44.492] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:26:45.496] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:26:45.501] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:26:46.491] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:26:46.491] Server  LOG     [DB] Values: [50]
[00:26:46.494] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:26:46.498] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:26:46.499] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:26:46.499] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:26:48.624] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:26:48.625] Server  LOG     [DB] Values: [50]
[00:26:48.628] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:26:48.629] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:26:48.630] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:26:50.628] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:26:50.628] Server  LOG     [DB] Values: [50]
[00:26:50.632] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:26:50.638] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:26:50.639] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:26:50.639] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:26:50.668] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:26:51.613] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:26:52.616] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:26:52.617] Server  LOG     [DB] Values: [50]
[00:26:52.620] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:26:52.621] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:26:52.621] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:26:54.481] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:26:54.482] Server  LOG     [DB] Values: [50]
[00:26:54.486] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:26:54.487] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:26:54.487] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:26:55.497] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:26:55.501] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:26:56.487] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:26:56.488] Server  LOG     [DB] Values: [50]
[00:26:56.491] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:26:56.495] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:26:56.498] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:26:56.499] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:26:58.615] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:26:58.616] Server  LOG     [DB] Values: [50]
[00:26:58.620] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:26:58.621] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:26:58.621] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:27:00.617] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:27:00.621] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:27:00.622] Server  LOG     [DB] Values: [50]
[00:27:00.626] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:27:00.629] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:27:00.632] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:27:00.633] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:27:01.612] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:27:02.618] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:27:02.619] Server  LOG     [DB] Values: [50]
[00:27:02.622] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:27:02.623] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:27:02.623] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:27:04.624] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:27:04.625] Server  LOG     [DB] Values: [50]
[00:27:04.628] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:27:04.629] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:27:04.629] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:27:05.624] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:27:05.627] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:27:06.618] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:27:06.619] Server  LOG     [DB] Values: [50]
[00:27:06.622] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:27:06.625] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:27:06.626] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:27:06.626] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:27:08.611] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:27:08.611] Server  LOG     [DB] Values: [50]
[00:27:08.614] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:27:08.615] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:27:08.616] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:27:10.621] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:27:10.622] Server  LOG     [DB] Values: [50]
[00:27:10.625] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:27:10.629] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:27:10.633] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:27:10.634] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:27:10.635] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:27:11.618] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:27:12.624] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:27:12.625] Server  LOG     [DB] Values: [50]
[00:27:12.628] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:27:12.629] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:27:12.630] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:27:14.624] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:27:14.624] Server  LOG     [DB] Values: [50]
[00:27:14.628] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:27:14.629] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:27:14.629] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:27:15.617] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:27:15.621] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:27:16.612] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:27:16.612] Server  LOG     [DB] Values: [50]
[00:27:16.616] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:27:16.620] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:27:16.621] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:27:16.621] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:27:18.625] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:27:18.625] Server  LOG     [DB] Values: [50]
[00:27:18.629] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:27:18.630] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:27:18.630] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:27:20.490] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:27:20.491] Server  LOG     [DB] Values: [50]
[00:27:20.494] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:27:20.495] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:27:20.495] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:27:20.542] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:27:20.545] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:27:21.478] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:27:22.480] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:27:22.480] Server  LOG     [DB] Values: [50]
[00:27:22.483] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:27:22.484] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:27:22.485] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:27:24.479] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:27:24.480] Server  LOG     [DB] Values: [50]
[00:27:24.483] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:27:24.484] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:27:24.484] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:27:25.494] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:27:25.498] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:27:26.481] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:27:26.481] Server  LOG     [DB] Values: [50]
[00:27:26.485] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:27:26.489] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:27:26.490] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:27:26.490] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:27:28.528] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:27:28.532] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:27:28.533] Server  LOG     [DB] Values: [50]
[00:27:28.536] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:27:28.537] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:27:30.478] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:27:30.479] Server  LOG     [DB] Values: [50]
[00:27:30.482] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:27:30.483] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:27:30.483] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:27:30.532] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:27:30.537] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:27:31.480] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:27:32.481] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:27:32.482] Server  LOG     [DB] Values: [50]
[00:27:32.486] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:27:32.487] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:27:32.487] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:27:34.618] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:27:34.618] Server  LOG     [DB] Values: [50]
[00:27:34.622] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:27:34.623] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:27:34.624] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:27:35.624] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:27:35.628] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:27:36.615] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:27:36.616] Server  LOG     [DB] Values: [50]
[00:27:36.619] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:27:36.622] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:27:36.623] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:27:36.623] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:27:38.615] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:27:38.616] Server  LOG     [DB] Values: [50]
[00:27:38.619] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:27:38.620] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:27:38.620] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:27:40.622] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:27:40.623] Server  LOG     [DB] Values: [50]
[00:27:40.626] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:27:40.630] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:27:40.631] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:27:40.631] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:27:40.637] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:27:41.614] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:27:42.614] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:27:42.615] Server  LOG     [DB] Values: [50]
[00:27:42.618] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:27:42.619] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:27:42.620] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:27:44.611] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:27:44.612] Server  LOG     [DB] Values: [50]
[00:27:44.615] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:27:44.616] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:27:44.617] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:27:45.627] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:27:45.631] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:27:46.613] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:27:46.614] Server  LOG     [DB] Values: [50]
[00:27:46.617] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:27:46.621] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:27:46.623] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:27:46.624] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:27:48.622] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:27:48.623] Server  LOG     [DB] Values: [50]
[00:27:48.626] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:27:48.628] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:27:48.628] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:27:50.621] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:27:50.622] Server  LOG     [DB] Values: [50]
[00:27:50.627] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:27:50.630] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:27:50.634] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:27:50.635] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:27:50.635] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:27:51.615] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:27:52.612] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:27:52.613] Server  LOG     [DB] Values: [50]
[00:27:52.616] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:27:52.617] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:27:52.617] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:27:54.624] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:27:54.624] Server  LOG     [DB] Values: [50]
[00:27:54.629] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:27:54.630] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:27:54.630] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:27:55.497] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:27:55.506] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:27:56.488] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:27:56.492] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:27:56.497] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:27:56.498] Server  LOG     [DB] Values: [50]
[00:27:56.507] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:27:56.507] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:27:58.478] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:27:58.478] Server  LOG     [DB] Values: [50]
[00:27:58.479] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:27:58.480] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:27:58.527] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:28:00.483] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:28:00.483] Server  LOG     [DB] Values: [50]
[00:28:00.486] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:28:00.487] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:28:00.488] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:28:00.533] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:28:00.538] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:28:01.487] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:28:02.624] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:28:02.624] Server  LOG     [DB] Values: [50]
[00:28:02.628] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:28:02.629] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:28:02.630] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:28:04.292] Server  LOG      ✓ Compiled in 67ms
[00:28:04.338] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:28:04.343] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:28:04.347] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:28:04.348] Server  LOG     [DB] Values: [50]
[00:28:04.354] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:28:04.355] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:28:04.359] Server  LOG     [DB] Query: SELECT id, name, email as username, role, is_active FROM users ORDER BY id ASC
[00:28:04.365] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:28:04.372] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:28:06.614] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:28:06.615] Server  LOG     [DB] Values: [50]
[00:28:06.618] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:28:06.619] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:28:06.619] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:28:08.623] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:28:08.623] Server  LOG     [DB] Values: [50]
[00:28:08.627] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:28:08.628] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:28:08.628] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:28:09.610] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:28:09.614] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:28:09.617] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:28:10.621] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:28:10.622] Server  LOG     [DB] Values: [50]
[00:28:10.625] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:28:10.626] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:28:10.626] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:28:12.617] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:28:12.618] Server  LOG     [DB] Values: [50]
[00:28:12.621] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:28:12.622] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:28:12.622] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:28:14.619] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:28:14.624] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:28:14.628] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:28:14.628] Server  LOG     [DB] Values: [50]
[00:28:14.632] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:28:14.637] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:28:14.641] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:28:14.642] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:28:16.621] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:28:16.622] Server  LOG     [DB] Values: [50]
[00:28:16.625] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:28:16.626] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:28:16.626] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:28:17.933] Server  LOG      ✓ Compiled in 61ms
[00:28:17.980] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:28:17.984] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:28:17.988] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:28:17.989] Server  LOG     [DB] Values: [50]
[00:28:17.997] Server  LOG     [DB] Query: SELECT id, name, email as username, role, is_active FROM users ORDER BY id ASC
[00:28:17.997] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:28:17.998] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:28:18.003] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:28:18.029] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:28:20.615] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:28:20.615] Server  LOG     [DB] Values: [50]
[00:28:20.619] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:28:20.619] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:28:20.620] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:28:22.618] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:28:22.619] Server  LOG     [DB] Values: [50]
[00:28:22.622] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:28:22.623] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:28:22.623] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:28:23.625] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:28:23.629] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:28:23.632] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:28:24.621] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:28:24.622] Server  LOG     [DB] Values: [50]
[00:28:24.625] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:28:24.626] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:28:24.626] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:28:26.617] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:28:26.617] Server  LOG     [DB] Values: [50]
[00:28:26.620] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:28:26.621] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:28:26.622] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:28:28.627] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:28:28.630] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:28:28.634] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:28:28.634] Server  LOG     [DB] Values: [50]
[00:28:28.639] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:28:28.644] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:28:28.644] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:28:28.648] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:28:30.616] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:28:30.616] Server  LOG     [DB] Values: [50]
[00:28:30.620] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:28:30.620] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:28:30.621] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:28:32.618] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:28:32.618] Server  LOG     [DB] Values: [50]
[00:28:32.622] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:28:32.622] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:28:32.623] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:28:33.617] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:28:33.621] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:28:33.624] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:28:34.624] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:28:34.625] Server  LOG     [DB] Values: [50]
[00:28:34.628] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:28:34.629] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:28:34.629] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:28:36.621] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:28:36.622] Server  LOG     [DB] Values: [50]
[00:28:36.625] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:28:36.626] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:28:36.626] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:28:38.618] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:28:38.621] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:28:38.626] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:28:38.627] Server  LOG     [DB] Values: [50]
[00:28:38.634] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:28:38.641] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:28:38.642] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:28:38.643] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:28:40.623] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:28:40.624] Server  LOG     [DB] Values: [50]
[00:28:40.627] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:28:40.628] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:28:40.629] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:28:42.616] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:28:42.617] Server  LOG     [DB] Values: [50]
[00:28:42.620] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:28:42.621] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:28:42.621] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:28:43.625] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:28:43.629] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:28:43.632] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:28:44.613] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:28:44.613] Server  LOG     [DB] Values: [50]
[00:28:44.617] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:28:44.617] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:28:44.618] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:28:46.615] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:28:46.615] Server  LOG     [DB] Values: [50]
[00:28:46.619] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:28:46.619] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:28:46.620] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:28:48.622] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:28:48.626] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:28:48.630] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:28:48.630] Server  LOG     [DB] Values: [50]
[00:28:48.635] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:28:48.645] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:28:48.646] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:28:48.646] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:28:50.616] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:28:50.617] Server  LOG     [DB] Values: [50]
[00:28:50.621] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:28:50.622] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:28:50.622] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:28:52.614] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:28:52.614] Server  LOG     [DB] Values: [50]
[00:28:52.618] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:28:52.618] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:28:52.619] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:28:53.625] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:28:53.629] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:28:53.632] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:28:54.614] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:28:54.615] Server  LOG     [DB] Values: [50]
[00:28:54.618] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:28:54.619] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:28:54.619] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:28:56.614] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:28:56.615] Server  LOG     [DB] Values: [50]
[00:28:56.618] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:28:56.619] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:28:56.619] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:28:58.620] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:28:58.625] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:28:58.629] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:28:58.630] Server  LOG     [DB] Values: [50]
[00:28:58.638] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:28:58.640] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:28:58.640] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:28:58.647] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:29:00.610] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:29:00.610] Server  LOG     [DB] Values: [50]
[00:29:00.614] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:29:00.614] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:29:00.615] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:29:13.586] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:29:13.587] Server  LOG     [DB] Values: [50]
[00:29:13.596] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:29:13.597] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:29:13.604] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:29:13.611] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:29:13.616] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:29:13.620] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:29:13.977] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:29:13.978] Server  LOG     [DB] Values: [50]
[00:29:13.979] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:29:13.979] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:29:14.030] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:29:15.981] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:29:15.982] Server  LOG     [DB] Values: [50]
[00:29:15.985] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:29:15.986] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:29:15.986] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:29:17.978] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:29:17.982] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:29:17.985] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:29:17.985] Server  LOG     [DB] Values: [50]
[00:29:17.990] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:29:17.991] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:29:18.030] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:29:18.034] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:29:20.684] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:29:20.685] Server  LOG     [DB] Values: [50]
[00:29:20.689] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:29:20.691] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:29:20.691] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:29:22.614] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:29:22.615] Server  LOG     [DB] Values: [50]
[00:29:22.619] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:29:22.620] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:29:22.621] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:29:23.610] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:29:23.614] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:29:23.618] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:29:24.619] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:29:24.620] Server  LOG     [DB] Values: [50]
[00:29:24.624] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:29:24.625] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:29:24.625] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:29:26.624] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:29:26.624] Server  LOG     [DB] Values: [50]
[00:29:26.628] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:29:26.629] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:29:26.629] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:29:28.612] Server  LOG     [DB] Query: SELECT p.id, p.name, p.category, p.price, p.description, p.is_active, p.created_at, p.updated_at, p.stock_quantity, COALESCE( ( SELECT i2.name FROM product_ingredients pi2 JOIN ingredients i2 ON pi2.ingredient_id = i2.id WHERE pi2.product_id = p.id ORDER BY (i2.stock_quantity / pi2.amount) ASC LIMIT 1 ), 'Recipe Missing' ) as bottleneck_ingredient, ( SELECT GROUP_CONCAT(CONCAT(i3.name, ' (', pi3.amount, i3.unit, ')') SEPARATOR ', ') FROM product_ingredients pi3 JOIN ingredients i3 ON pi3.ingredient_id = i3.id WHERE pi3.product_id = p.id ) as ingredients_list FROM products p LEFT JOIN product_ingredients pi ON p.id = pi.product_id LEFT JOIN ingredients i ON pi.ingredient_id = i.id WHERE p.is_active = true GROUP BY p.id ORDER BY p.name
[00:29:28.616] Server  LOG     [DB] Query: SELECT id, name, unit, stock_quantity, reorder_level, CASE WHEN stock_quantity < 18 THEN 'LOW' WHEN stock_quantity <= 50 THEN 'MEDIUM' ELSE 'OK' END as stock_status FROM ingredients ORDER BY name ASC
[00:29:28.622] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:29:28.622] Server  LOG     [DB] Values: [50]
[00:29:28.649] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
[00:29:28.653] Server  LOG     [DB] Query: SELECT al.*, u.name as user_name FROM activity_logs al LEFT JOIN users u ON al.user_id = u.id ORDER BY al.created_at DESC LIMIT 50
[00:29:28.654] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:29:28.654] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:29:30.637] Server  LOG     [DB] Query: SELECT o.*, u.name as cashier_name FROM orders o LEFT JOIN users u ON o.cashier_id = u.id ORDER BY o.created_at DESC LIMIT ?
[00:29:30.638] Server  LOG     [DB] Values: [50]
[00:29:30.639] Server  LOG     [DB] Query: SELECT oi.*, p.name FROM order_items oi LEFT JOIN products p ON oi.product_id = p.id WHERE oi.order_id IN (?)
[00:29:30.640] Server  LOG     [DB] Values: ["6,5,4,3,2,1"]
[00:29:30.657] Server  LOG     [DB] Query: SELECT il.*, i.name as ingredient_name, u.name as user_name FROM inventory_logs il LEFT JOIN ingredients i ON il.ingredient_id = i.id LEFT JOIN users u ON il.user_id = u.id ORDER BY il.created_at DESC LIMIT 100
