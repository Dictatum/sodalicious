module.exports=[11518,e=>{"use strict";var t=e.i(47909),i=e.i(74017),r=e.i(96250),o=e.i(59756),s=e.i(61916),a=e.i(14444),c=e.i(37092),n=e.i(69741),d=e.i(16795),l=e.i(87718),p=e.i(95169),h=e.i(47587),u=e.i(66012),m=e.i(70101),C=e.i(26937),g=e.i(10372),y=e.i(93695);e.i(52474);var z=e.i(220),R=e.i(62294),S=e.i(89171);let k=[{id:"HC001",name:"Americano",category:"Hot Coffee",categoryCode:"HC",sizes:[{size:"S",price:45},{size:"M",price:55},{size:"L",price:65}],description:"Classic Italian espresso with hot water",stock:40,minThreshold:10},{id:"HC002",name:"CafÃ© Latte",category:"Hot Coffee",categoryCode:"HC",sizes:[{size:"S",price:55},{size:"M",price:65},{size:"L",price:75}],description:"Smooth espresso with steamed milk",stock:40,minThreshold:10},{id:"HC003",name:"Cappuccino",category:"Hot Coffee",categoryCode:"HC",sizes:[{size:"S",price:55},{size:"M",price:65},{size:"L",price:75}],description:"Espresso with equal parts milk and foam",stock:40,minThreshold:10},{id:"HC004",name:"Caramel Macchiato",category:"Hot Coffee",categoryCode:"HC",sizes:[{size:"S",price:60},{size:"M",price:70},{size:"L",price:80}],description:"Rich espresso with caramel and steamed milk",stock:40,minThreshold:8},{id:"HC005",name:"Mocha",category:"Hot Coffee",categoryCode:"HC",sizes:[{size:"S",price:60},{size:"M",price:70},{size:"L",price:80}],description:"Espresso, steamed milk, and chocolate",stock:40,minThreshold:8},{id:"IC001",name:"Iced Americano",category:"Iced Coffee",categoryCode:"IC",sizes:[{size:"R",price:55},{size:"L",price:65}],description:"Cold espresso with ice and water",stock:40,minThreshold:12},{id:"IC002",name:"Iced Latte",category:"Iced Coffee",categoryCode:"IC",sizes:[{size:"R",price:65},{size:"L",price:75}],description:"Smooth iced espresso with cold milk",stock:40,minThreshold:12},{id:"IC003",name:"Iced Caramel",category:"Iced Coffee",categoryCode:"IC",sizes:[{size:"R",price:70},{size:"L",price:80}],description:"Iced espresso with caramel and milk",stock:40,minThreshold:10},{id:"IC004",name:"Iced Vanilla Brew",category:"Iced Coffee",categoryCode:"IC",sizes:[{size:"R",price:65},{size:"L",price:75}],description:"Cold brew with vanilla essence",stock:40,minThreshold:12},{id:"IC005",name:"Iced Mocha",category:"Iced Coffee",categoryCode:"IC",sizes:[{size:"R",price:70},{size:"L",price:80}],description:"Iced espresso with chocolate and milk",stock:40,minThreshold:10},{id:"FR001",name:"Chocolate Frappe",category:"Frappes",categoryCode:"FR",sizes:[{size:"16oz",price:75}],description:"Blended chocolate frappe with whipped cream",stock:40,minThreshold:8},{id:"FR002",name:"Caramel Frappe",category:"Frappes",categoryCode:"FR",sizes:[{size:"16oz",price:75}],description:"Blended caramel frappe with whipped cream",stock:40,minThreshold:8},{id:"FR003",name:"Cookies & Cream Frappe",category:"Frappes",categoryCode:"FR",sizes:[{size:"16oz",price:80}],description:"Cookies and cream blended frappe",stock:40,minThreshold:8},{id:"FR004",name:"Matcha Frappe",category:"Frappes",categoryCode:"FR",sizes:[{size:"16oz",price:85}],description:"Blended matcha frappe with whipped cream",stock:40,minThreshold:6},{id:"FR005",name:"Coffee Jelly Frappe",category:"Frappes",categoryCode:"FR",sizes:[{size:"16oz",price:80}],description:"Coffee frappe with coffee jelly bits",stock:40,minThreshold:8},{id:"SS001",name:"Blue Lemon Soda",category:"Soda Series",categoryCode:"SS",sizes:[{size:"R",price:55},{size:"L",price:65}],description:"Refreshing blue lemon carbonated drink",stock:40,minThreshold:15},{id:"SS002",name:"Strawberry Fizz",category:"Soda Series",categoryCode:"SS",sizes:[{size:"R",price:55},{size:"L",price:65}],description:"Sweet strawberry flavored soda",stock:40,minThreshold:15},{id:"SS003",name:"Green Apple Soda",category:"Soda Series",categoryCode:"SS",sizes:[{size:"R",price:55},{size:"L",price:65}],description:"Crisp green apple soda",stock:40,minThreshold:15},{id:"SS004",name:"Lychee Pop Soda",category:"Soda Series",categoryCode:"SS",sizes:[{size:"R",price:60},{size:"L",price:70}],description:"Tropical lychee flavored soda",stock:40,minThreshold:12},{id:"SS005",name:"Mango Burst Soda",category:"Soda Series",categoryCode:"SS",sizes:[{size:"R",price:60},{size:"L",price:70}],description:"Tropical mango soda explosion",stock:40,minThreshold:12},{id:"YK001",name:"Blue Yakult",category:"Yakult Series",categoryCode:"YK",sizes:[{size:"R",price:60},{size:"L",price:70}],description:"Probiotic blue flavored Yakult",stock:40,minThreshold:10},{id:"YK002",name:"Strawberry Yakult",category:"Yakult Series",categoryCode:"YK",sizes:[{size:"R",price:60},{size:"L",price:70}],description:"Probiotic strawberry Yakult",stock:40,minThreshold:10},{id:"YK003",name:"Green Apple Yakult",category:"Yakult Series",categoryCode:"YK",sizes:[{size:"R",price:60},{size:"L",price:70}],description:"Probiotic green apple Yakult",stock:40,minThreshold:10},{id:"YK004",name:"Mango Yakult",category:"Yakult Series",categoryCode:"YK",sizes:[{size:"R",price:60},{size:"L",price:70}],description:"Probiotic mango Yakult",stock:40,minThreshold:10},{id:"YK005",name:"Lychee Yakult",category:"Yakult Series",categoryCode:"YK",sizes:[{size:"R",price:60},{size:"L",price:70}],description:"Probiotic lychee Yakult",stock:40,minThreshold:10},{id:"MC001",name:"Classic Matcha",category:"Matcha Series",categoryCode:"MC",sizes:[{size:"R",price:70},{size:"L",price:80}],description:"Traditional matcha powder blend",stock:40,minThreshold:8},{id:"MC002",name:"Matcha Latte",category:"Matcha Series",categoryCode:"MC",sizes:[{size:"R",price:75},{size:"L",price:85}],description:"Matcha with steamed milk",stock:40,minThreshold:8},{id:"MC003",name:"Matcha Caramel",category:"Matcha Series",categoryCode:"MC",sizes:[{size:"R",price:80},{size:"L",price:90}],description:"Matcha with caramel drizzle",stock:40,minThreshold:6},{id:"MC004",name:"Matcha Vanilla",category:"Matcha Series",categoryCode:"MC",sizes:[{size:"R",price:75},{size:"L",price:85}],description:"Matcha with vanilla essence",stock:40,minThreshold:8},{id:"MC005",name:"Dirty Matcha",category:"Matcha Series",categoryCode:"MC",sizes:[{size:"R",price:85},{size:"L",price:95}],description:"Matcha with espresso shot",stock:40,minThreshold:6},{id:"CM001",name:"Fries + Soda",category:"Combo Meals",categoryCode:"CM",sizes:[{size:"Combo",price:99}],description:"Regular Fries + Regular Soda",stock:40,minThreshold:10},{id:"CM002",name:"Siomai Rice + Soda",category:"Combo Meals",categoryCode:"CM",sizes:[{size:"Combo",price:110}],description:"Siomai Rice + Regular Soda",stock:40,minThreshold:8},{id:"CM003",name:"Burger + Soda",category:"Combo Meals",categoryCode:"CM",sizes:[{size:"Combo",price:120}],description:"Cheeseburger + Regular Soda",stock:40,minThreshold:8},{id:"CM004",name:"Nuggets + Soda",category:"Combo Meals",categoryCode:"CM",sizes:[{size:"Combo",price:115}],description:"6pcs Nuggets + Regular Soda",stock:40,minThreshold:8},{id:"CM005",name:"Hotdog + Soda",category:"Combo Meals",categoryCode:"CM",sizes:[{size:"Combo",price:99}],description:"Hotdog Sandwich + Regular Soda",stock:40,minThreshold:10},{id:"SN001",name:"Fries",category:"Snacks",categoryCode:"SN",sizes:[{size:"Reg",price:45},{size:"Lrg",price:60}],description:"Crispy golden fries",stock:40,minThreshold:15},{id:"SN002",name:"Kropek",category:"Snacks",categoryCode:"SN",sizes:[{size:"Solo",price:45}],description:"Crispy prawn cracker",stock:40,minThreshold:10},{id:"SN003",name:"Nachos",category:"Snacks",categoryCode:"SN",sizes:[{size:"Solo",price:60}],description:"Cheese nachos with dip",stock:40,minThreshold:8},{id:"SN004",name:"Cheese Sticks",category:"Snacks",categoryCode:"SN",sizes:[{size:"6 pcs",price:50}],description:"Golden fried cheese sticks",stock:40,minThreshold:10},{id:"SN005",name:"Siomai Rice",category:"Snacks",categoryCode:"SN",sizes:[{size:"Solo",price:55}],description:"Siomai served with rice",stock:40,minThreshold:10}];async function f(e,{params:t}){try{let{id:o}=await t,{name:s,category:a,price:c,description:n,stock_quantity:d,reorder_level:l}=await e.json(),p=await R.sql`
      UPDATE products SET name = ${s}, category = ${a}, price = ${c}, description = ${n}, 
      stock_quantity = ${d}, reorder_level = ${l}, updated_at = CURRENT_TIMESTAMP 
      WHERE id = ${Number.parseInt(o)} RETURNING *
    `;if(0===p.length)return S.NextResponse.json({error:"Product not found"},{status:404});try{var i,r;let e;p.length>0&&(i=p[0].name,r=p[0].stock_quantity,(e=k.find(e=>e.name===i))&&(e.stock=Math.max(0,r)))}catch(e){console.warn("[Products] Failed to sync in-memory menu-data after product update",e)}return S.NextResponse.json(p[0])}catch(e){return console.error("[v0] Product PUT error:",e),S.NextResponse.json({error:"Failed to update product"},{status:500})}}async function T(e,{params:t}){try{let{id:e}=await t;return await R.sql`UPDATE products SET is_active = false WHERE id = ${Number.parseInt(e)}`,S.NextResponse.json({success:!0})}catch(e){return console.error("[v0] Product DELETE error:",e),S.NextResponse.json({error:"Failed to delete product"},{status:500})}}e.s(["DELETE",()=>T,"PUT",()=>f],52203);var w=e.i(52203);let M=new t.AppRouteRouteModule({definition:{kind:i.RouteKind.APP_ROUTE,page:"/api/products/[id]/route",pathname:"/api/products/[id]",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/app/api/products/[id]/route.ts",nextConfigOutput:"",userland:w}),{workAsyncStorage:E,workUnitAsyncStorage:v,serverHooks:b}=M;function N(){return(0,r.patchFetch)({workAsyncStorage:E,workUnitAsyncStorage:v})}async function I(e,t,r){M.isDev&&(0,o.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let R="/api/products/[id]/route";R=R.replace(/\/index$/,"")||"/";let S=await M.prepare(e,t,{srcPage:R,multiZoneDraftMode:!1});if(!S)return t.statusCode=400,t.end("Bad Request"),null==r.waitUntil||r.waitUntil.call(r,Promise.resolve()),null;let{buildId:k,params:f,nextConfig:T,parsedUrl:w,isDraftMode:E,prerenderManifest:v,routerServerContext:b,isOnDemandRevalidate:N,revalidateOnlyGenerated:I,resolvedPathname:L,clientReferenceManifest:x,serverActionsManifest:P}=S,A=(0,n.normalizeAppPath)(R),H=!!(v.dynamicRoutes[A]||v.routes[L]),F=async()=>((null==b?void 0:b.render404)?await b.render404(e,t,w,!1):t.end("This page could not be found"),null);if(H&&!E){let e=!!v.routes[L],t=v.dynamicRoutes[A];if(t&&!1===t.fallback&&!e){if(T.experimental.adapterPath)return await F();throw new y.NoFallbackError}}let _=null;!H||M.isDev||E||(_="/index"===(_=L)?"/":_);let Y=!0===M.isDev||!H,U=H&&!Y;P&&x&&(0,a.setReferenceManifestsSingleton)({page:R,clientReferenceManifest:x,serverActionsManifest:P,serverModuleMap:(0,c.createServerModuleMap)({serverActionsManifest:P})});let O=e.method||"GET",q=(0,s.getTracer)(),K=q.getActiveScopeSpan(),D={params:f,prerenderManifest:v,renderOpts:{experimental:{authInterrupts:!!T.experimental.authInterrupts},cacheComponents:!!T.cacheComponents,supportsDynamicResponse:Y,incrementalCache:(0,o.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:T.cacheLife,waitUntil:r.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,i,r)=>M.onRequestError(e,t,r,b)},sharedContext:{buildId:k}},$=new d.NodeNextRequest(e),j=new d.NodeNextResponse(t),B=l.NextRequestAdapter.fromNodeNextRequest($,(0,l.signalFromNodeResponse)(t));try{let a=async e=>M.handle(B,D).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let i=q.getRootSpanAttributes();if(!i)return;if(i.get("next.span_type")!==p.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${i.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let r=i.get("next.route");if(r){let t=`${O} ${r}`;e.setAttributes({"next.route":r,"http.route":r,"next.span_name":t}),e.updateName(t)}else e.updateName(`${O} ${R}`)}),c=!!(0,o.getRequestMeta)(e,"minimalMode"),n=async o=>{var s,n;let d=async({previousCacheEntry:i})=>{try{if(!c&&N&&I&&!i)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let s=await a(o);e.fetchMetrics=D.renderOpts.fetchMetrics;let n=D.renderOpts.pendingWaitUntil;n&&r.waitUntil&&(r.waitUntil(n),n=void 0);let d=D.renderOpts.collectedTags;if(!H)return await (0,u.sendResponse)($,j,s,D.renderOpts.pendingWaitUntil),null;{let e=await s.blob(),t=(0,m.toNodeOutgoingHttpHeaders)(s.headers);d&&(t[g.NEXT_CACHE_TAGS_HEADER]=d),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let i=void 0!==D.renderOpts.collectedRevalidate&&!(D.renderOpts.collectedRevalidate>=g.INFINITE_CACHE)&&D.renderOpts.collectedRevalidate,r=void 0===D.renderOpts.collectedExpire||D.renderOpts.collectedExpire>=g.INFINITE_CACHE?void 0:D.renderOpts.collectedExpire;return{value:{kind:z.CachedRouteKind.APP_ROUTE,status:s.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:i,expire:r}}}}catch(t){throw(null==i?void 0:i.isStale)&&await M.onRequestError(e,t,{routerKind:"App Router",routePath:R,routeType:"route",revalidateReason:(0,h.getRevalidateReason)({isStaticGeneration:U,isOnDemandRevalidate:N})},b),t}},l=await M.handleResponse({req:e,nextConfig:T,cacheKey:_,routeKind:i.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:v,isRoutePPREnabled:!1,isOnDemandRevalidate:N,revalidateOnlyGenerated:I,responseGenerator:d,waitUntil:r.waitUntil,isMinimalMode:c});if(!H)return null;if((null==l||null==(s=l.value)?void 0:s.kind)!==z.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==l||null==(n=l.value)?void 0:n.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});c||t.setHeader("x-nextjs-cache",N?"REVALIDATED":l.isMiss?"MISS":l.isStale?"STALE":"HIT"),E&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let p=(0,m.fromNodeOutgoingHttpHeaders)(l.value.headers);return c&&H||p.delete(g.NEXT_CACHE_TAGS_HEADER),!l.cacheControl||t.getHeader("Cache-Control")||p.get("Cache-Control")||p.set("Cache-Control",(0,C.getCacheControlHeader)(l.cacheControl)),await (0,u.sendResponse)($,j,new Response(l.value.body,{headers:p,status:l.value.status||200})),null};K?await n(K):await q.withPropagatedContext(e.headers,()=>q.trace(p.BaseServerSpan.handleRequest,{spanName:`${O} ${R}`,kind:s.SpanKind.SERVER,attributes:{"http.method":O,"http.target":e.url}},n))}catch(t){if(t instanceof y.NoFallbackError||await M.onRequestError(e,t,{routerKind:"App Router",routePath:A,routeType:"route",revalidateReason:(0,h.getRevalidateReason)({isStaticGeneration:U,isOnDemandRevalidate:N})}),H)throw t;return await (0,u.sendResponse)($,j,new Response(null,{status:500})),null}}e.s(["handler",()=>I,"patchFetch",()=>N,"routeModule",()=>M,"serverHooks",()=>b,"workAsyncStorage",()=>E,"workUnitAsyncStorage",()=>v],11518)}];

//# sourceMappingURL=node_modules_next_dist_esm_build_templates_app-route_74b1edd8.js.map